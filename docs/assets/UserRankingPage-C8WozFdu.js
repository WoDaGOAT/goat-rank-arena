import{s as x,a as J,j as e,H as ge,r as d,B as L,L as k,C as K,K as pe,N as ye,O as he,Q,U as fe,V as Ae,W as f,Y as ve,Z as xe,_ as be,$ as ke,a0 as Ce,a1 as Se,a2 as Le,z as Oe,u as Ue,e as Fe,J as w,o as we,A as V,g as Z,i as Y,S as Ee,k as S,a3 as $,l as X,m as ee,n as ae,a4 as Re,f as te}from"./index-D6Dh-tOY.js";import{f as je}from"./format-BHf82gLm.js";import{S as z,R as Be}from"./RankedAthleteRow-DhcuKDpD.js";import{S as Pe}from"./SocialActions-w3zlBMlD.js";import{S as De}from"./ShareDialog-WkeXcJas.js";import"./flame-DVX3-eVT.js";const Ie=async a=>{console.log("fetchRankingData: Fetching core ranking data for ID:",a);const{data:t,error:n}=await x.from("user_rankings").select("*").eq("id",a).maybeSingle();if(n)throw console.error("fetchRankingData: Error fetching ranking:",n),new Error(`Failed to fetch ranking: ${n.message}`);return t?(console.log("fetchRankingData: SUCCESS - Found ranking data:",t),t):(console.warn(`fetchRankingData: No ranking found for ID ${a}`),null)},Ne=async a=>{try{console.log("fetchProfileData: Fetching profile data for user:",a);const{data:t,error:n}=await x.from("profiles").select("full_name, avatar_url").eq("id",a).maybeSingle();return n?(console.error(`fetchProfileData: Profile error for user ${a}:`,n),null):(console.log("fetchProfileData: SUCCESS - Profile data:",t),t)}catch(t){return console.error("fetchProfileData: Profile fetch failed:",t),null}},Me=async a=>{try{console.log("fetchCategoryData: Fetching category data for category:",a);const{data:t,error:n}=await x.from("categories").select("name").eq("id",a).maybeSingle();return n?(console.error(`fetchCategoryData: Category error for category ${a}:`,n),null):(console.log("fetchCategoryData: SUCCESS - Category data:",t),t)}catch(t){return console.error("fetchCategoryData: Category fetch failed:",t),null}},Te=async a=>{console.log("fetchRankingAthletes: Fetching athletes data for ranking:",a);const{data:t,error:n}=await x.from("ranking_athletes").select("athlete_id, position, points").eq("ranking_id",a).order("position",{ascending:!0});if(n)throw console.error("fetchRankingAthletes: Athletes error:",n),new Error(`Failed to fetch ranking athletes: ${n.message}`);return console.log("fetchRankingAthletes: SUCCESS - Athletes data:",t),t||[]},_e=async a=>{if(a.length===0)return[];try{console.log("fetchDatabaseAthletes: Fetching database athletes for IDs:",a);const{data:t,error:n}=await x.from("athletes").select("id, name, profile_picture_url").in("id",a);return n?(console.error("fetchDatabaseAthletes: Database athletes error:",n),[]):(console.log("fetchDatabaseAthletes: SUCCESS - Database athletes found:",(t==null?void 0:t.length)||0),t||[])}catch(t){return console.error("fetchDatabaseAthletes: Database athletes fetch failed:",t),[]}},H=[{id:"pele",rank:1,name:"PelÃ©",imageUrl:"photo-1493962853295-0fd70327578a",points:15e3,movement:"neutral",dateOfBirth:"1940-10-23",dateOfDeath:"2022-12-29",isActive:!1,countryOfOrigin:"Brazil",nationality:"Brazilian",clubs:[{name:"Santos",country:"Brazil",league:"Campeonato Paulista",yearsActive:"1956-1974"},{name:"New York Cosmos",country:"USA",league:"NASL",yearsActive:"1975-1977"}],competitions:[{name:"FIFA World Cup",type:"international"},{name:"Copa Libertadores",type:"continental"},{name:"Campeonato Brasileiro",type:"domestic"}],positions:["Forward","Attacking Midfielder"]},{id:"maradona",rank:2,name:"Diego Maradona",imageUrl:"photo-1466721591366-2d5fba72006d",points:14800,movement:"neutral",dateOfBirth:"1960-10-30",dateOfDeath:"2020-11-25",isActive:!1,countryOfOrigin:"Argentina",nationality:"Argentine",clubs:[{name:"Argentinos Juniors",country:"Argentina",league:"Primera DivisiÃ³n",yearsActive:"1976-1981"},{name:"Boca Juniors",country:"Argentina",league:"Primera DivisiÃ³n",yearsActive:"1981-1982"},{name:"Barcelona",country:"Spain",league:"La Liga",yearsActive:"1982-1984"},{name:"Napoli",country:"Italy",league:"Serie A",yearsActive:"1984-1991"}],competitions:[{name:"FIFA World Cup",type:"international"},{name:"UEFA Cup",type:"continental"},{name:"Serie A",type:"domestic"}],positions:["Attacking Midfielder","Forward"]},{id:"cruyff",rank:3,name:"Johan Cruyff",imageUrl:"photo-1452378174528-3090a4bba7b2",points:14500,movement:"neutral",dateOfBirth:"1947-04-25",dateOfDeath:"2016-03-24",isActive:!1,countryOfOrigin:"Netherlands",nationality:"Dutch",clubs:[{name:"Ajax",country:"Netherlands",league:"Eredivisie",yearsActive:"1964-1973"},{name:"Barcelona",country:"Spain",league:"La Liga",yearsActive:"1973-1978"},{name:"Los Angeles Aztecs",country:"USA",league:"NASL",yearsActive:"1979-1980"}],competitions:[{name:"European Cup",type:"continental"},{name:"La Liga",type:"domestic"},{name:"Eredivisie",type:"domestic"}],positions:["Forward","Attacking Midfielder","Midfielder"]},{id:"beckenbauer",rank:4,name:"Franz Beckenbauer",imageUrl:"photo-1441057206919-63d19fac2369",points:14200,movement:"neutral",dateOfBirth:"1945-09-11",dateOfDeath:"2024-01-07",isActive:!1,countryOfOrigin:"Germany",nationality:"German",clubs:[{name:"Bayern Munich",country:"Germany",league:"Bundesliga",yearsActive:"1964-1977"},{name:"New York Cosmos",country:"USA",league:"NASL",yearsActive:"1977-1980"}],competitions:[{name:"FIFA World Cup",type:"international"},{name:"European Cup",type:"continental"},{name:"Bundesliga",type:"domestic"}],positions:["Sweeper","Centre-Back","Defensive Midfielder"]},{id:"zico",rank:5,name:"Zico",imageUrl:"photo-1493962853295-0fd70327578a",points:13800,movement:"neutral",dateOfBirth:"1953-03-03",isActive:!1,countryOfOrigin:"Brazil",nationality:"Brazilian",clubs:[{name:"Flamengo",country:"Brazil",league:"Campeonato Brasileiro",yearsActive:"1971-1983"},{name:"Udinese",country:"Italy",league:"Serie A",yearsActive:"1983-1985"},{name:"Kashima Antlers",country:"Japan",league:"J-League",yearsActive:"1991-1994"}],competitions:[{name:"FIFA World Cup",type:"international"},{name:"Copa Libertadores",type:"continental"},{name:"Campeonato Brasileiro",type:"domestic"}],positions:["Attacking Midfielder","Forward"]},{id:"messi",rank:6,name:"Lionel Messi",imageUrl:"lionel-messi",points:15500,movement:"neutral",dateOfBirth:"1987-06-24",isActive:!0,countryOfOrigin:"Argentina",nationality:"Argentine",clubs:[{name:"Barcelona",country:"Spain",league:"La Liga",yearsActive:"2004-2021"},{name:"Paris Saint-Germain",country:"France",league:"Ligue 1",yearsActive:"2021-2023"},{name:"Inter Miami",country:"USA",league:"MLS",yearsActive:"2023-present"}],competitions:[{name:"FIFA World Cup",type:"international"},{name:"UEFA Champions League",type:"continental"},{name:"La Liga",type:"domestic"},{name:"Copa America",type:"international"}],positions:["Right Winger","Attacking Midfielder","Forward"]},{id:"cristiano",rank:7,name:"Cristiano Ronaldo",imageUrl:"cristiano-ronaldo",points:15200,movement:"up",dateOfBirth:"1985-02-05",isActive:!0,countryOfOrigin:"Portugal",nationality:"Portuguese",clubs:[{name:"Sporting CP",country:"Portugal",league:"Primeira Liga",yearsActive:"2002-2003"},{name:"Manchester United",country:"England",league:"Premier League",yearsActive:"2003-2009"},{name:"Real Madrid",country:"Spain",league:"La Liga",yearsActive:"2009-2018"},{name:"Juventus",country:"Italy",league:"Serie A",yearsActive:"2018-2021"},{name:"Manchester United",country:"England",league:"Premier League",yearsActive:"2021-2022"},{name:"Al Nassr",country:"Saudi Arabia",league:"Saudi Pro League",yearsActive:"2023-present"}],competitions:[{name:"UEFA Champions League",type:"continental"},{name:"UEFA European Championship",type:"international"},{name:"Premier League",type:"domestic"},{name:"La Liga",type:"domestic"}],positions:["Right Winger","Left Winger","Forward","Striker"]},{id:"mbappe",rank:8,name:"Kylian MbappÃ©",imageUrl:"kylian-mbappe",points:11500,movement:"up",dateOfBirth:"1998-12-20",isActive:!0,countryOfOrigin:"France",nationality:"French",clubs:[{name:"AS Monaco",country:"France",league:"Ligue 1",yearsActive:"2015-2017"},{name:"Paris Saint-Germain",country:"France",league:"Ligue 1",yearsActive:"2017-2024"},{name:"Real Madrid",country:"Spain",league:"La Liga",yearsActive:"2024-present"}],competitions:[{name:"FIFA World Cup",type:"international"},{name:"UEFA Champions League",type:"continental"},{name:"Ligue 1",type:"domestic"},{name:"UEFA Nations League",type:"international"}],positions:["Left Winger","Right Winger","Striker","Forward"]},{id:"haaland",rank:9,name:"Erling Haaland",imageUrl:"erling-haaland",points:10200,movement:"up",dateOfBirth:"2000-07-21",isActive:!0,countryOfOrigin:"Norway",nationality:"Norwegian",clubs:[{name:"Bryne FK",country:"Norway",league:"Norwegian First Division",yearsActive:"2016-2017"},{name:"Molde FK",country:"Norway",league:"Eliteserien",yearsActive:"2017-2019"},{name:"Red Bull Salzburg",country:"Austria",league:"Austrian Bundesliga",yearsActive:"2019-2020"},{name:"Borussia Dortmund",country:"Germany",league:"Bundesliga",yearsActive:"2020-2022"},{name:"Manchester City",country:"England",league:"Premier League",yearsActive:"2022-present"}],competitions:[{name:"UEFA Champions League",type:"continental"},{name:"Premier League",type:"domestic"},{name:"Bundesliga",type:"domestic"}],positions:["Striker","Forward"]},{id:"neymar",rank:10,name:"Neymar Jr.",imageUrl:"neymar-jr",points:11800,movement:"down",dateOfBirth:"1992-02-05",isActive:!0,countryOfOrigin:"Brazil",nationality:"Brazilian",clubs:[{name:"Santos",country:"Brazil",league:"Campeonato Brasileiro",yearsActive:"2009-2013"},{name:"Barcelona",country:"Spain",league:"La Liga",yearsActive:"2013-2017"},{name:"Paris Saint-Germain",country:"France",league:"Ligue 1",yearsActive:"2017-2023"},{name:"Al Hilal",country:"Saudi Arabia",league:"Saudi Pro League",yearsActive:"2023-present"}],competitions:[{name:"FIFA World Cup",type:"international"},{name:"UEFA Champions League",type:"continental"},{name:"Copa America",type:"international"},{name:"Olympics",type:"international"}],positions:["Left Winger","Right Winger","Attacking Midfielder","Forward"]},{id:"debruyne",rank:11,name:"Kevin De Bruyne",imageUrl:"kevin-de-bruyne",points:10800,movement:"neutral",dateOfBirth:"1991-06-28",isActive:!0,countryOfOrigin:"Belgium",nationality:"Belgian",clubs:[{name:"KRC Genk",country:"Belgium",league:"Belgian Pro League",yearsActive:"2008-2012"},{name:"Chelsea",country:"England",league:"Premier League",yearsActive:"2012-2014"},{name:"VfL Wolfsburg",country:"Germany",league:"Bundesliga",yearsActive:"2014-2015"},{name:"Manchester City",country:"England",league:"Premier League",yearsActive:"2015-present"}],competitions:[{name:"UEFA Champions League",type:"continental"},{name:"Premier League",type:"domestic"},{name:"UEFA European Championship",type:"international"}],positions:["Central Midfielder","Attacking Midfielder","Right Midfielder"]},{id:"lewandowski",rank:12,name:"Robert Lewandowski",imageUrl:"robert-lewandowski",points:10500,movement:"down",dateOfBirth:"1988-08-21",isActive:!0,countryOfOrigin:"Poland",nationality:"Polish",clubs:[{name:"Znicz PruszkÃ³w",country:"Poland",league:"Polish Third League",yearsActive:"2006-2008"},{name:"Lech PoznaÅ„",country:"Poland",league:"Ekstraklasa",yearsActive:"2008-2010"},{name:"Borussia Dortmund",country:"Germany",league:"Bundesliga",yearsActive:"2010-2014"},{name:"Bayern Munich",country:"Germany",league:"Bundesliga",yearsActive:"2014-2022"},{name:"Barcelona",country:"Spain",league:"La Liga",yearsActive:"2022-present"}],competitions:[{name:"UEFA Champions League",type:"continental"},{name:"Bundesliga",type:"domestic"},{name:"La Liga",type:"domestic"},{name:"UEFA European Championship",type:"international"}],positions:["Striker","Forward"]},{id:"zidane",rank:13,name:"Zinedine Zidane",imageUrl:"photo-1493962853295-0fd70327578a",points:14e3,movement:"neutral",dateOfBirth:"1972-06-23",isActive:!1,countryOfOrigin:"France",nationality:"French",clubs:[{name:"Cannes",country:"France",league:"Ligue 1",yearsActive:"1989-1992"},{name:"Bordeaux",country:"France",league:"Ligue 1",yearsActive:"1992-1996"},{name:"Juventus",country:"Italy",league:"Serie A",yearsActive:"1996-2001"},{name:"Real Madrid",country:"Spain",league:"La Liga",yearsActive:"2001-2006"}],competitions:[{name:"FIFA World Cup",type:"international"},{name:"UEFA Champions League",type:"continental"}],positions:["Attacking Midfielder"]},{id:"ronaldinho",rank:14,name:"Ronaldinho",imageUrl:"photo-1466721591366-2d5fba72006d",points:13900,movement:"neutral",dateOfBirth:"1980-03-21",isActive:!1,countryOfOrigin:"Brazil",nationality:"Brazilian",clubs:[{name:"GrÃªmio",country:"Brazil",league:"Campeonato Brasileiro",yearsActive:"1998-2001"},{name:"Paris Saint-Germain",country:"France",league:"Ligue 1",yearsActive:"2001-2003"},{name:"Barcelona",country:"Spain",league:"La Liga",yearsActive:"2003-2008"},{name:"AC Milan",country:"Italy",league:"Serie A",yearsActive:"2008-2011"}],competitions:[{name:"FIFA World Cup",type:"international"},{name:"UEFA Champions League",type:"continental"}],positions:["Attacking Midfielder","Forward"]},{id:"ronaldo-nazario",rank:15,name:"Ronaldo NazÃ¡rio",imageUrl:"photo-1452378174528-3090a4bba7b2",points:14400,movement:"neutral",dateOfBirth:"1976-09-22",isActive:!1,countryOfOrigin:"Brazil",nationality:"Brazilian",clubs:[{name:"Cruzeiro",country:"Brazil",league:"Campeonato Brasileiro",yearsActive:"1993-1994"},{name:"PSV",country:"Netherlands",league:"Eredivisie",yearsActive:"1994-1996"},{name:"Barcelona",country:"Spain",league:"La Liga",yearsActive:"1996-1997"},{name:"Inter Milan",country:"Italy",league:"Serie A",yearsActive:"1997-2002"},{name:"Real Madrid",country:"Spain",league:"La Liga",yearsActive:"2002-2007"}],competitions:[{name:"FIFA World Cup",type:"international"}],positions:["Striker"]},{id:"thierry-henry",rank:16,name:"Thierry Henry",imageUrl:"photo-1441057206919-63d19fac2369",points:13500,movement:"neutral",dateOfBirth:"1977-08-17",isActive:!1,countryOfOrigin:"France",nationality:"French",clubs:[{name:"AS Monaco",country:"France",league:"Ligue 1",yearsActive:"1994-1999"},{name:"Juventus",country:"Italy",league:"Serie A",yearsActive:"1999"},{name:"Arsenal",country:"England",league:"Premier League",yearsActive:"1999-2007"},{name:"Barcelona",country:"Spain",league:"La Liga",yearsActive:"2007-2010"}],competitions:[{name:"FIFA World Cup",type:"international"},{name:"UEFA Champions League",type:"continental"}],positions:["Striker","Left Winger"]},{id:"xavi",rank:17,name:"Xavi HernÃ¡ndez",imageUrl:"photo-1518877593221-1f28583780b4",points:13400,movement:"neutral",dateOfBirth:"1980-01-25",isActive:!1,countryOfOrigin:"Spain",nationality:"Spanish",clubs:[{name:"Barcelona",country:"Spain",league:"La Liga",yearsActive:"1998-2015"},{name:"Al Sadd",country:"Qatar",league:"Qatar Stars League",yearsActive:"2015-2019"}],competitions:[{name:"FIFA World Cup",type:"international"},{name:"UEFA Champions League",type:"continental"}],positions:["Central Midfielder"]},{id:"iniesta",rank:18,name:"AndrÃ©s Iniesta",imageUrl:"photo-1469041797191-50ace28483c3",points:13450,movement:"neutral",dateOfBirth:"1984-05-11",isActive:!1,countryOfOrigin:"Spain",nationality:"Spanish",clubs:[{name:"Barcelona",country:"Spain",league:"La Liga",yearsActive:"2002-2018"},{name:"Vissel Kobe",country:"Japan",league:"J1 League",yearsActive:"2018-2023"}],competitions:[{name:"FIFA World Cup",type:"international"},{name:"UEFA Champions League",type:"continental"}],positions:["Central Midfielder","Attacking Midfielder"]},{id:"modric",rank:19,name:"Luka ModriÄ‡",imageUrl:"photo-1493962853295-0fd70327578a",points:11200,movement:"neutral",dateOfBirth:"1985-09-09",isActive:!0,countryOfOrigin:"Croatia",nationality:"Croatian",clubs:[{name:"Dinamo Zagreb",country:"Croatia",league:"Prva HNL",yearsActive:"2003-2008"},{name:"Tottenham Hotspur",country:"England",league:"Premier League",yearsActive:"2008-2012"},{name:"Real Madrid",country:"Spain",league:"La Liga",yearsActive:"2012-present"}],competitions:[{name:"UEFA Champions League",type:"continental"},{name:"FIFA World Cup",type:"international"}],positions:["Central Midfielder"]},{id:"salah",rank:20,name:"Mohamed Salah",imageUrl:"mohamed-salah",points:10700,movement:"neutral",dateOfBirth:"1992-06-15",isActive:!0,countryOfOrigin:"Egypt",nationality:"Egyptian",clubs:[{name:"FC Basel",country:"Switzerland",league:"Swiss Super League",yearsActive:"2012-2014"},{name:"Chelsea",country:"England",league:"Premier League",yearsActive:"2014-2016"},{name:"AS Roma",country:"Italy",league:"Serie A",yearsActive:"2016-2017"},{name:"Liverpool",country:"England",league:"Premier League",yearsActive:"2017-present"}],competitions:[{name:"UEFA Champions League",type:"continental"},{name:"Premier League",type:"domestic"}],positions:["Right Winger","Forward"]},{id:"van-dijk",rank:21,name:"Virgil van Dijk",imageUrl:"virgil-van-dijk",points:9800,movement:"neutral",dateOfBirth:"1991-07-08",isActive:!0,countryOfOrigin:"Netherlands",nationality:"Dutch",clubs:[{name:"Groningen",country:"Netherlands",league:"Eredivisie",yearsActive:"2011-2013"},{name:"Celtic",country:"Scotland",league:"Scottish Premiership",yearsActive:"2013-2015"},{name:"Southampton",country:"England",league:"Premier League",yearsActive:"2015-2018"},{name:"Liverpool",country:"England",league:"Premier League",yearsActive:"2018-present"}],competitions:[{name:"UEFA Champions League",type:"continental"},{name:"Premier League",type:"domestic"}],positions:["Centre-Back"]},{id:"ramos",rank:22,name:"Sergio Ramos",imageUrl:"photo-1466721591366-2d5fba72006d",points:10900,movement:"down",dateOfBirth:"1986-03-30",isActive:!0,countryOfOrigin:"Spain",nationality:"Spanish",clubs:[{name:"Sevilla",country:"Spain",league:"La Liga",yearsActive:"2004-2005"},{name:"Real Madrid",country:"Spain",league:"La Liga",yearsActive:"2005-2021"},{name:"Paris Saint-Germain",country:"France",league:"Ligue 1",yearsActive:"2021-2023"},{name:"Sevilla",country:"Spain",league:"La Liga",yearsActive:"2023-present"}],competitions:[{name:"FIFA World Cup",type:"international"},{name:"UEFA Champions League",type:"continental"}],positions:["Centre-Back","Right-Back"]},{id:"kane",rank:23,name:"Harry Kane",imageUrl:"photo-1452378174528-3090a4bba7b2",points:10600,movement:"up",dateOfBirth:"1993-07-28",isActive:!0,countryOfOrigin:"England",nationality:"English",clubs:[{name:"Tottenham Hotspur",country:"England",league:"Premier League",yearsActive:"2009-2023"},{name:"Bayern Munich",country:"Germany",league:"Bundesliga",yearsActive:"2023-present"}],competitions:[{name:"Premier League",type:"domestic"},{name:"Bundesliga",type:"domestic"},{name:"UEFA Champions League",type:"continental"}],positions:["Striker"]},{id:"griezmann",rank:24,name:"Antoine Griezmann",imageUrl:"photo-1441057206919-63d19fac2369",points:10300,movement:"neutral",dateOfBirth:"1991-03-21",isActive:!0,countryOfOrigin:"France",nationality:"French",clubs:[{name:"Real Sociedad",country:"Spain",league:"La Liga",yearsActive:"2009-2014"},{name:"AtlÃ©tico Madrid",country:"Spain",league:"La Liga",yearsActive:"2014-2019"},{name:"Barcelona",country:"Spain",league:"La Liga",yearsActive:"2019-2022"},{name:"AtlÃ©tico Madrid",country:"Spain",league:"La Liga",yearsActive:"2022-present"}],competitions:[{name:"FIFA World Cup",type:"international"},{name:"UEFA Europa League",type:"continental"}],positions:["Forward","Attacking Midfielder"]},{id:"suarez",rank:25,name:"Luis SuÃ¡rez",imageUrl:"photo-1518877593221-1f28583780b4",points:11e3,movement:"down",dateOfBirth:"1987-01-24",isActive:!0,countryOfOrigin:"Uruguay",nationality:"Uruguayan",clubs:[{name:"Ajax",country:"Netherlands",league:"Eredivisie",yearsActive:"2007-2011"},{name:"Liverpool",country:"England",league:"Premier League",yearsActive:"2011-2014"},{name:"Barcelona",country:"Spain",league:"La Liga",yearsActive:"2014-2020"},{name:"AtlÃ©tico Madrid",country:"Spain",league:"La Liga",yearsActive:"2020-2022"},{name:"Inter Miami",country:"USA",league:"MLS",yearsActive:"2024-present"}],competitions:[{name:"UEFA Champions League",type:"continental"},{name:"Copa America",type:"international"}],positions:["Striker"]},{id:"maldini",rank:26,name:"Paolo Maldini",imageUrl:"photo-1493962853295-0fd70327578a",points:13e3,movement:"neutral",dateOfBirth:"1968-06-26",isActive:!1,countryOfOrigin:"Italy",nationality:"Italian",clubs:[{name:"AC Milan",country:"Italy",league:"Serie A",yearsActive:"1985-2009"}],competitions:[{name:"UEFA Champions League",type:"continental"},{name:"Serie A",type:"domestic"}],positions:["Left-Back","Centre-Back"]},{id:"kaka",rank:27,name:"KakÃ¡",imageUrl:"photo-1466721591366-2d5fba72006d",points:12800,movement:"neutral",dateOfBirth:"1982-04-22",isActive:!1,countryOfOrigin:"Brazil",nationality:"Brazilian",clubs:[{name:"SÃ£o Paulo",country:"Brazil",league:"Campeonato Brasileiro",yearsActive:"2001-2003"},{name:"AC Milan",country:"Italy",league:"Serie A",yearsActive:"2003-2009"},{name:"Real Madrid",country:"Spain",league:"La Liga",yearsActive:"2009-2013"}],competitions:[{name:"FIFA World Cup",type:"international"},{name:"UEFA Champions League",type:"continental"}],positions:["Attacking Midfielder"]},{id:"pirlo",rank:28,name:"Andrea Pirlo",imageUrl:"photo-1452378174528-3090a4bba7b2",points:12900,movement:"neutral",dateOfBirth:"1979-05-19",isActive:!1,countryOfOrigin:"Italy",nationality:"Italian",clubs:[{name:"AC Milan",country:"Italy",league:"Serie A",yearsActive:"2001-2011"},{name:"Juventus",country:"Italy",league:"Serie A",yearsActive:"2011-2015"}],competitions:[{name:"FIFA World Cup",type:"international"},{name:"UEFA Champions League",type:"continental"}],positions:["Deep-Lying Playmaker","Central Midfielder"]},{id:"gerrard",rank:29,name:"Steven Gerrard",imageUrl:"photo-1441057206919-63d19fac2369",points:12700,movement:"neutral",dateOfBirth:"1980-05-30",isActive:!1,countryOfOrigin:"England",nationality:"English",clubs:[{name:"Liverpool",country:"England",league:"Premier League",yearsActive:"1998-2015"}],competitions:[{name:"UEFA Champions League",type:"continental"},{name:"Premier League",type:"domestic"}],positions:["Central Midfielder","Attacking Midfielder"]},{id:"lampard",rank:30,name:"Frank Lampard",imageUrl:"photo-1493962853295-0fd70327578a",points:12600,movement:"neutral",dateOfBirth:"1978-06-20",isActive:!1,countryOfOrigin:"England",nationality:"English",clubs:[{name:"Chelsea",country:"England",league:"Premier League",yearsActive:"2001-2014"}],competitions:[{name:"UEFA Champions League",type:"continental"},{name:"Premier League",type:"domestic"}],positions:["Central Midfielder","Attacking Midfielder"]},{id:"drogba",rank:31,name:"Didier Drogba",imageUrl:"photo-1466721591366-2d5fba72006d",points:12500,movement:"neutral",dateOfBirth:"1978-03-11",isActive:!1,countryOfOrigin:"Ivory Coast",nationality:"Ivorian",clubs:[{name:"Marseille",country:"France",league:"Ligue 1",yearsActive:"2003-2004"},{name:"Chelsea",country:"England",league:"Premier League",yearsActive:"2004-2012"}],competitions:[{name:"UEFA Champions League",type:"continental"},{name:"Premier League",type:"domestic"}],positions:["Striker"]},{id:"etoo",rank:32,name:"Samuel Eto'o",imageUrl:"photo-1452378174528-3090a4bba7b2",points:12850,movement:"neutral",dateOfBirth:"1981-03-10",isActive:!1,countryOfOrigin:"Cameroon",nationality:"Cameroonian",clubs:[{name:"Barcelona",country:"Spain",league:"La Liga",yearsActive:"2004-2009"},{name:"Inter Milan",country:"Italy",league:"Serie A",yearsActive:"2009-2011"}],competitions:[{name:"UEFA Champions League",type:"continental"},{name:"Africa Cup of Nations",type:"international"}],positions:["Striker"]},{id:"puyol",rank:33,name:"Carles Puyol",imageUrl:"photo-1441057206919-63d19fac2369",points:12950,movement:"neutral",dateOfBirth:"1978-04-13",isActive:!1,countryOfOrigin:"Spain",nationality:"Spanish",clubs:[{name:"Barcelona",country:"Spain",league:"La Liga",yearsActive:"1999-2014"}],competitions:[{name:"FIFA World Cup",type:"international"},{name:"UEFA Champions League",type:"continental"}],positions:["Centre-Back","Right-Back"]},{id:"casillas",rank:34,name:"Iker Casillas",imageUrl:"photo-1518877593221-1f28583780b4",points:13100,movement:"neutral",dateOfBirth:"1981-05-20",isActive:!1,countryOfOrigin:"Spain",nationality:"Spanish",clubs:[{name:"Real Madrid",country:"Spain",league:"La Liga",yearsActive:"1999-2015"}],competitions:[{name:"FIFA World Cup",type:"international"},{name:"UEFA Champions League",type:"continental"}],positions:["Goalkeeper"]},{id:"buffon",rank:35,name:"Gianluigi Buffon",imageUrl:"photo-1493962853295-0fd70327578a",points:13200,movement:"neutral",dateOfBirth:"1978-01-28",isActive:!1,countryOfOrigin:"Italy",nationality:"Italian",clubs:[{name:"Parma",country:"Italy",league:"Serie A",yearsActive:"1995-2001"},{name:"Juventus",country:"Italy",league:"Serie A",yearsActive:"2001-2018"}],competitions:[{name:"FIFA World Cup",type:"international"},{name:"Serie A",type:"domestic"}],positions:["Goalkeeper"]},{id:"neuer",rank:36,name:"Manuel Neuer",imageUrl:"photo-1466721591366-2d5fba72006d",points:11500,movement:"neutral",dateOfBirth:"1986-03-27",isActive:!0,countryOfOrigin:"Germany",nationality:"German",clubs:[{name:"Schalke 04",country:"Germany",league:"Bundesliga",yearsActive:"2006-2011"},{name:"Bayern Munich",country:"Germany",league:"Bundesliga",yearsActive:"2011-present"}],competitions:[{name:"FIFA World Cup",type:"international"},{name:"UEFA Champions League",type:"continental"}],positions:["Goalkeeper"]},{id:"kroos",rank:37,name:"Toni Kroos",imageUrl:"photo-1452378174528-3090a4bba7b2",points:11300,movement:"neutral",dateOfBirth:"1990-01-04",isActive:!0,countryOfOrigin:"Germany",nationality:"German",clubs:[{name:"Bayern Munich",country:"Germany",league:"Bundesliga",yearsActive:"2007-2014"},{name:"Real Madrid",country:"Spain",league:"La Liga",yearsActive:"2014-present"}],competitions:[{name:"FIFA World Cup",type:"international"},{name:"UEFA Champions League",type:"continental"}],positions:["Central Midfielder"]},{id:"busquets",rank:38,name:"Sergio Busquets",imageUrl:"photo-1441057206919-63d19fac2369",points:11400,movement:"neutral",dateOfBirth:"1988-07-16",isActive:!0,countryOfOrigin:"Spain",nationality:"Spanish",clubs:[{name:"Barcelona",country:"Spain",league:"La Liga",yearsActive:"2008-2023"},{name:"Inter Miami",country:"USA",league:"MLS",yearsActive:"2023-present"}],competitions:[{name:"FIFA World Cup",type:"international"},{name:"UEFA Champions League",type:"continental"}],positions:["Defensive Midfielder"]},{id:"ibrahimovic",rank:39,name:"Zlatan IbrahimoviÄ‡",imageUrl:"photo-1518877593221-1f28583780b4",points:12200,movement:"neutral",dateOfBirth:"1981-10-03",isActive:!1,countryOfOrigin:"Sweden",nationality:"Swedish",clubs:[{name:"Ajax",country:"Netherlands",league:"Eredivisie",yearsActive:"2001-2004"},{name:"Juventus",country:"Italy",league:"Serie A",yearsActive:"2004-2006"},{name:"Inter Milan",country:"Italy",league:"Serie A",yearsActive:"2006-2009"},{name:"Barcelona",country:"Spain",league:"La Liga",yearsActive:"2009-2010"},{name:"AC Milan",country:"Italy",league:"Serie A",yearsActive:"2010-2012"},{name:"Paris Saint-Germain",country:"France",league:"Ligue 1",yearsActive:"2012-2016"}],competitions:[{name:"UEFA Champions League",type:"continental"},{name:"Ligue 1",type:"domestic"},{name:"Serie A",type:"domestic"}],positions:["Striker"]},{id:"bale",rank:40,name:"Gareth Bale",imageUrl:"photo-1493962853295-0fd70327578a",points:11900,movement:"neutral",dateOfBirth:"1989-07-16",isActive:!1,countryOfOrigin:"Wales",nationality:"Welsh",clubs:[{name:"Tottenham Hotspur",country:"England",league:"Premier League",yearsActive:"2007-2013"},{name:"Real Madrid",country:"Spain",league:"La Liga",yearsActive:"2013-2022"}],competitions:[{name:"UEFA Champions League",type:"continental"}],positions:["Right Winger","Forward"]},{id:"robben",rank:41,name:"Arjen Robben",imageUrl:"photo-1466721591366-2d5fba72006d",points:12100,movement:"neutral",dateOfBirth:"1984-01-23",isActive:!1,countryOfOrigin:"Netherlands",nationality:"Dutch",clubs:[{name:"Chelsea",country:"England",league:"Premier League",yearsActive:"2004-2007"},{name:"Real Madrid",country:"Spain",league:"La Liga",yearsActive:"2007-2009"},{name:"Bayern Munich",country:"Germany",league:"Bundesliga",yearsActive:"2009-2019"}],competitions:[{name:"UEFA Champions League",type:"continental"}],positions:["Right Winger"]},{id:"ribery",rank:42,name:"Franck RibÃ©ry",imageUrl:"photo-1452378174528-3090a4bba7b2",points:12e3,movement:"neutral",dateOfBirth:"1983-04-07",isActive:!1,countryOfOrigin:"France",nationality:"French",clubs:[{name:"Marseille",country:"France",league:"Ligue 1",yearsActive:"2005-2007"},{name:"Bayern Munich",country:"Germany",league:"Bundesliga",yearsActive:"2007-2019"}],competitions:[{name:"UEFA Champions League",type:"continental"}],positions:["Left Winger"]},{id:"figo",rank:43,name:"LuÃ­s Figo",imageUrl:"photo-1441057206919-63d19fac2369",points:13300,movement:"neutral",dateOfBirth:"1972-11-04",isActive:!1,countryOfOrigin:"Portugal",nationality:"Portuguese",clubs:[{name:"Barcelona",country:"Spain",league:"La Liga",yearsActive:"1995-2000"},{name:"Real Madrid",country:"Spain",league:"La Liga",yearsActive:"2000-2005"},{name:"Inter Milan",country:"Italy",league:"Serie A",yearsActive:"2005-2009"}],competitions:[{name:"UEFA Champions League",type:"continental"}],positions:["Right Winger","Attacking Midfielder"]},{id:"raul",rank:44,name:"RaÃºl",imageUrl:"photo-1518877593221-1f28583780b4",points:13400,movement:"neutral",dateOfBirth:"1977-06-27",isActive:!1,countryOfOrigin:"Spain",nationality:"Spanish",clubs:[{name:"Real Madrid",country:"Spain",league:"La Liga",yearsActive:"1994-2010"}],competitions:[{name:"UEFA Champions League",type:"continental"}],positions:["Striker","Second Striker"]},{id:"roberto-carlos",rank:45,name:"Roberto Carlos",imageUrl:"photo-1493962853295-0fd70327578a",points:13150,movement:"neutral",dateOfBirth:"1973-04-10",isActive:!1,countryOfOrigin:"Brazil",nationality:"Brazilian",clubs:[{name:"Real Madrid",country:"Spain",league:"La Liga",yearsActive:"1996-2007"}],competitions:[{name:"FIFA World Cup",type:"international"},{name:"UEFA Champions League",type:"continental"}],positions:["Left-Back"]},{id:"cafu",rank:46,name:"Cafu",imageUrl:"photo-1466721591366-2d5fba72006d",points:13100,movement:"neutral",dateOfBirth:"1970-06-07",isActive:!1,countryOfOrigin:"Brazil",nationality:"Brazilian",clubs:[{name:"AS Roma",country:"Italy",league:"Serie A",yearsActive:"1997-2003"},{name:"AC Milan",country:"Italy",league:"Serie A",yearsActive:"2003-2008"}],competitions:[{name:"FIFA World Cup",type:"international"},{name:"UEFA Champions League",type:"continental"}],positions:["Right-Back"]},{id:"shevchenko",rank:47,name:"Andriy Shevchenko",imageUrl:"photo-1452378174528-3090a4bba7b2",points:13250,movement:"neutral",dateOfBirth:"1976-09-29",isActive:!1,countryOfOrigin:"Ukraine",nationality:"Ukrainian",clubs:[{name:"Dynamo Kyiv",country:"Ukraine",league:"Ukrainian Premier League",yearsActive:"1994-1999"},{name:"AC Milan",country:"Italy",league:"Serie A",yearsActive:"1999-2006"}],competitions:[{name:"UEFA Champions League",type:"continental"}],positions:["Striker"]},{id:"nedved",rank:48,name:"Pavel NedvÄ›d",imageUrl:"photo-1441057206919-63d19fac2369",points:13050,movement:"neutral",dateOfBirth:"1972-08-30",isActive:!1,countryOfOrigin:"Czech Republic",nationality:"Czech",clubs:[{name:"Lazio",country:"Italy",league:"Serie A",yearsActive:"1996-2001"},{name:"Juventus",country:"Italy",league:"Serie A",yearsActive:"2001-2009"}],competitions:[{name:"UEFA European Championship",type:"international"}],positions:["Attacking Midfielder","Left Winger"]},{id:"bergkamp",rank:49,name:"Dennis Bergkamp",imageUrl:"photo-1518877593221-1f28583780b4",points:13350,movement:"neutral",dateOfBirth:"1969-05-10",isActive:!1,countryOfOrigin:"Netherlands",nationality:"Dutch",clubs:[{name:"Arsenal",country:"England",league:"Premier League",yearsActive:"1995-2006"}],competitions:[{name:"Premier League",type:"domestic"}],positions:["Second Striker","Attacking Midfielder"]},{id:"cantona",rank:50,name:"Eric Cantona",imageUrl:"photo-1493962853295-0fd70327578a",points:13250,movement:"neutral",dateOfBirth:"1966-05-24",isActive:!1,countryOfOrigin:"France",nationality:"French",clubs:[{name:"Manchester United",country:"England",league:"Premier League",yearsActive:"1992-1997"}],competitions:[{name:"Premier League",type:"domestic"}],positions:["Forward","Attacking Midfielder"]},{id:"scholes",rank:51,name:"Paul Scholes",imageUrl:"photo-1466721591366-2d5fba72006d",points:12800,movement:"neutral",dateOfBirth:"1974-11-16",isActive:!1,countryOfOrigin:"England",nationality:"English",clubs:[{name:"Manchester United",country:"England",league:"Premier League",yearsActive:"1993-2013"}],competitions:[{name:"UEFA Champions League",type:"continental"},{name:"Premier League",type:"domestic"}],positions:["Central Midfielder"]},{id:"giggs",rank:52,name:"Ryan Giggs",imageUrl:"photo-1452378174528-3090a4bba7b2",points:12750,movement:"neutral",dateOfBirth:"1973-11-29",isActive:!1,countryOfOrigin:"Wales",nationality:"Welsh",clubs:[{name:"Manchester United",country:"England",league:"Premier League",yearsActive:"1990-2014"}],competitions:[{name:"UEFA Champions League",type:"continental"},{name:"Premier League",type:"domestic"}],positions:["Left Winger"]},{id:"beckham",rank:53,name:"David Beckham",imageUrl:"photo-1441057206919-63d19fac2369",points:12650,movement:"neutral",dateOfBirth:"1975-05-02",isActive:!1,countryOfOrigin:"England",nationality:"English",clubs:[{name:"Manchester United",country:"England",league:"Premier League",yearsActive:"1992-2003"},{name:"Real Madrid",country:"Spain",league:"La Liga",yearsActive:"2003-2007"}],competitions:[{name:"UEFA Champions League",type:"continental"}],positions:["Right Midfielder","Central Midfielder"]},{id:"totti",rank:54,name:"Francesco Totti",imageUrl:"photo-1518877593221-1f28583780b4",points:12950,movement:"neutral",dateOfBirth:"1976-09-27",isActive:!1,countryOfOrigin:"Italy",nationality:"Italian",clubs:[{name:"AS Roma",country:"Italy",league:"Serie A",yearsActive:"1993-2017"}],competitions:[{name:"FIFA World Cup",type:"international"},{name:"Serie A",type:"domestic"}],positions:["Attacking Midfielder","Forward"]},{id:"del-piero",rank:55,name:"Alessandro Del Piero",imageUrl:"photo-1493962853295-0fd70327578a",points:12900,movement:"neutral",dateOfBirth:"1974-11-09",isActive:!1,countryOfOrigin:"Italy",nationality:"Italian",clubs:[{name:"Juventus",country:"Italy",league:"Serie A",yearsActive:"1993-2012"}],competitions:[{name:"FIFA World Cup",type:"international"},{name:"UEFA Champions League",type:"continental"}],positions:["Second Striker","Attacking Midfielder"]}],We=(a,t)=>{console.log("hydrateAthleteData: Processing athlete data hydration");const n=a.map(i=>{console.log("hydrateAthleteData: Processing athlete:",i.athlete_id,"type:",typeof i.athlete_id);const o=t.find(m=>m.id===i.athlete_id);if(o)return console.log("hydrateAthleteData: Found athlete in database:",o.name),{id:i.athlete_id,name:o.name,imageUrl:o.profile_picture_url||"/placeholder.svg",position:i.position,points:i.points};let s=null;const r=String(i.athlete_id);if(s=H.find(m=>String(m.id)===r),!s&&!isNaN(Number(r))){const m=Number(r);s=H.find(l=>Number(l.id)===m)}return s?(console.log("hydrateAthleteData: Found athlete in footballPlayers:",s.name),{id:i.athlete_id,name:s.name,imageUrl:s.imageUrl,position:i.position,points:i.points}):(console.warn("hydrateAthleteData: Unknown athlete - ID:",i.athlete_id,"Type:",typeof i.athlete_id),{id:i.athlete_id,name:`Unknown Athlete (${i.athlete_id})`,imageUrl:"/placeholder.svg",position:i.position,points:i.points})});return console.log("hydrateAthleteData: SUCCESS - Hydrated athletes:",n.length,"athletes"),console.log("hydrateAthleteData: Athletes breakdown:",{total:n.length,fromDatabase:n.filter(i=>!i.name.startsWith("Unknown")).length,unknown:n.filter(i=>i.name.startsWith("Unknown")).length}),n},Ge=a=>J({queryKey:["userRankingDetails",a],queryFn:async()=>{if(!a||a.trim()==="")return console.warn("useUserRanking: No valid ranking ID provided"),null;console.log("useUserRanking: Starting fetch for ranking ID:",a);try{const t=await Ie(a);if(!t)return null;console.log("useUserRanking: Fetching related data");const[n,i,o]=await Promise.all([Ne(t.user_id),Me(t.category_id),Te(a)]);console.log("useUserRanking: Processing athlete IDs");const s=o.map(g=>g.athlete_id);if(console.log("useUserRanking: Athlete IDs to fetch:",s),s.length===0){console.warn("useUserRanking: No athletes found for this ranking");const g={...t,profiles:n,categories:i,athletes:[]};return console.log("useUserRanking: Returning ranking with no athletes:",g),g}console.log("useUserRanking: Fetching athlete data from database");const r=await _e(s);console.log("useUserRanking: Hydrating athlete data");const m=We(o,r);console.log("useUserRanking: Combining final data");const l={...t,profiles:n,categories:i,athletes:m};return console.log("useUserRanking: SUCCESS - Final ranking with all data:",{id:l.id,title:l.title,athleteCount:l.athletes.length,hasProfile:!!l.profiles,hasCategory:!!l.categories}),l}catch(t){throw console.error("useUserRanking: Complete failure:",t),t}},enabled:!!a&&a.trim()!=="",retry:(t,n)=>(console.error(`useUserRanking: Query failed (attempt ${t+1}):`,n),t<2)}),$e=({title:a,description:t,categoryName:n,creatorName:i,topAthletes:o=[],url:s})=>{const r=n&&i?`TOP 10 ranking of ${n} by ${i}`:`${a} - WoDaGOAT`,m=t||`${i?`${i}'s `:""}${n||"Sports"} GOAT ranking on WoDaGOAT. ${o.length>0?`Featuring ${o.slice(0,3).join(", ")} and more.`:""} Join the sports debate!`,l=["sports ranking","GOAT debate","athletes ranking",n,...o.slice(0,5),"WoDaGOAT"].filter(Boolean).join(", "),u=(()=>{const y=encodeURIComponent(r),p=o.length>0?encodeURIComponent(`Top picks: ${o.slice(0,3).join(", ")}`):encodeURIComponent(`Created by ${i||"WoDaGOAT User"}`),h=new Date().getTime();return`https://og.png/api/og?title=${y}&subtitle=${p}&theme=dark&width=1200&height=630&cache=${h}`})();return console.log("RankingSEO Debug Info:",{pageTitle:r,pageDescription:m,ogImageUrl:u,categoryName:n,creatorName:i,topAthletes:o.slice(0,3),currentUrl:s}),e.jsxs(e.Fragment,{children:[e.jsxs(ge,{children:[e.jsx("title",{children:r}),e.jsx("meta",{name:"description",content:m}),e.jsx("meta",{name:"keywords",content:l}),e.jsx("meta",{property:"og:type",content:"article"}),e.jsx("meta",{property:"og:url",content:s}),e.jsx("meta",{property:"og:title",content:r}),e.jsx("meta",{property:"og:description",content:m}),e.jsx("meta",{property:"og:image",content:u}),e.jsx("meta",{property:"og:image:width",content:"1200"}),e.jsx("meta",{property:"og:image:height",content:"630"}),e.jsx("meta",{property:"og:image:type",content:"image/png"}),e.jsx("meta",{property:"og:site_name",content:"WoDaGOAT"}),e.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),e.jsx("meta",{name:"twitter:url",content:s}),e.jsx("meta",{name:"twitter:title",content:r}),e.jsx("meta",{name:"twitter:description",content:m}),e.jsx("meta",{name:"twitter:image",content:u}),e.jsx("meta",{name:"twitter:image:alt",content:`${r} - WoDaGOAT ranking preview`}),e.jsx("meta",{name:"author",content:i||"WoDaGOAT Community"}),e.jsx("meta",{name:"robots",content:"index, follow"}),e.jsx("meta",{property:"article:author",content:i||"WoDaGOAT User"}),e.jsx("meta",{property:"article:section",content:"Sports"}),e.jsx("meta",{property:"article:tag",content:n||"GOAT Rankings"}),e.jsx("link",{rel:"canonical",href:s}),e.jsx("meta",{httpEquiv:"Cache-Control",content:"no-cache, no-store, must-revalidate"}),e.jsx("meta",{httpEquiv:"Pragma",content:"no-cache"}),e.jsx("meta",{httpEquiv:"Expires",content:"0"}),e.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"Article",headline:r,description:m,image:u,author:{"@type":"Person",name:i||"WoDaGOAT User"},publisher:{"@type":"Organization",name:"WoDaGOAT",logo:{"@type":"ImageObject",url:u}},url:s,keywords:l,genre:"Sports",about:{"@type":"Thing",name:n||"Sports",description:`GOAT ranking for ${n||"sports"}`},mentions:o.slice(0,5).map(y=>({"@type":"Person",name:y})),datePublished:new Date().toISOString(),dateModified:new Date().toISOString()})})]}),!1]})},ze=({url:a,title:t,description:n,imageUrl:i})=>(d.useState(!1),null),He=({isValidUUID:a,error:t,rankingId:n,originalRankingId:i})=>e.jsxs("div",{className:"min-h-screen flex flex-col",style:{background:"linear-gradient(135deg, #190749 0%, #070215 100%)"},children:[e.jsx("main",{className:"container mx-auto px-4 py-8 text-center text-white flex-grow flex flex-col items-center justify-center",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-yellow-400 mb-4",children:"Ranking Not Available"}),e.jsx("p",{className:"text-gray-300",children:"We couldn't find the details for this specific ranking."}),!a&&e.jsx("p",{className:"text-gray-400 mt-2",children:"The ranking ID in the URL appears to be invalid."}),a&&e.jsx("p",{className:"text-gray-400 mt-2",children:"This might be because the ranking was deleted or there was an error loading it."}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Attempted to load ID: ",n||"Invalid ID"]}),t&&e.jsxs("p",{className:"text-xs text-red-400 mt-2",children:["Error: ",t.toString()]}),e.jsx(L,{asChild:!0,variant:"outline",className:"mt-6 border-white text-white hover:bg-white hover:text-indigo-900",children:e.jsxs(k,{to:"/feed",children:[e.jsx(K,{className:"mr-2 h-4 w-4"})," Back to Feed"]})})]})}),e.jsx(pe,{})]}),qe=({title:a,createdAt:t})=>e.jsxs("header",{className:"mb-8",children:[e.jsxs("h1",{className:"text-4xl font-bold tracking-tight text-white sm:text-5xl flex items-center gap-3",children:[e.jsx(ye,{className:"h-10 w-10 text-blue-400"}),a]}),e.jsxs("p",{className:"mt-2 text-lg text-gray-400",children:["Created on ",je(new Date(t),"MMMM d, yyyy")]})]}),Je=({onShareClick:a})=>e.jsxs("div",{className:"mb-6 flex justify-start items-center gap-1 xs:gap-2 sm:gap-4",children:[e.jsx(L,{asChild:!0,variant:"outline",className:"border-white/10 bg-white/5 text-gray-200 hover:bg-white/10 hover:text-white text-xs xs:text-sm sm:text-base px-2 xs:px-3 sm:px-4 py-1 xs:py-2 h-8 xs:h-9 sm:h-10",children:e.jsxs(k,{to:"/feed",children:[e.jsx(K,{className:"h-3 w-3 xs:h-4 xs:w-4 xs:mr-1 sm:mr-2"}),e.jsx("span",{className:"hidden xs:inline text-xs xs:text-sm sm:text-base",children:"Back"}),e.jsx("span",{className:"hidden sm:inline",children:" to Feed"})]})}),e.jsxs("div",{onClick:a,className:"hidden sm:flex items-center justify-center gap-2 cursor-pointer border border-blue-500/20 bg-blue-500/10 text-blue-300 hover:bg-blue-500/20 hover:text-blue-200 text-xs xs:text-sm sm:text-base px-2 xs:px-3 sm:px-4 py-1 xs:py-2 h-8 xs:h-9 sm:h-10 rounded-md transition-colors",children:[e.jsx(z,{className:"h-3 w-3 xs:h-4 xs:w-4"}),e.jsx("span",{className:"text-xs xs:text-sm sm:text-base",children:"Share"}),e.jsx("span",{className:"hidden sm:inline",children:" Ranking"})]}),e.jsx("div",{onClick:a,className:"block sm:hidden cursor-pointer p-2 text-blue-300 hover:text-blue-200 transition-colors rounded-md hover:bg-blue-500/10",children:e.jsx(z,{className:"h-4 w-4"})})]}),Ke=({title:a,createdAt:t,onShareClick:n})=>(d.useEffect(()=>{console.log("ðŸ” UserRankingPageHeader: useEffect - FORCING scroll to top on mount"),window.scrollTo({top:0,left:0,behavior:"instant"}),"scrollRestoration"in history&&(history.scrollRestoration="manual")},[]),e.jsxs(e.Fragment,{children:[e.jsx(Je,{onShareClick:n}),e.jsx(qe,{title:a,createdAt:t})]}));var E,R="HoverCard",[ne,Aa]=he(R,[Q]),F=Q(),[Qe,j]=ne(R),ie=a=>{const{__scopeHoverCard:t,children:n,open:i,defaultOpen:o,onOpenChange:s,openDelay:r=700,closeDelay:m=300}=a,l=F(t),g=d.useRef(0),u=d.useRef(0),y=d.useRef(!1),p=d.useRef(!1),[h=!1,c]=Se({prop:i,defaultProp:o,onChange:s}),A=d.useCallback(()=>{clearTimeout(u.current),g.current=window.setTimeout(()=>c(!0),r)},[r,c]),v=d.useCallback(()=>{clearTimeout(g.current),!y.current&&!p.current&&(u.current=window.setTimeout(()=>c(!1),m))},[m,c]),C=d.useCallback(()=>c(!1),[c]);return d.useEffect(()=>()=>{clearTimeout(g.current),clearTimeout(u.current)},[]),e.jsx(Qe,{scope:t,open:h,onOpenChange:c,onOpen:A,onClose:v,onDismiss:C,hasSelectionRef:y,isPointerDownOnContentRef:p,children:e.jsx(Le,{...l,children:n})})};ie.displayName=R;var re="HoverCardTrigger",oe=d.forwardRef((a,t)=>{const{__scopeHoverCard:n,...i}=a,o=j(re,n),s=F(n);return e.jsx(fe,{asChild:!0,...s,children:e.jsx(Ae.a,{"data-state":o.open?"open":"closed",...i,ref:t,onPointerEnter:f(a.onPointerEnter,U(o.onOpen)),onPointerLeave:f(a.onPointerLeave,U(o.onClose)),onFocus:f(a.onFocus,o.onOpen),onBlur:f(a.onBlur,o.onClose),onTouchStart:f(a.onTouchStart,r=>r.preventDefault())})})});oe.displayName=re;var Ve="HoverCardPortal",[va,Ze]=ne(Ve,{forceMount:void 0}),O="HoverCardContent",se=d.forwardRef((a,t)=>{const n=Ze(O,a.__scopeHoverCard),{forceMount:i=n.forceMount,...o}=a,s=j(O,a.__scopeHoverCard);return e.jsx(ve,{present:i||s.open,children:e.jsx(Ye,{"data-state":s.open?"open":"closed",...o,onPointerEnter:f(a.onPointerEnter,U(s.onOpen)),onPointerLeave:f(a.onPointerLeave,U(s.onClose)),ref:t})})});se.displayName=O;var Ye=d.forwardRef((a,t)=>{const{__scopeHoverCard:n,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:r,...m}=a,l=j(O,n),g=F(n),u=d.useRef(null),y=xe(t,u),[p,h]=d.useState(!1);return d.useEffect(()=>{if(p){const c=document.body;return E=c.style.userSelect||c.style.webkitUserSelect,c.style.userSelect="none",c.style.webkitUserSelect="none",()=>{c.style.userSelect=E,c.style.webkitUserSelect=E}}},[p]),d.useEffect(()=>{if(u.current){const c=()=>{h(!1),l.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var v;((v=document.getSelection())==null?void 0:v.toString())!==""&&(l.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",c),()=>{document.removeEventListener("pointerup",c),l.hasSelectionRef.current=!1,l.isPointerDownOnContentRef.current=!1}}},[l.isPointerDownOnContentRef,l.hasSelectionRef]),d.useEffect(()=>{u.current&&aa(u.current).forEach(A=>A.setAttribute("tabindex","-1"))}),e.jsx(be,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:r,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f(s,c=>{c.preventDefault()}),onDismiss:l.onDismiss,children:e.jsx(ke,{...g,...m,onPointerDown:f(m.onPointerDown,c=>{c.currentTarget.contains(c.target)&&h(!0),l.hasSelectionRef.current=!1,l.isPointerDownOnContentRef.current=!0}),ref:y,style:{...m.style,userSelect:p?"text":void 0,WebkitUserSelect:p?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),Xe="HoverCardArrow",ea=d.forwardRef((a,t)=>{const{__scopeHoverCard:n,...i}=a,o=F(n);return e.jsx(Ce,{...o,...i,ref:t})});ea.displayName=Xe;function U(a){return t=>t.pointerType==="touch"?void 0:a()}function aa(a){const t=[],n=document.createTreeWalker(a,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;n.nextNode();)t.push(n.currentNode);return t}var ta=ie,na=oe,le=se;const ia=ta,ra=na,ce=d.forwardRef(({className:a,align:t="center",sideOffset:n=4,...i},o)=>e.jsx(le,{ref:o,align:t,sideOffset:n,className:Oe("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...i}));ce.displayName=le.displayName;const q=({user:a,children:t})=>{var p;const{user:n,openLoginDialog:i}=Ue(),o=Fe(),{data:s,isLoading:r}=J({queryKey:["friendshipStatus",n==null?void 0:n.id,a.id],queryFn:async()=>{if(!n||n.id===a.id)return null;const{data:h,error:c}=await x.from("friendships").select("status, requester_id").or(`and(requester_id.eq.${n.id},receiver_id.eq.${a.id}),and(requester_id.eq.${a.id},receiver_id.eq.${n.id})`).single();return c&&c.code!=="PGRST116"?(console.error("Error fetching friendship status:",c),w.error("Could not check friendship status."),null):h},enabled:!!n}),{mutate:m,isPending:l}=we({mutationFn:async h=>{if(!n)throw new Error("You must be logged in to add friends.");if(n.id===h)throw new Error("You cannot add yourself as a friend.");const{error:c}=await x.from("friendships").insert({requester_id:n.id,receiver_id:h});if(c)throw c.code==="23505"?new Error("Friend request already sent or you are already friends."):(console.error("Error sending friend request:",c),new Error("Failed to send friend request."))},onSuccess:()=>{w.success("Friend request sent!"),o.invalidateQueries({queryKey:["friendshipStatus",n==null?void 0:n.id,a.id]})},onError:h=>{w.error(h.message)}}),g=()=>{if(!n){i();return}m(a.id)},u=s==null?void 0:s.status,y=u==="pending"&&(s==null?void 0:s.requester_id)===a.id;return(n==null?void 0:n.id)===a.id?e.jsx(e.Fragment,{children:t}):e.jsxs(ia,{children:[e.jsx(ra,{asChild:!0,children:t}),e.jsx(ce,{className:"w-80 bg-background border-border",children:e.jsxs("div",{className:"flex justify-between space-x-4",children:[e.jsxs(V,{children:[e.jsx(Z,{src:a.avatar_url||void 0}),e.jsx(Y,{children:((p=a.full_name)==null?void 0:p.charAt(0))||"U"})]}),e.jsxs("div",{className:"space-y-1 flex-1",children:[e.jsx(k,{to:`/users/${a.id}`,className:"hover:underline",children:e.jsx("h4",{className:"text-sm font-semibold text-gray-800",children:a.full_name||"Anonymous User"})}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"View profile for more details."})]}),e.jsx("div",{className:"flex items-center",children:r?e.jsx(Ee,{className:"h-9 w-28 bg-white/10"}):e.jsxs(e.Fragment,{children:[n&&e.jsxs(e.Fragment,{children:[u==="accepted"&&e.jsx(S,{variant:"secondary",children:"Friends"}),y&&e.jsx(S,{variant:"default",children:"Accept request"}),u==="pending"&&!y&&e.jsx(S,{variant:"secondary",children:"Request Sent"}),u==="blocked"&&e.jsx(S,{variant:"destructive",children:"Blocked"}),!u&&e.jsxs(L,{size:"sm",onClick:g,disabled:l,className:"bg-blue-500 text-white hover:bg-blue-600",children:[e.jsx($,{className:"mr-2 h-4 w-4"}),l?"Sending...":"Add Friend"]})]}),!n&&e.jsxs(L,{size:"sm",onClick:g,className:"bg-blue-500 text-white hover:bg-blue-600",children:[e.jsx($,{className:"mr-2 h-4 w-4"}),"Add Friend"]})]})})]})})]})},oa=({description:a,profiles:t,userId:n,categories:i,categoryId:o})=>{var s;return e.jsxs(X,{className:"bg-white/5 border-white/10 text-white",children:[e.jsx(ee,{children:e.jsx("h2",{className:"text-2xl font-semibold leading-none tracking-tight",children:"About this Ranking"})}),e.jsxs(ae,{className:"space-y-4",children:[a?e.jsx("p",{className:"text-gray-300",children:a}):e.jsx("p",{className:"text-gray-400 italic",children:"No description provided."}),t&&e.jsxs("div",{className:"flex items-center gap-4 pt-2",children:[e.jsx(q,{user:{id:n,full_name:t.full_name,avatar_url:t.avatar_url},children:e.jsxs(V,{children:[e.jsx(Z,{src:t.avatar_url||void 0}),e.jsx(Y,{children:((s=t.full_name)==null?void 0:s.charAt(0))||"A"})]})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Created by"}),e.jsx(q,{user:{id:n,full_name:t.full_name,avatar_url:t.avatar_url},children:e.jsx(k,{to:`/users/${n}`,className:"font-semibold text-white hover:underline",children:t.full_name||"Anonymous User"})})]})]}),i&&e.jsxs("div",{className:"!mt-6",children:[e.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Category"}),e.jsx(k,{to:`/category/${o}`,className:"inline-block px-3 py-1 text-sm font-medium bg-blue-500/20 text-blue-300 rounded-full hover:bg-blue-500/40 transition-colors",children:i.name||"Uncategorized"})]})]})]})},sa=({ranking:a})=>{var o;const t=((o=a.categories)==null?void 0:o.name)||"Athletes",n=t,i=`See who made the cut in this ${t} ranking.`;return e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs(X,{className:"bg-white/5 border-white/10 text-white",children:[e.jsxs(ee,{children:[e.jsx("h2",{className:"text-2xl font-semibold leading-none tracking-tight",children:n}),e.jsx(Re,{className:"text-gray-400",children:i})]}),e.jsx(ae,{className:"p-0",children:e.jsx("div",{className:"flex flex-col",children:a.athletes.length>0?a.athletes.map(s=>e.jsx(Be,{athlete:s},s.id)):e.jsx("p",{className:"p-6 text-gray-400",children:"No athletes have been ranked yet."})})})]}),e.jsx("div",{className:"mt-6",children:e.jsx(Pe,{rankingId:a.id})})]}),e.jsx("aside",{className:"space-y-8",children:e.jsx(oa,{description:a.description,profiles:a.profiles,userId:a.user_id,categories:a.categories,categoryId:a.category_id})})]})},la=({children:a})=>e.jsx("div",{className:"min-h-screen text-white flex flex-col",style:{background:"linear-gradient(135deg, #190749 0%, #070215 100%)"},children:e.jsx("main",{className:"container mx-auto px-4 py-8 flex-grow",children:a})}),ca=({rankingId:a})=>e.jsx("div",{className:"min-h-screen flex flex-col",style:{background:"linear-gradient(135deg, #190749 0%, #070215 100%)"},children:e.jsx("main",{className:"container mx-auto px-4 py-8 text-center text-white flex-grow flex items-center justify-center",children:e.jsxs("div",{children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),e.jsx("p",{children:"Loading your ranking..."}),e.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:["Ranking ID: ",a]})]})})}),ma=({open:a,onOpenChange:t,shareUrl:n,shareTitle:i,shareDescription:o,categoryHashtags:s,topAthletes:r,categoryName:m})=>e.jsx(De,{open:a,onOpenChange:t,url:n,text:o,title:i,description:o,hashtags:s,isRanking:!0,topAthletes:r,categoryName:m}),ua=()=>{const a=te();console.log("ðŸ” useRankingIdExtraction - ===================== HOOK START ====================="),console.log("ðŸ” useRankingIdExtraction - Raw params from useParams():",a),console.log("ðŸ” useRankingIdExtraction - params.id:",a.id),console.log("ðŸ” useRankingIdExtraction - typeof params.id:",typeof a.id),console.log("ðŸ” useRankingIdExtraction - Current URL:",window.location.href),console.log("ðŸ” useRankingIdExtraction - Current pathname:",window.location.pathname),console.log("ðŸ” useRankingIdExtraction - URL match test:",window.location.pathname.match(/\/ranking\/([^\/]+)/));let t;if(a.id&&typeof a.id=="string"&&a.id.trim()!=="")t=a.id.trim(),console.log("ðŸ” useRankingIdExtraction - Successfully extracted string ID:",t);else if(a.id&&typeof a.id=="object"){console.warn("ðŸ” useRankingIdExtraction - Malformed id object:",a.id);const o=a.id;o.value&&typeof o.value=="string"&&o.value!=="undefined"&&(t=o.value.trim(),console.log("ðŸ” useRankingIdExtraction - Extracted from object:",t))}else{console.error("ðŸ” useRankingIdExtraction - No valid ID found in params");const o=window.location.pathname.match(/\/ranking\/([^\/]+)/);o&&o[1]&&(t=o[1],console.log("ðŸ” useRankingIdExtraction - FALLBACK: Extracted from URL:",t))}const n=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,i=t&&n.test(t);return console.log("ðŸ” useRankingIdExtraction - Final extracted rankingId:",t),console.log("ðŸ” useRankingIdExtraction - Is valid UUID:",i),console.log("ðŸ” useRankingIdExtraction - UUID validation result:",{rankingId:t,passesRegex:t?n.test(t):!1,isValidUUID:i,regexPattern:n.toString()}),console.log("ðŸ” useRankingIdExtraction - ===================== HOOK END ====================="),{rankingId:t,isValidUUID:i,originalParams:a}},xa=()=>{var A,v,C,B,P,D,I,N,M,T;const a=te();console.log("ðŸ” UserRankingPage: ========================== COMPONENT START =========================="),console.log("ðŸ” UserRankingPage: Component is rendering at:",new Date().toISOString()),console.log("ðŸ” UserRankingPage: Current window.location:",{href:window.location.href,pathname:window.location.pathname,search:window.location.search,hash:window.location.hash}),console.log("ðŸ” UserRankingPage: useParams result:",a);const{rankingId:t,isValidUUID:n,originalParams:i}=ua(),[o,s]=d.useState(!1);console.log("ðŸ” UserRankingPage: Extracted ranking data:",{rankingId:t,isValidUUID:n,originalParams:i,currentUrl:window.location.href});const{data:r,isLoading:m,error:l}=Ge(n?t:void 0);if(console.log("ðŸ” UserRankingPage: Query results:",{ranking:r?{id:r.id,title:r.title,athleteCount:(A=r.athletes)==null?void 0:A.length,hasAthletes:!!r.athletes,firstAthlete:(C=(v=r.athletes)==null?void 0:v[0])==null?void 0:C.name}:null,isLoading:m,error:l==null?void 0:l.message}),d.useEffect(()=>{r&&(console.log("ðŸ” UserRankingPage: useEffect - Ranking data loaded, ensuring scroll to top"),setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},100))},[r]),m)return console.log("ðŸ” UserRankingPage: SHOWING LOADING STATE"),e.jsx(ca,{rankingId:t});if(!n||l||!r)return console.error("ðŸ” UserRankingPage: ERROR STATE DETECTED:",{isValidUUID:n,error:l==null?void 0:l.message,ranking:!!r,originalId:i.id,extractedRankingId:t}),e.jsx(He,{isValidUUID:n,error:l,rankingId:t,originalRankingId:i.id});console.log("ðŸ” UserRankingPage: SUCCESS - Rendering ranking page for:",r.title),console.log("ðŸ” UserRankingPage: SUCCESS - Athletes in ranking:",r.athletes.map(b=>`${b.position}. ${b.name}`));const g=window.location.href,u=`${r.title} - WoDaGOAT Ranking`,y=r.description||`Check out this ${((B=r.categories)==null?void 0:B.name)||"sports"} GOAT ranking on WoDaGOAT!`,p=r.athletes.slice(0,5).map(b=>b.name),h=(P=r.categories)!=null&&P.name?[`#${r.categories.name.replace(/\s+/g,"")}`]:[],c=(()=>{var _,W,G;const b=(_=r.categories)!=null&&_.name&&((W=r.profiles)!=null&&W.full_name)?`TOP 10 ranking of ${r.categories.name} by ${r.profiles.full_name}`:`${r.title} - WoDaGOAT`,me=encodeURIComponent(b),ue=p.length>0?encodeURIComponent(`Top picks: ${p.slice(0,3).join(", ")}`):encodeURIComponent(`Created by ${((G=r.profiles)==null?void 0:G.full_name)||"WoDaGOAT User"}`),de=new Date().getTime();return`https://og.png/api/og?title=${me}&subtitle=${ue}&theme=dark&width=1200&height=630&cache=${de}`})();return e.jsxs(e.Fragment,{children:[e.jsx($e,{title:r.title,description:y,categoryName:((D=r.categories)==null?void 0:D.name)||void 0,creatorName:((I=r.profiles)==null?void 0:I.full_name)||void 0,topAthletes:p,url:g}),e.jsxs(la,{children:[e.jsx(Ke,{title:r.title,createdAt:r.created_at,onShareClick:()=>s(!0)}),e.jsx(sa,{ranking:r})]}),e.jsx(ma,{open:o,onOpenChange:s,shareUrl:g,shareTitle:u,shareDescription:y,categoryHashtags:h,topAthletes:p,categoryName:((N=r.categories)==null?void 0:N.name)||void 0}),e.jsx(ze,{url:g,title:(M=r.categories)!=null&&M.name&&((T=r.profiles)!=null&&T.full_name)?`TOP 10 ranking of ${r.categories.name} by ${r.profiles.full_name}`:`${r.title} - WoDaGOAT`,description:y,imageUrl:c})]})};console.log("ðŸ” UserRankingPage: Component definition complete");export{xa as default};
