const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Index-Bdu0bFdN.js","assets/CommentSection-qz_mWrea.js","assets/trending-down-CZzN4wpH.js","assets/trending-up-C7CvnSET.js","assets/ShareDialog-WkeXcJas.js","assets/textarea-DAWKKPAt.js","assets/useUserRankingForCategory-BBEM16vD.js","assets/SocialActions-w3zlBMlD.js","assets/flame-DVX3-eVT.js","assets/athleteDataMapper-BQhAE8li.js","assets/CategoryPage-BtrP2sPe.js","assets/ComingSoonPage-BHkOC08E.js","assets/calendar-BKtBvoYG.js","assets/CreateRankingPage-2t3zTbmZ.js","assets/tooltip-Bvq1edap.js","assets/UserRankingPage-C8WozFdu.js","assets/format-BHf82gLm.js","assets/RankedAthleteRow-DhcuKDpD.js","assets/UserProfilePage-CuIG37o4.js","assets/useUserQuizAttempts-DN2PSnCZ.js","assets/QuizActivity-DMsz-v5y.js","assets/BadgeCard-UnCSqldB.js","assets/target-Bezeda79.js","assets/PublicProfilePage-DMKdSibB.js","assets/useFriendActions-BRs1SMEo.js","assets/BadgeShowcase-D8TwguRA.js","assets/FeedPage-DgjZjwyy.js","assets/QuizPage-Dfu1LnFw.js","assets/radio-group-C3QFr_Z3.js","assets/LineChart-CXZp6k_F.js","assets/ContactPage-CRP_hOII.js","assets/UserManagementPage-s_BYNRJ7.js","assets/shield-alert-CDJYaQEO.js","assets/CreateQuizPage-CETgjiPQ.js","assets/calendar-Cp1CsHJb.js","assets/AnalyticsDashboardPage-k_r6FEvA.js"])))=>i.map(i=>d[i]);
var uF=Object.defineProperty;var cE=e=>{throw TypeError(e)};var dF=(e,t,n)=>t in e?uF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var kn=(e,t,n)=>dF(e,typeof t!="symbol"?t+"":t,n),My=(e,t,n)=>t.has(e)||cE("Cannot "+n);var R=(e,t,n)=>(My(e,t,"read from private field"),n?n.call(e):t.get(e)),ve=(e,t,n)=>t.has(e)?cE("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ie=(e,t,n,r)=>(My(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),De=(e,t,n)=>(My(e,t,"access private method"),n);var ch=(e,t,n,r)=>({set _(s){ie(e,t,s,n)},get _(){return R(e,t,r)}});function VT(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var Kr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function fF(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var WT={exports:{}},ig={},qT={exports:{}},qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ef=Symbol.for("react.element"),hF=Symbol.for("react.portal"),pF=Symbol.for("react.fragment"),mF=Symbol.for("react.strict_mode"),gF=Symbol.for("react.profiler"),yF=Symbol.for("react.provider"),vF=Symbol.for("react.context"),_F=Symbol.for("react.forward_ref"),xF=Symbol.for("react.suspense"),wF=Symbol.for("react.memo"),bF=Symbol.for("react.lazy"),uE=Symbol.iterator;function SF(e){return e===null||typeof e!="object"?null:(e=uE&&e[uE]||e["@@iterator"],typeof e=="function"?e:null)}var GT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},KT=Object.assign,YT={};function Wc(e,t,n){this.props=e,this.context=t,this.refs=YT,this.updater=n||GT}Wc.prototype.isReactComponent={};Wc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Wc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function QT(){}QT.prototype=Wc.prototype;function Yx(e,t,n){this.props=e,this.context=t,this.refs=YT,this.updater=n||GT}var Qx=Yx.prototype=new QT;Qx.constructor=Yx;KT(Qx,Wc.prototype);Qx.isPureReactComponent=!0;var dE=Array.isArray,XT=Object.prototype.hasOwnProperty,Xx={current:null},ZT={key:!0,ref:!0,__self:!0,__source:!0};function JT(e,t,n){var r,s={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)XT.call(t,r)&&!ZT.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ef,type:e,key:o,ref:i,props:s,_owner:Xx.current}}function EF(e,t){return{$$typeof:Ef,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Zx(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ef}function kF(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var fE=/\/+/g;function Dy(e,t){return typeof e=="object"&&e!==null&&e.key!=null?kF(""+e.key):t.toString(36)}function op(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Ef:case hF:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+Dy(i,0):r,dE(s)?(n="",e!=null&&(n=e.replace(fE,"$&/")+"/"),op(s,t,n,"",function(u){return u})):s!=null&&(Zx(s)&&(s=EF(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(fE,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",dE(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+Dy(o,a);i+=op(o,t,n,l,s)}else if(l=SF(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+Dy(o,a++),i+=op(o,t,n,l,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function uh(e,t,n){if(e==null)return e;var r=[],s=0;return op(e,r,"","",function(o){return t.call(n,o,s++)}),r}function CF(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Gn={current:null},ip={transition:null},TF={ReactCurrentDispatcher:Gn,ReactCurrentBatchConfig:ip,ReactCurrentOwner:Xx};function eN(){throw Error("act(...) is not supported in production builds of React.")}qe.Children={map:uh,forEach:function(e,t,n){uh(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return uh(e,function(){t++}),t},toArray:function(e){return uh(e,function(t){return t})||[]},only:function(e){if(!Zx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};qe.Component=Wc;qe.Fragment=pF;qe.Profiler=gF;qe.PureComponent=Yx;qe.StrictMode=mF;qe.Suspense=xF;qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TF;qe.act=eN;qe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=KT({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Xx.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)XT.call(t,l)&&!ZT.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ef,type:e.type,key:s,ref:o,props:r,_owner:i}};qe.createContext=function(e){return e={$$typeof:vF,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:yF,_context:e},e.Consumer=e};qe.createElement=JT;qe.createFactory=function(e){var t=JT.bind(null,e);return t.type=e,t};qe.createRef=function(){return{current:null}};qe.forwardRef=function(e){return{$$typeof:_F,render:e}};qe.isValidElement=Zx;qe.lazy=function(e){return{$$typeof:bF,_payload:{_status:-1,_result:e},_init:CF}};qe.memo=function(e,t){return{$$typeof:wF,type:e,compare:t===void 0?null:t}};qe.startTransition=function(e){var t=ip.transition;ip.transition={};try{e()}finally{ip.transition=t}};qe.unstable_act=eN;qe.useCallback=function(e,t){return Gn.current.useCallback(e,t)};qe.useContext=function(e){return Gn.current.useContext(e)};qe.useDebugValue=function(){};qe.useDeferredValue=function(e){return Gn.current.useDeferredValue(e)};qe.useEffect=function(e,t){return Gn.current.useEffect(e,t)};qe.useId=function(){return Gn.current.useId()};qe.useImperativeHandle=function(e,t,n){return Gn.current.useImperativeHandle(e,t,n)};qe.useInsertionEffect=function(e,t){return Gn.current.useInsertionEffect(e,t)};qe.useLayoutEffect=function(e,t){return Gn.current.useLayoutEffect(e,t)};qe.useMemo=function(e,t){return Gn.current.useMemo(e,t)};qe.useReducer=function(e,t,n){return Gn.current.useReducer(e,t,n)};qe.useRef=function(e){return Gn.current.useRef(e)};qe.useState=function(e){return Gn.current.useState(e)};qe.useSyncExternalStore=function(e,t,n){return Gn.current.useSyncExternalStore(e,t,n)};qe.useTransition=function(){return Gn.current.useTransition()};qe.version="18.3.1";qT.exports=qe;var m=qT.exports;const z=Vc(m),tN=VT({__proto__:null,default:z},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NF=m,RF=Symbol.for("react.element"),AF=Symbol.for("react.fragment"),IF=Object.prototype.hasOwnProperty,jF=NF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,PF={key:!0,ref:!0,__self:!0,__source:!0};function nN(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)IF.call(t,r)&&!PF.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:RF,type:e,key:o,ref:i,props:s,_owner:jF.current}}ig.Fragment=AF;ig.jsx=nN;ig.jsxs=nN;WT.exports=ig;var c=WT.exports,rN={exports:{}},Tr={},sN={exports:{}},oN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,F){var G=A.length;A.push(F);e:for(;0<G;){var W=G-1>>>1,le=A[W];if(0<s(le,F))A[W]=F,A[G]=le,G=W;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var F=A[0],G=A.pop();if(G!==F){A[0]=G;e:for(var W=0,le=A.length,ue=le>>>1;W<ue;){var Re=2*(W+1)-1,xe=A[Re],pe=Re+1,se=A[pe];if(0>s(xe,G))pe<le&&0>s(se,xe)?(A[W]=se,A[pe]=G,W=pe):(A[W]=xe,A[Re]=G,W=Re);else if(pe<le&&0>s(se,G))A[W]=se,A[pe]=G,W=pe;else break e}}return F}function s(A,F){var G=A.sortIndex-F.sortIndex;return G!==0?G:A.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var l=[],u=[],d=1,f=null,h=3,p=!1,y=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(A){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=A)r(u),F.sortIndex=F.expirationTime,t(l,F);else break;F=n(u)}}function b(A){if(g=!1,x(A),!y)if(n(l)!==null)y=!0,$(S);else{var F=n(u);F!==null&&q(b,F.startTime-A)}}function S(A,F){y=!1,g&&(g=!1,_(C),C=-1),p=!0;var G=h;try{for(x(F),f=n(l);f!==null&&(!(f.expirationTime>F)||A&&!D());){var W=f.callback;if(typeof W=="function"){f.callback=null,h=f.priorityLevel;var le=W(f.expirationTime<=F);F=e.unstable_now(),typeof le=="function"?f.callback=le:f===n(l)&&r(l),x(F)}else r(l);f=n(l)}if(f!==null)var ue=!0;else{var Re=n(u);Re!==null&&q(b,Re.startTime-F),ue=!1}return ue}finally{f=null,h=G,p=!1}}var E=!1,k=null,C=-1,T=5,j=-1;function D(){return!(e.unstable_now()-j<T)}function P(){if(k!==null){var A=e.unstable_now();j=A;var F=!0;try{F=k(!0,A)}finally{F?U():(E=!1,k=null)}}else E=!1}var U;if(typeof v=="function")U=function(){v(P)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,L=B.port2;B.port1.onmessage=P,U=function(){L.postMessage(null)}}else U=function(){w(P,0)};function $(A){k=A,E||(E=!0,U())}function q(A,F){C=w(function(){A(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,$(S))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(A){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var G=h;h=F;try{return A()}finally{h=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,F){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var G=h;h=A;try{return F()}finally{h=G}},e.unstable_scheduleCallback=function(A,F,G){var W=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?W+G:W):G=W,A){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=G+le,A={id:d++,callback:F,priorityLevel:A,startTime:G,expirationTime:le,sortIndex:-1},G>W?(A.sortIndex=G,t(u,A),n(l)===null&&A===n(u)&&(g?(_(C),C=-1):g=!0,q(b,G-W))):(A.sortIndex=le,t(l,A),y||p||(y=!0,$(S))),A},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(A){var F=h;return function(){var G=h;h=F;try{return A.apply(this,arguments)}finally{h=G}}}})(oN);sN.exports=oN;var OF=sN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MF=m,Er=OF;function K(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var iN=new Set,Ed={};function Qa(e,t){_c(e,t),_c(e+"Capture",t)}function _c(e,t){for(Ed[e]=t,e=0;e<t.length;e++)iN.add(t[e])}var Co=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),x0=Object.prototype.hasOwnProperty,DF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hE={},pE={};function LF(e){return x0.call(pE,e)?!0:x0.call(hE,e)?!1:DF.test(e)?pE[e]=!0:(hE[e]=!0,!1)}function FF(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function $F(e,t,n,r){if(t===null||typeof t>"u"||FF(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Kn(e,t,n,r,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var xn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){xn[e]=new Kn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];xn[t]=new Kn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){xn[e]=new Kn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){xn[e]=new Kn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){xn[e]=new Kn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){xn[e]=new Kn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){xn[e]=new Kn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){xn[e]=new Kn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){xn[e]=new Kn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Jx=/[\-:]([a-z])/g;function ew(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Jx,ew);xn[t]=new Kn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Jx,ew);xn[t]=new Kn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Jx,ew);xn[t]=new Kn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){xn[e]=new Kn(e,1,!1,e.toLowerCase(),null,!1,!1)});xn.xlinkHref=new Kn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){xn[e]=new Kn(e,1,!1,e.toLowerCase(),null,!0,!0)});function tw(e,t,n,r){var s=xn.hasOwnProperty(t)?xn[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&($F(t,n,s,r)&&(n=null),r||s===null?LF(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var zo=MF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dh=Symbol.for("react.element"),kl=Symbol.for("react.portal"),Cl=Symbol.for("react.fragment"),nw=Symbol.for("react.strict_mode"),w0=Symbol.for("react.profiler"),aN=Symbol.for("react.provider"),lN=Symbol.for("react.context"),rw=Symbol.for("react.forward_ref"),b0=Symbol.for("react.suspense"),S0=Symbol.for("react.suspense_list"),sw=Symbol.for("react.memo"),ei=Symbol.for("react.lazy"),cN=Symbol.for("react.offscreen"),mE=Symbol.iterator;function _u(e){return e===null||typeof e!="object"?null:(e=mE&&e[mE]||e["@@iterator"],typeof e=="function"?e:null)}var Rt=Object.assign,Ly;function zu(e){if(Ly===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ly=t&&t[1]||""}return`
`+Ly+e}var Fy=!1;function $y(e,t){if(!e||Fy)return"";Fy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var l=`
`+s[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=a);break}}}finally{Fy=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?zu(e):""}function UF(e){switch(e.tag){case 5:return zu(e.type);case 16:return zu("Lazy");case 13:return zu("Suspense");case 19:return zu("SuspenseList");case 0:case 2:case 15:return e=$y(e.type,!1),e;case 11:return e=$y(e.type.render,!1),e;case 1:return e=$y(e.type,!0),e;default:return""}}function E0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Cl:return"Fragment";case kl:return"Portal";case w0:return"Profiler";case nw:return"StrictMode";case b0:return"Suspense";case S0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case lN:return(e.displayName||"Context")+".Consumer";case aN:return(e._context.displayName||"Context")+".Provider";case rw:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case sw:return t=e.displayName||null,t!==null?t:E0(e.type)||"Memo";case ei:t=e._payload,e=e._init;try{return E0(e(t))}catch{}}return null}function BF(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return E0(t);case 8:return t===nw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Oi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function uN(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function zF(e){var t=uN(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fh(e){e._valueTracker||(e._valueTracker=zF(e))}function dN(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=uN(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function $p(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function k0(e,t){var n=t.checked;return Rt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function gE(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Oi(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function fN(e,t){t=t.checked,t!=null&&tw(e,"checked",t,!1)}function C0(e,t){fN(e,t);var n=Oi(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?T0(e,t.type,n):t.hasOwnProperty("defaultValue")&&T0(e,t.type,Oi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function yE(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function T0(e,t,n){(t!=="number"||$p(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Hu=Array.isArray;function Hl(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Oi(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function N0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(K(91));return Rt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function vE(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(K(92));if(Hu(n)){if(1<n.length)throw Error(K(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Oi(n)}}function hN(e,t){var n=Oi(t.value),r=Oi(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function _E(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function pN(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function R0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?pN(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var hh,mN=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(hh=hh||document.createElement("div"),hh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=hh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function kd(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ju={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},HF=["Webkit","ms","Moz","O"];Object.keys(Ju).forEach(function(e){HF.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ju[t]=Ju[e]})});function gN(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ju.hasOwnProperty(e)&&Ju[e]?(""+t).trim():t+"px"}function yN(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=gN(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var VF=Rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function A0(e,t){if(t){if(VF[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(K(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(K(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(K(61))}if(t.style!=null&&typeof t.style!="object")throw Error(K(62))}}function I0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var j0=null;function ow(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var P0=null,Vl=null,Wl=null;function xE(e){if(e=Tf(e)){if(typeof P0!="function")throw Error(K(280));var t=e.stateNode;t&&(t=dg(t),P0(e.stateNode,e.type,t))}}function vN(e){Vl?Wl?Wl.push(e):Wl=[e]:Vl=e}function _N(){if(Vl){var e=Vl,t=Wl;if(Wl=Vl=null,xE(e),t)for(e=0;e<t.length;e++)xE(t[e])}}function xN(e,t){return e(t)}function wN(){}var Uy=!1;function bN(e,t,n){if(Uy)return e(t,n);Uy=!0;try{return xN(e,t,n)}finally{Uy=!1,(Vl!==null||Wl!==null)&&(wN(),_N())}}function Cd(e,t){var n=e.stateNode;if(n===null)return null;var r=dg(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(K(231,t,typeof n));return n}var O0=!1;if(Co)try{var xu={};Object.defineProperty(xu,"passive",{get:function(){O0=!0}}),window.addEventListener("test",xu,xu),window.removeEventListener("test",xu,xu)}catch{O0=!1}function WF(e,t,n,r,s,o,i,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var ed=!1,Up=null,Bp=!1,M0=null,qF={onError:function(e){ed=!0,Up=e}};function GF(e,t,n,r,s,o,i,a,l){ed=!1,Up=null,WF.apply(qF,arguments)}function KF(e,t,n,r,s,o,i,a,l){if(GF.apply(this,arguments),ed){if(ed){var u=Up;ed=!1,Up=null}else throw Error(K(198));Bp||(Bp=!0,M0=u)}}function Xa(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function SN(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function wE(e){if(Xa(e)!==e)throw Error(K(188))}function YF(e){var t=e.alternate;if(!t){if(t=Xa(e),t===null)throw Error(K(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return wE(s),e;if(o===r)return wE(s),t;o=o.sibling}throw Error(K(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?e:t}function EN(e){return e=YF(e),e!==null?kN(e):null}function kN(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=kN(e);if(t!==null)return t;e=e.sibling}return null}var CN=Er.unstable_scheduleCallback,bE=Er.unstable_cancelCallback,QF=Er.unstable_shouldYield,XF=Er.unstable_requestPaint,$t=Er.unstable_now,ZF=Er.unstable_getCurrentPriorityLevel,iw=Er.unstable_ImmediatePriority,TN=Er.unstable_UserBlockingPriority,zp=Er.unstable_NormalPriority,JF=Er.unstable_LowPriority,NN=Er.unstable_IdlePriority,ag=null,zs=null;function e$(e){if(zs&&typeof zs.onCommitFiberRoot=="function")try{zs.onCommitFiberRoot(ag,e,void 0,(e.current.flags&128)===128)}catch{}}var ys=Math.clz32?Math.clz32:r$,t$=Math.log,n$=Math.LN2;function r$(e){return e>>>=0,e===0?32:31-(t$(e)/n$|0)|0}var ph=64,mh=4194304;function Vu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Hp(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~s;a!==0?r=Vu(a):(o&=i,o!==0&&(r=Vu(o)))}else i=n&~s,i!==0?r=Vu(i):o!==0&&(r=Vu(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ys(t),s=1<<n,r|=e[n],t&=~s;return r}function s$(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function o$(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-ys(o),a=1<<i,l=s[i];l===-1?(!(a&n)||a&r)&&(s[i]=s$(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function D0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function RN(){var e=ph;return ph<<=1,!(ph&4194240)&&(ph=64),e}function By(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function kf(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ys(t),e[t]=n}function i$(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-ys(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function aw(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ys(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var it=0;function AN(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var IN,lw,jN,PN,ON,L0=!1,gh=[],bi=null,Si=null,Ei=null,Td=new Map,Nd=new Map,oi=[],a$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function SE(e,t){switch(e){case"focusin":case"focusout":bi=null;break;case"dragenter":case"dragleave":Si=null;break;case"mouseover":case"mouseout":Ei=null;break;case"pointerover":case"pointerout":Td.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nd.delete(t.pointerId)}}function wu(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Tf(t),t!==null&&lw(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function l$(e,t,n,r,s){switch(t){case"focusin":return bi=wu(bi,e,t,n,r,s),!0;case"dragenter":return Si=wu(Si,e,t,n,r,s),!0;case"mouseover":return Ei=wu(Ei,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return Td.set(o,wu(Td.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Nd.set(o,wu(Nd.get(o)||null,e,t,n,r,s)),!0}return!1}function MN(e){var t=fa(e.target);if(t!==null){var n=Xa(t);if(n!==null){if(t=n.tag,t===13){if(t=SN(n),t!==null){e.blockedOn=t,ON(e.priority,function(){jN(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ap(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=F0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);j0=r,n.target.dispatchEvent(r),j0=null}else return t=Tf(n),t!==null&&lw(t),e.blockedOn=n,!1;t.shift()}return!0}function EE(e,t,n){ap(e)&&n.delete(t)}function c$(){L0=!1,bi!==null&&ap(bi)&&(bi=null),Si!==null&&ap(Si)&&(Si=null),Ei!==null&&ap(Ei)&&(Ei=null),Td.forEach(EE),Nd.forEach(EE)}function bu(e,t){e.blockedOn===t&&(e.blockedOn=null,L0||(L0=!0,Er.unstable_scheduleCallback(Er.unstable_NormalPriority,c$)))}function Rd(e){function t(s){return bu(s,e)}if(0<gh.length){bu(gh[0],e);for(var n=1;n<gh.length;n++){var r=gh[n];r.blockedOn===e&&(r.blockedOn=null)}}for(bi!==null&&bu(bi,e),Si!==null&&bu(Si,e),Ei!==null&&bu(Ei,e),Td.forEach(t),Nd.forEach(t),n=0;n<oi.length;n++)r=oi[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<oi.length&&(n=oi[0],n.blockedOn===null);)MN(n),n.blockedOn===null&&oi.shift()}var ql=zo.ReactCurrentBatchConfig,Vp=!0;function u$(e,t,n,r){var s=it,o=ql.transition;ql.transition=null;try{it=1,cw(e,t,n,r)}finally{it=s,ql.transition=o}}function d$(e,t,n,r){var s=it,o=ql.transition;ql.transition=null;try{it=4,cw(e,t,n,r)}finally{it=s,ql.transition=o}}function cw(e,t,n,r){if(Vp){var s=F0(e,t,n,r);if(s===null)Xy(e,t,r,Wp,n),SE(e,r);else if(l$(s,e,t,n,r))r.stopPropagation();else if(SE(e,r),t&4&&-1<a$.indexOf(e)){for(;s!==null;){var o=Tf(s);if(o!==null&&IN(o),o=F0(e,t,n,r),o===null&&Xy(e,t,r,Wp,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Xy(e,t,r,null,n)}}var Wp=null;function F0(e,t,n,r){if(Wp=null,e=ow(r),e=fa(e),e!==null)if(t=Xa(e),t===null)e=null;else if(n=t.tag,n===13){if(e=SN(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wp=e,null}function DN(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ZF()){case iw:return 1;case TN:return 4;case zp:case JF:return 16;case NN:return 536870912;default:return 16}default:return 16}}var _i=null,uw=null,lp=null;function LN(){if(lp)return lp;var e,t=uw,n=t.length,r,s="value"in _i?_i.value:_i.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[o-r];r++);return lp=s.slice(e,1<r?1-r:void 0)}function cp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function yh(){return!0}function kE(){return!1}function Nr(e){function t(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?yh:kE,this.isPropagationStopped=kE,this}return Rt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yh)},persist:function(){},isPersistent:yh}),t}var qc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dw=Nr(qc),Cf=Rt({},qc,{view:0,detail:0}),f$=Nr(Cf),zy,Hy,Su,lg=Rt({},Cf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fw,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Su&&(Su&&e.type==="mousemove"?(zy=e.screenX-Su.screenX,Hy=e.screenY-Su.screenY):Hy=zy=0,Su=e),zy)},movementY:function(e){return"movementY"in e?e.movementY:Hy}}),CE=Nr(lg),h$=Rt({},lg,{dataTransfer:0}),p$=Nr(h$),m$=Rt({},Cf,{relatedTarget:0}),Vy=Nr(m$),g$=Rt({},qc,{animationName:0,elapsedTime:0,pseudoElement:0}),y$=Nr(g$),v$=Rt({},qc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_$=Nr(v$),x$=Rt({},qc,{data:0}),TE=Nr(x$),w$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},b$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},S$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function E$(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=S$[e])?!!t[e]:!1}function fw(){return E$}var k$=Rt({},Cf,{key:function(e){if(e.key){var t=w$[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=cp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?b$[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fw,charCode:function(e){return e.type==="keypress"?cp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?cp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),C$=Nr(k$),T$=Rt({},lg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),NE=Nr(T$),N$=Rt({},Cf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fw}),R$=Nr(N$),A$=Rt({},qc,{propertyName:0,elapsedTime:0,pseudoElement:0}),I$=Nr(A$),j$=Rt({},lg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),P$=Nr(j$),O$=[9,13,27,32],hw=Co&&"CompositionEvent"in window,td=null;Co&&"documentMode"in document&&(td=document.documentMode);var M$=Co&&"TextEvent"in window&&!td,FN=Co&&(!hw||td&&8<td&&11>=td),RE=" ",AE=!1;function $N(e,t){switch(e){case"keyup":return O$.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function UN(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Tl=!1;function D$(e,t){switch(e){case"compositionend":return UN(t);case"keypress":return t.which!==32?null:(AE=!0,RE);case"textInput":return e=t.data,e===RE&&AE?null:e;default:return null}}function L$(e,t){if(Tl)return e==="compositionend"||!hw&&$N(e,t)?(e=LN(),lp=uw=_i=null,Tl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return FN&&t.locale!=="ko"?null:t.data;default:return null}}var F$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function IE(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!F$[e.type]:t==="textarea"}function BN(e,t,n,r){vN(r),t=qp(t,"onChange"),0<t.length&&(n=new dw("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var nd=null,Ad=null;function $$(e){ZN(e,0)}function cg(e){var t=Al(e);if(dN(t))return e}function U$(e,t){if(e==="change")return t}var zN=!1;if(Co){var Wy;if(Co){var qy="oninput"in document;if(!qy){var jE=document.createElement("div");jE.setAttribute("oninput","return;"),qy=typeof jE.oninput=="function"}Wy=qy}else Wy=!1;zN=Wy&&(!document.documentMode||9<document.documentMode)}function PE(){nd&&(nd.detachEvent("onpropertychange",HN),Ad=nd=null)}function HN(e){if(e.propertyName==="value"&&cg(Ad)){var t=[];BN(t,Ad,e,ow(e)),bN($$,t)}}function B$(e,t,n){e==="focusin"?(PE(),nd=t,Ad=n,nd.attachEvent("onpropertychange",HN)):e==="focusout"&&PE()}function z$(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cg(Ad)}function H$(e,t){if(e==="click")return cg(t)}function V$(e,t){if(e==="input"||e==="change")return cg(t)}function W$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ws=typeof Object.is=="function"?Object.is:W$;function Id(e,t){if(ws(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!x0.call(t,s)||!ws(e[s],t[s]))return!1}return!0}function OE(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ME(e,t){var n=OE(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=OE(n)}}function VN(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?VN(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function WN(){for(var e=window,t=$p();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=$p(e.document)}return t}function pw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function q$(e){var t=WN(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&VN(n.ownerDocument.documentElement,n)){if(r!==null&&pw(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=ME(n,o);var i=ME(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var G$=Co&&"documentMode"in document&&11>=document.documentMode,Nl=null,$0=null,rd=null,U0=!1;function DE(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;U0||Nl==null||Nl!==$p(r)||(r=Nl,"selectionStart"in r&&pw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),rd&&Id(rd,r)||(rd=r,r=qp($0,"onSelect"),0<r.length&&(t=new dw("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Nl)))}function vh(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Rl={animationend:vh("Animation","AnimationEnd"),animationiteration:vh("Animation","AnimationIteration"),animationstart:vh("Animation","AnimationStart"),transitionend:vh("Transition","TransitionEnd")},Gy={},qN={};Co&&(qN=document.createElement("div").style,"AnimationEvent"in window||(delete Rl.animationend.animation,delete Rl.animationiteration.animation,delete Rl.animationstart.animation),"TransitionEvent"in window||delete Rl.transitionend.transition);function ug(e){if(Gy[e])return Gy[e];if(!Rl[e])return e;var t=Rl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in qN)return Gy[e]=t[n];return e}var GN=ug("animationend"),KN=ug("animationiteration"),YN=ug("animationstart"),QN=ug("transitionend"),XN=new Map,LE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yi(e,t){XN.set(e,t),Qa(t,[e])}for(var Ky=0;Ky<LE.length;Ky++){var Yy=LE[Ky],K$=Yy.toLowerCase(),Y$=Yy[0].toUpperCase()+Yy.slice(1);Yi(K$,"on"+Y$)}Yi(GN,"onAnimationEnd");Yi(KN,"onAnimationIteration");Yi(YN,"onAnimationStart");Yi("dblclick","onDoubleClick");Yi("focusin","onFocus");Yi("focusout","onBlur");Yi(QN,"onTransitionEnd");_c("onMouseEnter",["mouseout","mouseover"]);_c("onMouseLeave",["mouseout","mouseover"]);_c("onPointerEnter",["pointerout","pointerover"]);_c("onPointerLeave",["pointerout","pointerover"]);Qa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q$=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wu));function FE(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,KF(r,t,void 0,e),e.currentTarget=null}function ZN(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&s.isPropagationStopped())break e;FE(s,a,u),o=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&s.isPropagationStopped())break e;FE(s,a,u),o=l}}}if(Bp)throw e=M0,Bp=!1,M0=null,e}function vt(e,t){var n=t[W0];n===void 0&&(n=t[W0]=new Set);var r=e+"__bubble";n.has(r)||(JN(t,e,2,!1),n.add(r))}function Qy(e,t,n){var r=0;t&&(r|=4),JN(n,e,r,t)}var _h="_reactListening"+Math.random().toString(36).slice(2);function jd(e){if(!e[_h]){e[_h]=!0,iN.forEach(function(n){n!=="selectionchange"&&(Q$.has(n)||Qy(n,!1,e),Qy(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_h]||(t[_h]=!0,Qy("selectionchange",!1,t))}}function JN(e,t,n,r){switch(DN(t)){case 1:var s=u$;break;case 4:s=d$;break;default:s=cw}n=s.bind(null,t,n,e),s=void 0,!O0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Xy(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;i=i.return}for(;a!==null;){if(i=fa(a),i===null)return;if(l=i.tag,l===5||l===6){r=o=i;continue e}a=a.parentNode}}r=r.return}bN(function(){var u=o,d=ow(n),f=[];e:{var h=XN.get(e);if(h!==void 0){var p=dw,y=e;switch(e){case"keypress":if(cp(n)===0)break e;case"keydown":case"keyup":p=C$;break;case"focusin":y="focus",p=Vy;break;case"focusout":y="blur",p=Vy;break;case"beforeblur":case"afterblur":p=Vy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=CE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=p$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=R$;break;case GN:case KN:case YN:p=y$;break;case QN:p=I$;break;case"scroll":p=f$;break;case"wheel":p=P$;break;case"copy":case"cut":case"paste":p=_$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=NE}var g=(t&4)!==0,w=!g&&e==="scroll",_=g?h!==null?h+"Capture":null:h;g=[];for(var v=u,x;v!==null;){x=v;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,_!==null&&(b=Cd(v,_),b!=null&&g.push(Pd(v,b,x)))),w)break;v=v.return}0<g.length&&(h=new p(h,y,null,n,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==j0&&(y=n.relatedTarget||n.fromElement)&&(fa(y)||y[To]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=u,y=y?fa(y):null,y!==null&&(w=Xa(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(g=CE,b="onMouseLeave",_="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=NE,b="onPointerLeave",_="onPointerEnter",v="pointer"),w=p==null?h:Al(p),x=y==null?h:Al(y),h=new g(b,v+"leave",p,n,d),h.target=w,h.relatedTarget=x,b=null,fa(d)===u&&(g=new g(_,v+"enter",y,n,d),g.target=x,g.relatedTarget=w,b=g),w=b,p&&y)t:{for(g=p,_=y,v=0,x=g;x;x=ul(x))v++;for(x=0,b=_;b;b=ul(b))x++;for(;0<v-x;)g=ul(g),v--;for(;0<x-v;)_=ul(_),x--;for(;v--;){if(g===_||_!==null&&g===_.alternate)break t;g=ul(g),_=ul(_)}g=null}else g=null;p!==null&&$E(f,h,p,g,!1),y!==null&&w!==null&&$E(f,w,y,g,!0)}}e:{if(h=u?Al(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=U$;else if(IE(h))if(zN)S=V$;else{S=z$;var E=B$}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=H$);if(S&&(S=S(e,u))){BN(f,S,n,d);break e}E&&E(e,h,u),e==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&T0(h,"number",h.value)}switch(E=u?Al(u):window,e){case"focusin":(IE(E)||E.contentEditable==="true")&&(Nl=E,$0=u,rd=null);break;case"focusout":rd=$0=Nl=null;break;case"mousedown":U0=!0;break;case"contextmenu":case"mouseup":case"dragend":U0=!1,DE(f,n,d);break;case"selectionchange":if(G$)break;case"keydown":case"keyup":DE(f,n,d)}var k;if(hw)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Tl?$N(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(FN&&n.locale!=="ko"&&(Tl||C!=="onCompositionStart"?C==="onCompositionEnd"&&Tl&&(k=LN()):(_i=d,uw="value"in _i?_i.value:_i.textContent,Tl=!0)),E=qp(u,C),0<E.length&&(C=new TE(C,e,null,n,d),f.push({event:C,listeners:E}),k?C.data=k:(k=UN(n),k!==null&&(C.data=k)))),(k=M$?D$(e,n):L$(e,n))&&(u=qp(u,"onBeforeInput"),0<u.length&&(d=new TE("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=k))}ZN(f,t)})}function Pd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qp(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Cd(e,n),o!=null&&r.unshift(Pd(e,o,s)),o=Cd(e,t),o!=null&&r.push(Pd(e,o,s))),e=e.return}return r}function ul(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function $E(e,t,n,r,s){for(var o=t._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Cd(n,o),l!=null&&i.unshift(Pd(n,l,a))):s||(l=Cd(n,o),l!=null&&i.push(Pd(n,l,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var X$=/\r\n?/g,Z$=/\u0000|\uFFFD/g;function UE(e){return(typeof e=="string"?e:""+e).replace(X$,`
`).replace(Z$,"")}function xh(e,t,n){if(t=UE(t),UE(e)!==t&&n)throw Error(K(425))}function Gp(){}var B0=null,z0=null;function H0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var V0=typeof setTimeout=="function"?setTimeout:void 0,J$=typeof clearTimeout=="function"?clearTimeout:void 0,BE=typeof Promise=="function"?Promise:void 0,e4=typeof queueMicrotask=="function"?queueMicrotask:typeof BE<"u"?function(e){return BE.resolve(null).then(e).catch(t4)}:V0;function t4(e){setTimeout(function(){throw e})}function Zy(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Rd(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Rd(t)}function ki(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function zE(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Gc=Math.random().toString(36).slice(2),Ls="__reactFiber$"+Gc,Od="__reactProps$"+Gc,To="__reactContainer$"+Gc,W0="__reactEvents$"+Gc,n4="__reactListeners$"+Gc,r4="__reactHandles$"+Gc;function fa(e){var t=e[Ls];if(t)return t;for(var n=e.parentNode;n;){if(t=n[To]||n[Ls]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=zE(e);e!==null;){if(n=e[Ls])return n;e=zE(e)}return t}e=n,n=e.parentNode}return null}function Tf(e){return e=e[Ls]||e[To],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Al(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(K(33))}function dg(e){return e[Od]||null}var q0=[],Il=-1;function Qi(e){return{current:e}}function _t(e){0>Il||(e.current=q0[Il],q0[Il]=null,Il--)}function mt(e,t){Il++,q0[Il]=e.current,e.current=t}var Mi={},In=Qi(Mi),ar=Qi(!1),Oa=Mi;function xc(e,t){var n=e.type.contextTypes;if(!n)return Mi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function lr(e){return e=e.childContextTypes,e!=null}function Kp(){_t(ar),_t(In)}function HE(e,t,n){if(In.current!==Mi)throw Error(K(168));mt(In,t),mt(ar,n)}function eR(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(K(108,BF(e)||"Unknown",s));return Rt({},n,r)}function Yp(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Mi,Oa=In.current,mt(In,e),mt(ar,ar.current),!0}function VE(e,t,n){var r=e.stateNode;if(!r)throw Error(K(169));n?(e=eR(e,t,Oa),r.__reactInternalMemoizedMergedChildContext=e,_t(ar),_t(In),mt(In,e)):_t(ar),mt(ar,n)}var go=null,fg=!1,Jy=!1;function tR(e){go===null?go=[e]:go.push(e)}function s4(e){fg=!0,tR(e)}function Xi(){if(!Jy&&go!==null){Jy=!0;var e=0,t=it;try{var n=go;for(it=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}go=null,fg=!1}catch(s){throw go!==null&&(go=go.slice(e+1)),CN(iw,Xi),s}finally{it=t,Jy=!1}}return null}var jl=[],Pl=0,Qp=null,Xp=0,$r=[],Ur=0,Ma=null,vo=1,_o="";function ia(e,t){jl[Pl++]=Xp,jl[Pl++]=Qp,Qp=e,Xp=t}function nR(e,t,n){$r[Ur++]=vo,$r[Ur++]=_o,$r[Ur++]=Ma,Ma=e;var r=vo;e=_o;var s=32-ys(r)-1;r&=~(1<<s),n+=1;var o=32-ys(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,vo=1<<32-ys(t)+s|n<<s|r,_o=o+e}else vo=1<<o|n<<s|r,_o=e}function mw(e){e.return!==null&&(ia(e,1),nR(e,1,0))}function gw(e){for(;e===Qp;)Qp=jl[--Pl],jl[Pl]=null,Xp=jl[--Pl],jl[Pl]=null;for(;e===Ma;)Ma=$r[--Ur],$r[Ur]=null,_o=$r[--Ur],$r[Ur]=null,vo=$r[--Ur],$r[Ur]=null}var xr=null,_r=null,wt=!1,fs=null;function rR(e,t){var n=Hr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function WE(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xr=e,_r=ki(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xr=e,_r=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ma!==null?{id:vo,overflow:_o}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Hr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,xr=e,_r=null,!0):!1;default:return!1}}function G0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function K0(e){if(wt){var t=_r;if(t){var n=t;if(!WE(e,t)){if(G0(e))throw Error(K(418));t=ki(n.nextSibling);var r=xr;t&&WE(e,t)?rR(r,n):(e.flags=e.flags&-4097|2,wt=!1,xr=e)}}else{if(G0(e))throw Error(K(418));e.flags=e.flags&-4097|2,wt=!1,xr=e}}}function qE(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xr=e}function wh(e){if(e!==xr)return!1;if(!wt)return qE(e),wt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!H0(e.type,e.memoizedProps)),t&&(t=_r)){if(G0(e))throw sR(),Error(K(418));for(;t;)rR(e,t),t=ki(t.nextSibling)}if(qE(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(K(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){_r=ki(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}_r=null}}else _r=xr?ki(e.stateNode.nextSibling):null;return!0}function sR(){for(var e=_r;e;)e=ki(e.nextSibling)}function wc(){_r=xr=null,wt=!1}function yw(e){fs===null?fs=[e]:fs.push(e)}var o4=zo.ReactCurrentBatchConfig;function Eu(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,e))}return e}function bh(e,t){throw e=Object.prototype.toString.call(t),Error(K(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function GE(e){var t=e._init;return t(e._payload)}function oR(e){function t(_,v){if(e){var x=_.deletions;x===null?(_.deletions=[v],_.flags|=16):x.push(v)}}function n(_,v){if(!e)return null;for(;v!==null;)t(_,v),v=v.sibling;return null}function r(_,v){for(_=new Map;v!==null;)v.key!==null?_.set(v.key,v):_.set(v.index,v),v=v.sibling;return _}function s(_,v){return _=Ri(_,v),_.index=0,_.sibling=null,_}function o(_,v,x){return _.index=x,e?(x=_.alternate,x!==null?(x=x.index,x<v?(_.flags|=2,v):x):(_.flags|=2,v)):(_.flags|=1048576,v)}function i(_){return e&&_.alternate===null&&(_.flags|=2),_}function a(_,v,x,b){return v===null||v.tag!==6?(v=iv(x,_.mode,b),v.return=_,v):(v=s(v,x),v.return=_,v)}function l(_,v,x,b){var S=x.type;return S===Cl?d(_,v,x.props.children,b,x.key):v!==null&&(v.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ei&&GE(S)===v.type)?(b=s(v,x.props),b.ref=Eu(_,v,x),b.return=_,b):(b=gp(x.type,x.key,x.props,null,_.mode,b),b.ref=Eu(_,v,x),b.return=_,b)}function u(_,v,x,b){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=av(x,_.mode,b),v.return=_,v):(v=s(v,x.children||[]),v.return=_,v)}function d(_,v,x,b,S){return v===null||v.tag!==7?(v=Na(x,_.mode,b,S),v.return=_,v):(v=s(v,x),v.return=_,v)}function f(_,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=iv(""+v,_.mode,x),v.return=_,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case dh:return x=gp(v.type,v.key,v.props,null,_.mode,x),x.ref=Eu(_,null,v),x.return=_,x;case kl:return v=av(v,_.mode,x),v.return=_,v;case ei:var b=v._init;return f(_,b(v._payload),x)}if(Hu(v)||_u(v))return v=Na(v,_.mode,x,null),v.return=_,v;bh(_,v)}return null}function h(_,v,x,b){var S=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return S!==null?null:a(_,v,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case dh:return x.key===S?l(_,v,x,b):null;case kl:return x.key===S?u(_,v,x,b):null;case ei:return S=x._init,h(_,v,S(x._payload),b)}if(Hu(x)||_u(x))return S!==null?null:d(_,v,x,b,null);bh(_,x)}return null}function p(_,v,x,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return _=_.get(x)||null,a(v,_,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case dh:return _=_.get(b.key===null?x:b.key)||null,l(v,_,b,S);case kl:return _=_.get(b.key===null?x:b.key)||null,u(v,_,b,S);case ei:var E=b._init;return p(_,v,x,E(b._payload),S)}if(Hu(b)||_u(b))return _=_.get(x)||null,d(v,_,b,S,null);bh(v,b)}return null}function y(_,v,x,b){for(var S=null,E=null,k=v,C=v=0,T=null;k!==null&&C<x.length;C++){k.index>C?(T=k,k=null):T=k.sibling;var j=h(_,k,x[C],b);if(j===null){k===null&&(k=T);break}e&&k&&j.alternate===null&&t(_,k),v=o(j,v,C),E===null?S=j:E.sibling=j,E=j,k=T}if(C===x.length)return n(_,k),wt&&ia(_,C),S;if(k===null){for(;C<x.length;C++)k=f(_,x[C],b),k!==null&&(v=o(k,v,C),E===null?S=k:E.sibling=k,E=k);return wt&&ia(_,C),S}for(k=r(_,k);C<x.length;C++)T=p(k,_,C,x[C],b),T!==null&&(e&&T.alternate!==null&&k.delete(T.key===null?C:T.key),v=o(T,v,C),E===null?S=T:E.sibling=T,E=T);return e&&k.forEach(function(D){return t(_,D)}),wt&&ia(_,C),S}function g(_,v,x,b){var S=_u(x);if(typeof S!="function")throw Error(K(150));if(x=S.call(x),x==null)throw Error(K(151));for(var E=S=null,k=v,C=v=0,T=null,j=x.next();k!==null&&!j.done;C++,j=x.next()){k.index>C?(T=k,k=null):T=k.sibling;var D=h(_,k,j.value,b);if(D===null){k===null&&(k=T);break}e&&k&&D.alternate===null&&t(_,k),v=o(D,v,C),E===null?S=D:E.sibling=D,E=D,k=T}if(j.done)return n(_,k),wt&&ia(_,C),S;if(k===null){for(;!j.done;C++,j=x.next())j=f(_,j.value,b),j!==null&&(v=o(j,v,C),E===null?S=j:E.sibling=j,E=j);return wt&&ia(_,C),S}for(k=r(_,k);!j.done;C++,j=x.next())j=p(k,_,C,j.value,b),j!==null&&(e&&j.alternate!==null&&k.delete(j.key===null?C:j.key),v=o(j,v,C),E===null?S=j:E.sibling=j,E=j);return e&&k.forEach(function(P){return t(_,P)}),wt&&ia(_,C),S}function w(_,v,x,b){if(typeof x=="object"&&x!==null&&x.type===Cl&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case dh:e:{for(var S=x.key,E=v;E!==null;){if(E.key===S){if(S=x.type,S===Cl){if(E.tag===7){n(_,E.sibling),v=s(E,x.props.children),v.return=_,_=v;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ei&&GE(S)===E.type){n(_,E.sibling),v=s(E,x.props),v.ref=Eu(_,E,x),v.return=_,_=v;break e}n(_,E);break}else t(_,E);E=E.sibling}x.type===Cl?(v=Na(x.props.children,_.mode,b,x.key),v.return=_,_=v):(b=gp(x.type,x.key,x.props,null,_.mode,b),b.ref=Eu(_,v,x),b.return=_,_=b)}return i(_);case kl:e:{for(E=x.key;v!==null;){if(v.key===E)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){n(_,v.sibling),v=s(v,x.children||[]),v.return=_,_=v;break e}else{n(_,v);break}else t(_,v);v=v.sibling}v=av(x,_.mode,b),v.return=_,_=v}return i(_);case ei:return E=x._init,w(_,v,E(x._payload),b)}if(Hu(x))return y(_,v,x,b);if(_u(x))return g(_,v,x,b);bh(_,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(n(_,v.sibling),v=s(v,x),v.return=_,_=v):(n(_,v),v=iv(x,_.mode,b),v.return=_,_=v),i(_)):n(_,v)}return w}var bc=oR(!0),iR=oR(!1),Zp=Qi(null),Jp=null,Ol=null,vw=null;function _w(){vw=Ol=Jp=null}function xw(e){var t=Zp.current;_t(Zp),e._currentValue=t}function Y0(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Gl(e,t){Jp=e,vw=Ol=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(sr=!0),e.firstContext=null)}function Yr(e){var t=e._currentValue;if(vw!==e)if(e={context:e,memoizedValue:t,next:null},Ol===null){if(Jp===null)throw Error(K(308));Ol=e,Jp.dependencies={lanes:0,firstContext:e}}else Ol=Ol.next=e;return t}var ha=null;function ww(e){ha===null?ha=[e]:ha.push(e)}function aR(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,ww(t)):(n.next=s.next,s.next=n),t.interleaved=n,No(e,r)}function No(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ti=!1;function bw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lR(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ci(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Je&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,No(e,n)}return s=r.interleaved,s===null?(t.next=t,ww(r)):(t.next=s.next,s.next=t),r.interleaved=t,No(e,n)}function up(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,aw(e,n)}}function KE(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function em(e,t,n,r){var s=e.updateQueue;ti=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,i===null?o=u:i.next=u,i=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(o!==null){var f=s.baseState;i=0,d=u=l=null,a=o;do{var h=a.lane,p=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,g=a;switch(h=t,p=n,g.tag){case 1:if(y=g.payload,typeof y=="function"){f=y.call(p,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,h=typeof y=="function"?y.call(p,f,h):y,h==null)break e;f=Rt({},f,h);break e;case 2:ti=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=p,l=f):d=d.next=p,i|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);La|=i,e.lanes=i,e.memoizedState=f}}function YE(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(K(191,s));s.call(r)}}}var Nf={},Hs=Qi(Nf),Md=Qi(Nf),Dd=Qi(Nf);function pa(e){if(e===Nf)throw Error(K(174));return e}function Sw(e,t){switch(mt(Dd,t),mt(Md,e),mt(Hs,Nf),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:R0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=R0(t,e)}_t(Hs),mt(Hs,t)}function Sc(){_t(Hs),_t(Md),_t(Dd)}function cR(e){pa(Dd.current);var t=pa(Hs.current),n=R0(t,e.type);t!==n&&(mt(Md,e),mt(Hs,n))}function Ew(e){Md.current===e&&(_t(Hs),_t(Md))}var Ct=Qi(0);function tm(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ev=[];function kw(){for(var e=0;e<ev.length;e++)ev[e]._workInProgressVersionPrimary=null;ev.length=0}var dp=zo.ReactCurrentDispatcher,tv=zo.ReactCurrentBatchConfig,Da=0,Nt=null,tn=null,un=null,nm=!1,sd=!1,Ld=0,i4=0;function Cn(){throw Error(K(321))}function Cw(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ws(e[n],t[n]))return!1;return!0}function Tw(e,t,n,r,s,o){if(Da=o,Nt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,dp.current=e===null||e.memoizedState===null?u4:d4,e=n(r,s),sd){o=0;do{if(sd=!1,Ld=0,25<=o)throw Error(K(301));o+=1,un=tn=null,t.updateQueue=null,dp.current=f4,e=n(r,s)}while(sd)}if(dp.current=rm,t=tn!==null&&tn.next!==null,Da=0,un=tn=Nt=null,nm=!1,t)throw Error(K(300));return e}function Nw(){var e=Ld!==0;return Ld=0,e}function Is(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return un===null?Nt.memoizedState=un=e:un=un.next=e,un}function Qr(){if(tn===null){var e=Nt.alternate;e=e!==null?e.memoizedState:null}else e=tn.next;var t=un===null?Nt.memoizedState:un.next;if(t!==null)un=t,tn=e;else{if(e===null)throw Error(K(310));tn=e,e={memoizedState:tn.memoizedState,baseState:tn.baseState,baseQueue:tn.baseQueue,queue:tn.queue,next:null},un===null?Nt.memoizedState=un=e:un=un.next=e}return un}function Fd(e,t){return typeof t=="function"?t(e):t}function nv(e){var t=Qr(),n=t.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=e;var r=tn,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var a=i=null,l=null,u=o;do{var d=u.lane;if((Da&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,i=r):l=l.next=f,Nt.lanes|=d,La|=d}u=u.next}while(u!==null&&u!==o);l===null?i=r:l.next=a,ws(r,t.memoizedState)||(sr=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,Nt.lanes|=o,La|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function rv(e){var t=Qr(),n=t.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);ws(o,t.memoizedState)||(sr=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function uR(){}function dR(e,t){var n=Nt,r=Qr(),s=t(),o=!ws(r.memoizedState,s);if(o&&(r.memoizedState=s,sr=!0),r=r.queue,Rw(pR.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||un!==null&&un.memoizedState.tag&1){if(n.flags|=2048,$d(9,hR.bind(null,n,r,s,t),void 0,null),fn===null)throw Error(K(349));Da&30||fR(n,t,s)}return s}function fR(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Nt.updateQueue,t===null?(t={lastEffect:null,stores:null},Nt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function hR(e,t,n,r){t.value=n,t.getSnapshot=r,mR(t)&&gR(e)}function pR(e,t,n){return n(function(){mR(t)&&gR(e)})}function mR(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ws(e,n)}catch{return!0}}function gR(e){var t=No(e,1);t!==null&&vs(t,e,1,-1)}function QE(e){var t=Is();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fd,lastRenderedState:e},t.queue=e,e=e.dispatch=c4.bind(null,Nt,e),[t.memoizedState,e]}function $d(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Nt.updateQueue,t===null?(t={lastEffect:null,stores:null},Nt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function yR(){return Qr().memoizedState}function fp(e,t,n,r){var s=Is();Nt.flags|=e,s.memoizedState=$d(1|t,n,void 0,r===void 0?null:r)}function hg(e,t,n,r){var s=Qr();r=r===void 0?null:r;var o=void 0;if(tn!==null){var i=tn.memoizedState;if(o=i.destroy,r!==null&&Cw(r,i.deps)){s.memoizedState=$d(t,n,o,r);return}}Nt.flags|=e,s.memoizedState=$d(1|t,n,o,r)}function XE(e,t){return fp(8390656,8,e,t)}function Rw(e,t){return hg(2048,8,e,t)}function vR(e,t){return hg(4,2,e,t)}function _R(e,t){return hg(4,4,e,t)}function xR(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wR(e,t,n){return n=n!=null?n.concat([e]):null,hg(4,4,xR.bind(null,t,e),n)}function Aw(){}function bR(e,t){var n=Qr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Cw(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function SR(e,t){var n=Qr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Cw(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ER(e,t,n){return Da&21?(ws(n,t)||(n=RN(),Nt.lanes|=n,La|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,sr=!0),e.memoizedState=n)}function a4(e,t){var n=it;it=n!==0&&4>n?n:4,e(!0);var r=tv.transition;tv.transition={};try{e(!1),t()}finally{it=n,tv.transition=r}}function kR(){return Qr().memoizedState}function l4(e,t,n){var r=Ni(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},CR(e))TR(t,n);else if(n=aR(e,t,n,r),n!==null){var s=zn();vs(n,e,r,s),NR(n,t,r)}}function c4(e,t,n){var r=Ni(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(CR(e))TR(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,a=o(i,n);if(s.hasEagerState=!0,s.eagerState=a,ws(a,i)){var l=t.interleaved;l===null?(s.next=s,ww(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=aR(e,t,s,r),n!==null&&(s=zn(),vs(n,e,r,s),NR(n,t,r))}}function CR(e){var t=e.alternate;return e===Nt||t!==null&&t===Nt}function TR(e,t){sd=nm=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function NR(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,aw(e,n)}}var rm={readContext:Yr,useCallback:Cn,useContext:Cn,useEffect:Cn,useImperativeHandle:Cn,useInsertionEffect:Cn,useLayoutEffect:Cn,useMemo:Cn,useReducer:Cn,useRef:Cn,useState:Cn,useDebugValue:Cn,useDeferredValue:Cn,useTransition:Cn,useMutableSource:Cn,useSyncExternalStore:Cn,useId:Cn,unstable_isNewReconciler:!1},u4={readContext:Yr,useCallback:function(e,t){return Is().memoizedState=[e,t===void 0?null:t],e},useContext:Yr,useEffect:XE,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,fp(4194308,4,xR.bind(null,t,e),n)},useLayoutEffect:function(e,t){return fp(4194308,4,e,t)},useInsertionEffect:function(e,t){return fp(4,2,e,t)},useMemo:function(e,t){var n=Is();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Is();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=l4.bind(null,Nt,e),[r.memoizedState,e]},useRef:function(e){var t=Is();return e={current:e},t.memoizedState=e},useState:QE,useDebugValue:Aw,useDeferredValue:function(e){return Is().memoizedState=e},useTransition:function(){var e=QE(!1),t=e[0];return e=a4.bind(null,e[1]),Is().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Nt,s=Is();if(wt){if(n===void 0)throw Error(K(407));n=n()}else{if(n=t(),fn===null)throw Error(K(349));Da&30||fR(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,XE(pR.bind(null,r,o,e),[e]),r.flags|=2048,$d(9,hR.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Is(),t=fn.identifierPrefix;if(wt){var n=_o,r=vo;n=(r&~(1<<32-ys(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ld++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=i4++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},d4={readContext:Yr,useCallback:bR,useContext:Yr,useEffect:Rw,useImperativeHandle:wR,useInsertionEffect:vR,useLayoutEffect:_R,useMemo:SR,useReducer:nv,useRef:yR,useState:function(){return nv(Fd)},useDebugValue:Aw,useDeferredValue:function(e){var t=Qr();return ER(t,tn.memoizedState,e)},useTransition:function(){var e=nv(Fd)[0],t=Qr().memoizedState;return[e,t]},useMutableSource:uR,useSyncExternalStore:dR,useId:kR,unstable_isNewReconciler:!1},f4={readContext:Yr,useCallback:bR,useContext:Yr,useEffect:Rw,useImperativeHandle:wR,useInsertionEffect:vR,useLayoutEffect:_R,useMemo:SR,useReducer:rv,useRef:yR,useState:function(){return rv(Fd)},useDebugValue:Aw,useDeferredValue:function(e){var t=Qr();return tn===null?t.memoizedState=e:ER(t,tn.memoizedState,e)},useTransition:function(){var e=rv(Fd)[0],t=Qr().memoizedState;return[e,t]},useMutableSource:uR,useSyncExternalStore:dR,useId:kR,unstable_isNewReconciler:!1};function as(e,t){if(e&&e.defaultProps){t=Rt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Q0(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Rt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var pg={isMounted:function(e){return(e=e._reactInternals)?Xa(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=zn(),s=Ni(e),o=wo(r,s);o.payload=t,n!=null&&(o.callback=n),t=Ci(e,o,s),t!==null&&(vs(t,e,s,r),up(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=zn(),s=Ni(e),o=wo(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Ci(e,o,s),t!==null&&(vs(t,e,s,r),up(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=zn(),r=Ni(e),s=wo(n,r);s.tag=2,t!=null&&(s.callback=t),t=Ci(e,s,r),t!==null&&(vs(t,e,r,n),up(t,e,r))}};function ZE(e,t,n,r,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!Id(n,r)||!Id(s,o):!0}function RR(e,t,n){var r=!1,s=Mi,o=t.contextType;return typeof o=="object"&&o!==null?o=Yr(o):(s=lr(t)?Oa:In.current,r=t.contextTypes,o=(r=r!=null)?xc(e,s):Mi),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=pg,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function JE(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&pg.enqueueReplaceState(t,t.state,null)}function X0(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},bw(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=Yr(o):(o=lr(t)?Oa:In.current,s.context=xc(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Q0(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&pg.enqueueReplaceState(s,s.state,null),em(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ec(e,t){try{var n="",r=t;do n+=UF(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function sv(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Z0(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var h4=typeof WeakMap=="function"?WeakMap:Map;function AR(e,t,n){n=wo(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){om||(om=!0,l_=r),Z0(e,t)},n}function IR(e,t,n){n=wo(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Z0(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Z0(e,t),typeof r!="function"&&(Ti===null?Ti=new Set([this]):Ti.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function e1(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new h4;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=T4.bind(null,e,t,n),t.then(e,e))}function t1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function n1(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=wo(-1,1),t.tag=2,Ci(n,t,1))),n.lanes|=1),e)}var p4=zo.ReactCurrentOwner,sr=!1;function $n(e,t,n,r){t.child=e===null?iR(t,null,n,r):bc(t,e.child,n,r)}function r1(e,t,n,r,s){n=n.render;var o=t.ref;return Gl(t,s),r=Tw(e,t,n,r,o,s),n=Nw(),e!==null&&!sr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ro(e,t,s)):(wt&&n&&mw(t),t.flags|=1,$n(e,t,r,s),t.child)}function s1(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!Fw(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,jR(e,t,o,r,s)):(e=gp(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:Id,n(i,r)&&e.ref===t.ref)return Ro(e,t,s)}return t.flags|=1,e=Ri(o,r),e.ref=t.ref,e.return=t,t.child=e}function jR(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(Id(o,r)&&e.ref===t.ref)if(sr=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(sr=!0);else return t.lanes=e.lanes,Ro(e,t,s)}return J0(e,t,n,r,s)}function PR(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},mt(Dl,mr),mr|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,mt(Dl,mr),mr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,mt(Dl,mr),mr|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,mt(Dl,mr),mr|=r;return $n(e,t,s,n),t.child}function OR(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function J0(e,t,n,r,s){var o=lr(n)?Oa:In.current;return o=xc(t,o),Gl(t,s),n=Tw(e,t,n,r,o,s),r=Nw(),e!==null&&!sr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ro(e,t,s)):(wt&&r&&mw(t),t.flags|=1,$n(e,t,n,s),t.child)}function o1(e,t,n,r,s){if(lr(n)){var o=!0;Yp(t)}else o=!1;if(Gl(t,s),t.stateNode===null)hp(e,t),RR(t,n,r),X0(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var l=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=Yr(u):(u=lr(n)?Oa:In.current,u=xc(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==u)&&JE(t,i,r,u),ti=!1;var h=t.memoizedState;i.state=h,em(t,r,i,s),l=t.memoizedState,a!==r||h!==l||ar.current||ti?(typeof d=="function"&&(Q0(t,n,d,r),l=t.memoizedState),(a=ti||ZE(t,n,a,r,h,l,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=u,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,lR(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:as(t.type,a),i.props=u,f=t.pendingProps,h=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=Yr(l):(l=lr(n)?Oa:In.current,l=xc(t,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==f||h!==l)&&JE(t,i,r,l),ti=!1,h=t.memoizedState,i.state=h,em(t,r,i,s);var y=t.memoizedState;a!==f||h!==y||ar.current||ti?(typeof p=="function"&&(Q0(t,n,p,r),y=t.memoizedState),(u=ti||ZE(t,n,u,r,h,y,l)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,y,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,y,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),i.props=r,i.state=y,i.context=l,r=u):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return e_(e,t,n,r,o,s)}function e_(e,t,n,r,s,o){OR(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&VE(t,n,!1),Ro(e,t,o);r=t.stateNode,p4.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=bc(t,e.child,null,o),t.child=bc(t,null,a,o)):$n(e,t,a,o),t.memoizedState=r.state,s&&VE(t,n,!0),t.child}function MR(e){var t=e.stateNode;t.pendingContext?HE(e,t.pendingContext,t.pendingContext!==t.context):t.context&&HE(e,t.context,!1),Sw(e,t.containerInfo)}function i1(e,t,n,r,s){return wc(),yw(s),t.flags|=256,$n(e,t,n,r),t.child}var t_={dehydrated:null,treeContext:null,retryLane:0};function n_(e){return{baseLanes:e,cachePool:null,transitions:null}}function DR(e,t,n){var r=t.pendingProps,s=Ct.current,o=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),mt(Ct,s&1),e===null)return K0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=yg(i,r,0,null),e=Na(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=n_(n),t.memoizedState=t_,e):Iw(t,i));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return m4(e,t,i,r,a,s,n);if(o){o=r.fallback,i=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Ri(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=Ri(a,o):(o=Na(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?n_(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=t_,r}return o=e.child,e=o.sibling,r=Ri(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Iw(e,t){return t=yg({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Sh(e,t,n,r){return r!==null&&yw(r),bc(t,e.child,null,n),e=Iw(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function m4(e,t,n,r,s,o,i){if(n)return t.flags&256?(t.flags&=-257,r=sv(Error(K(422))),Sh(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=yg({mode:"visible",children:r.children},s,0,null),o=Na(o,s,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&bc(t,e.child,null,i),t.child.memoizedState=n_(i),t.memoizedState=t_,o);if(!(t.mode&1))return Sh(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(K(419)),r=sv(o,r,void 0),Sh(e,t,i,r)}if(a=(i&e.childLanes)!==0,sr||a){if(r=fn,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,No(e,s),vs(r,e,s,-1))}return Lw(),r=sv(Error(K(421))),Sh(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=N4.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,_r=ki(s.nextSibling),xr=t,wt=!0,fs=null,e!==null&&($r[Ur++]=vo,$r[Ur++]=_o,$r[Ur++]=Ma,vo=e.id,_o=e.overflow,Ma=t),t=Iw(t,r.children),t.flags|=4096,t)}function a1(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Y0(e.return,t,n)}function ov(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function LR(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if($n(e,t,r.children,n),r=Ct.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&a1(e,n,t);else if(e.tag===19)a1(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(mt(Ct,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&tm(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),ov(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&tm(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}ov(t,!0,n,null,o);break;case"together":ov(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function hp(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ro(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),La|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(K(153));if(t.child!==null){for(e=t.child,n=Ri(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ri(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function g4(e,t,n){switch(t.tag){case 3:MR(t),wc();break;case 5:cR(t);break;case 1:lr(t.type)&&Yp(t);break;case 4:Sw(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;mt(Zp,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(mt(Ct,Ct.current&1),t.flags|=128,null):n&t.child.childLanes?DR(e,t,n):(mt(Ct,Ct.current&1),e=Ro(e,t,n),e!==null?e.sibling:null);mt(Ct,Ct.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return LR(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),mt(Ct,Ct.current),r)break;return null;case 22:case 23:return t.lanes=0,PR(e,t,n)}return Ro(e,t,n)}var FR,r_,$R,UR;FR=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};r_=function(){};$R=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,pa(Hs.current);var o=null;switch(n){case"input":s=k0(e,s),r=k0(e,r),o=[];break;case"select":s=Rt({},s,{value:void 0}),r=Rt({},r,{value:void 0}),o=[];break;case"textarea":s=N0(e,s),r=N0(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Gp)}A0(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ed.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ed.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&vt("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};UR=function(e,t,n,r){n!==r&&(t.flags|=4)};function ku(e,t){if(!wt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Tn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function y4(e,t,n){var r=t.pendingProps;switch(gw(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tn(t),null;case 1:return lr(t.type)&&Kp(),Tn(t),null;case 3:return r=t.stateNode,Sc(),_t(ar),_t(In),kw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(wh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,fs!==null&&(d_(fs),fs=null))),r_(e,t),Tn(t),null;case 5:Ew(t);var s=pa(Dd.current);if(n=t.type,e!==null&&t.stateNode!=null)$R(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(K(166));return Tn(t),null}if(e=pa(Hs.current),wh(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Ls]=t,r[Od]=o,e=(t.mode&1)!==0,n){case"dialog":vt("cancel",r),vt("close",r);break;case"iframe":case"object":case"embed":vt("load",r);break;case"video":case"audio":for(s=0;s<Wu.length;s++)vt(Wu[s],r);break;case"source":vt("error",r);break;case"img":case"image":case"link":vt("error",r),vt("load",r);break;case"details":vt("toggle",r);break;case"input":gE(r,o),vt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},vt("invalid",r);break;case"textarea":vE(r,o),vt("invalid",r)}A0(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&xh(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&xh(r.textContent,a,e),s=["children",""+a]):Ed.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&vt("scroll",r)}switch(n){case"input":fh(r),yE(r,o,!0);break;case"textarea":fh(r),_E(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Gp)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=pN(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Ls]=t,e[Od]=r,FR(e,t,!1,!1),t.stateNode=e;e:{switch(i=I0(n,r),n){case"dialog":vt("cancel",e),vt("close",e),s=r;break;case"iframe":case"object":case"embed":vt("load",e),s=r;break;case"video":case"audio":for(s=0;s<Wu.length;s++)vt(Wu[s],e);s=r;break;case"source":vt("error",e),s=r;break;case"img":case"image":case"link":vt("error",e),vt("load",e),s=r;break;case"details":vt("toggle",e),s=r;break;case"input":gE(e,r),s=k0(e,r),vt("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Rt({},r,{value:void 0}),vt("invalid",e);break;case"textarea":vE(e,r),s=N0(e,r),vt("invalid",e);break;default:s=r}A0(n,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?yN(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&mN(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&kd(e,l):typeof l=="number"&&kd(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ed.hasOwnProperty(o)?l!=null&&o==="onScroll"&&vt("scroll",e):l!=null&&tw(e,o,l,i))}switch(n){case"input":fh(e),yE(e,r,!1);break;case"textarea":fh(e),_E(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Oi(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Hl(e,!!r.multiple,o,!1):r.defaultValue!=null&&Hl(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Gp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Tn(t),null;case 6:if(e&&t.stateNode!=null)UR(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(K(166));if(n=pa(Dd.current),pa(Hs.current),wh(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ls]=t,(o=r.nodeValue!==n)&&(e=xr,e!==null))switch(e.tag){case 3:xh(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&xh(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ls]=t,t.stateNode=r}return Tn(t),null;case 13:if(_t(Ct),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(wt&&_r!==null&&t.mode&1&&!(t.flags&128))sR(),wc(),t.flags|=98560,o=!1;else if(o=wh(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(K(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(K(317));o[Ls]=t}else wc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Tn(t),o=!1}else fs!==null&&(d_(fs),fs=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ct.current&1?rn===0&&(rn=3):Lw())),t.updateQueue!==null&&(t.flags|=4),Tn(t),null);case 4:return Sc(),r_(e,t),e===null&&jd(t.stateNode.containerInfo),Tn(t),null;case 10:return xw(t.type._context),Tn(t),null;case 17:return lr(t.type)&&Kp(),Tn(t),null;case 19:if(_t(Ct),o=t.memoizedState,o===null)return Tn(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)ku(o,!1);else{if(rn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=tm(e),i!==null){for(t.flags|=128,ku(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return mt(Ct,Ct.current&1|2),t.child}e=e.sibling}o.tail!==null&&$t()>kc&&(t.flags|=128,r=!0,ku(o,!1),t.lanes=4194304)}else{if(!r)if(e=tm(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ku(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!wt)return Tn(t),null}else 2*$t()-o.renderingStartTime>kc&&n!==1073741824&&(t.flags|=128,r=!0,ku(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$t(),t.sibling=null,n=Ct.current,mt(Ct,r?n&1|2:n&1),t):(Tn(t),null);case 22:case 23:return Dw(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?mr&1073741824&&(Tn(t),t.subtreeFlags&6&&(t.flags|=8192)):Tn(t),null;case 24:return null;case 25:return null}throw Error(K(156,t.tag))}function v4(e,t){switch(gw(t),t.tag){case 1:return lr(t.type)&&Kp(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Sc(),_t(ar),_t(In),kw(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ew(t),null;case 13:if(_t(Ct),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(K(340));wc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _t(Ct),null;case 4:return Sc(),null;case 10:return xw(t.type._context),null;case 22:case 23:return Dw(),null;case 24:return null;default:return null}}var Eh=!1,Rn=!1,_4=typeof WeakSet=="function"?WeakSet:Set,ce=null;function Ml(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){jt(e,t,r)}else n.current=null}function s_(e,t,n){try{n()}catch(r){jt(e,t,r)}}var l1=!1;function x4(e,t){if(B0=Vp,e=WN(),pw(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(a=i+s),f!==o||r!==0&&f.nodeType!==3||(l=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++u===s&&(a=i),h===o&&++d===r&&(l=i),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(z0={focusedElem:e,selectionRange:n},Vp=!1,ce=t;ce!==null;)if(t=ce,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ce=e;else for(;ce!==null;){t=ce;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,w=y.memoizedState,_=t.stateNode,v=_.getSnapshotBeforeUpdate(t.elementType===t.type?g:as(t.type,g),w);_.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(b){jt(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,ce=e;break}ce=t.return}return y=l1,l1=!1,y}function od(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&s_(t,n,o)}s=s.next}while(s!==r)}}function mg(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function o_(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function BR(e){var t=e.alternate;t!==null&&(e.alternate=null,BR(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ls],delete t[Od],delete t[W0],delete t[n4],delete t[r4])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function zR(e){return e.tag===5||e.tag===3||e.tag===4}function c1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zR(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function i_(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Gp));else if(r!==4&&(e=e.child,e!==null))for(i_(e,t,n),e=e.sibling;e!==null;)i_(e,t,n),e=e.sibling}function a_(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(a_(e,t,n),e=e.sibling;e!==null;)a_(e,t,n),e=e.sibling}var mn=null,cs=!1;function qo(e,t,n){for(n=n.child;n!==null;)HR(e,t,n),n=n.sibling}function HR(e,t,n){if(zs&&typeof zs.onCommitFiberUnmount=="function")try{zs.onCommitFiberUnmount(ag,n)}catch{}switch(n.tag){case 5:Rn||Ml(n,t);case 6:var r=mn,s=cs;mn=null,qo(e,t,n),mn=r,cs=s,mn!==null&&(cs?(e=mn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):mn.removeChild(n.stateNode));break;case 18:mn!==null&&(cs?(e=mn,n=n.stateNode,e.nodeType===8?Zy(e.parentNode,n):e.nodeType===1&&Zy(e,n),Rd(e)):Zy(mn,n.stateNode));break;case 4:r=mn,s=cs,mn=n.stateNode.containerInfo,cs=!0,qo(e,t,n),mn=r,cs=s;break;case 0:case 11:case 14:case 15:if(!Rn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&s_(n,t,i),s=s.next}while(s!==r)}qo(e,t,n);break;case 1:if(!Rn&&(Ml(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){jt(n,t,a)}qo(e,t,n);break;case 21:qo(e,t,n);break;case 22:n.mode&1?(Rn=(r=Rn)||n.memoizedState!==null,qo(e,t,n),Rn=r):qo(e,t,n);break;default:qo(e,t,n)}}function u1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new _4),t.forEach(function(r){var s=R4.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ns(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:mn=a.stateNode,cs=!1;break e;case 3:mn=a.stateNode.containerInfo,cs=!0;break e;case 4:mn=a.stateNode.containerInfo,cs=!0;break e}a=a.return}if(mn===null)throw Error(K(160));HR(o,i,s),mn=null,cs=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){jt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)VR(t,e),t=t.sibling}function VR(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ns(t,e),Rs(e),r&4){try{od(3,e,e.return),mg(3,e)}catch(g){jt(e,e.return,g)}try{od(5,e,e.return)}catch(g){jt(e,e.return,g)}}break;case 1:ns(t,e),Rs(e),r&512&&n!==null&&Ml(n,n.return);break;case 5:if(ns(t,e),Rs(e),r&512&&n!==null&&Ml(n,n.return),e.flags&32){var s=e.stateNode;try{kd(s,"")}catch(g){jt(e,e.return,g)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&fN(s,o),I0(a,i);var u=I0(a,o);for(i=0;i<l.length;i+=2){var d=l[i],f=l[i+1];d==="style"?yN(s,f):d==="dangerouslySetInnerHTML"?mN(s,f):d==="children"?kd(s,f):tw(s,d,f,u)}switch(a){case"input":C0(s,o);break;case"textarea":hN(s,o);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Hl(s,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?Hl(s,!!o.multiple,o.defaultValue,!0):Hl(s,!!o.multiple,o.multiple?[]:"",!1))}s[Od]=o}catch(g){jt(e,e.return,g)}}break;case 6:if(ns(t,e),Rs(e),r&4){if(e.stateNode===null)throw Error(K(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(g){jt(e,e.return,g)}}break;case 3:if(ns(t,e),Rs(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Rd(t.containerInfo)}catch(g){jt(e,e.return,g)}break;case 4:ns(t,e),Rs(e);break;case 13:ns(t,e),Rs(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Ow=$t())),r&4&&u1(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Rn=(u=Rn)||d,ns(t,e),Rn=u):ns(t,e),Rs(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ce=e,d=e.child;d!==null;){for(f=ce=d;ce!==null;){switch(h=ce,p=h.child,h.tag){case 0:case 11:case 14:case 15:od(4,h,h.return);break;case 1:Ml(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(g){jt(r,n,g)}}break;case 5:Ml(h,h.return);break;case 22:if(h.memoizedState!==null){f1(f);continue}}p!==null?(p.return=h,ce=p):f1(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=gN("display",i))}catch(g){jt(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){jt(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ns(t,e),Rs(e),r&4&&u1(e);break;case 21:break;default:ns(t,e),Rs(e)}}function Rs(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(zR(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(kd(s,""),r.flags&=-33);var o=c1(e);a_(e,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,a=c1(e);i_(e,a,i);break;default:throw Error(K(161))}}catch(l){jt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function w4(e,t,n){ce=e,WR(e)}function WR(e,t,n){for(var r=(e.mode&1)!==0;ce!==null;){var s=ce,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||Eh;if(!i){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Rn;a=Eh;var u=Rn;if(Eh=i,(Rn=l)&&!u)for(ce=s;ce!==null;)i=ce,l=i.child,i.tag===22&&i.memoizedState!==null?h1(s):l!==null?(l.return=i,ce=l):h1(s);for(;o!==null;)ce=o,WR(o),o=o.sibling;ce=s,Eh=a,Rn=u}d1(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,ce=o):d1(e)}}function d1(e){for(;ce!==null;){var t=ce;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Rn||mg(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Rn)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:as(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&YE(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}YE(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Rd(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}Rn||t.flags&512&&o_(t)}catch(h){jt(t,t.return,h)}}if(t===e){ce=null;break}if(n=t.sibling,n!==null){n.return=t.return,ce=n;break}ce=t.return}}function f1(e){for(;ce!==null;){var t=ce;if(t===e){ce=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ce=n;break}ce=t.return}}function h1(e){for(;ce!==null;){var t=ce;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{mg(4,t)}catch(l){jt(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){jt(t,s,l)}}var o=t.return;try{o_(t)}catch(l){jt(t,o,l)}break;case 5:var i=t.return;try{o_(t)}catch(l){jt(t,i,l)}}}catch(l){jt(t,t.return,l)}if(t===e){ce=null;break}var a=t.sibling;if(a!==null){a.return=t.return,ce=a;break}ce=t.return}}var b4=Math.ceil,sm=zo.ReactCurrentDispatcher,jw=zo.ReactCurrentOwner,Vr=zo.ReactCurrentBatchConfig,Je=0,fn=null,qt=null,_n=0,mr=0,Dl=Qi(0),rn=0,Ud=null,La=0,gg=0,Pw=0,id=null,nr=null,Ow=0,kc=1/0,ho=null,om=!1,l_=null,Ti=null,kh=!1,xi=null,im=0,ad=0,c_=null,pp=-1,mp=0;function zn(){return Je&6?$t():pp!==-1?pp:pp=$t()}function Ni(e){return e.mode&1?Je&2&&_n!==0?_n&-_n:o4.transition!==null?(mp===0&&(mp=RN()),mp):(e=it,e!==0||(e=window.event,e=e===void 0?16:DN(e.type)),e):1}function vs(e,t,n,r){if(50<ad)throw ad=0,c_=null,Error(K(185));kf(e,n,r),(!(Je&2)||e!==fn)&&(e===fn&&(!(Je&2)&&(gg|=n),rn===4&&ii(e,_n)),cr(e,r),n===1&&Je===0&&!(t.mode&1)&&(kc=$t()+500,fg&&Xi()))}function cr(e,t){var n=e.callbackNode;o$(e,t);var r=Hp(e,e===fn?_n:0);if(r===0)n!==null&&bE(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&bE(n),t===1)e.tag===0?s4(p1.bind(null,e)):tR(p1.bind(null,e)),e4(function(){!(Je&6)&&Xi()}),n=null;else{switch(AN(r)){case 1:n=iw;break;case 4:n=TN;break;case 16:n=zp;break;case 536870912:n=NN;break;default:n=zp}n=JR(n,qR.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function qR(e,t){if(pp=-1,mp=0,Je&6)throw Error(K(327));var n=e.callbackNode;if(Kl()&&e.callbackNode!==n)return null;var r=Hp(e,e===fn?_n:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=am(e,r);else{t=r;var s=Je;Je|=2;var o=KR();(fn!==e||_n!==t)&&(ho=null,kc=$t()+500,Ta(e,t));do try{k4();break}catch(a){GR(e,a)}while(!0);_w(),sm.current=o,Je=s,qt!==null?t=0:(fn=null,_n=0,t=rn)}if(t!==0){if(t===2&&(s=D0(e),s!==0&&(r=s,t=u_(e,s))),t===1)throw n=Ud,Ta(e,0),ii(e,r),cr(e,$t()),n;if(t===6)ii(e,r);else{if(s=e.current.alternate,!(r&30)&&!S4(s)&&(t=am(e,r),t===2&&(o=D0(e),o!==0&&(r=o,t=u_(e,o))),t===1))throw n=Ud,Ta(e,0),ii(e,r),cr(e,$t()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(K(345));case 2:aa(e,nr,ho);break;case 3:if(ii(e,r),(r&130023424)===r&&(t=Ow+500-$t(),10<t)){if(Hp(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){zn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=V0(aa.bind(null,e,nr,ho),t);break}aa(e,nr,ho);break;case 4:if(ii(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-ys(r);o=1<<i,i=t[i],i>s&&(s=i),r&=~o}if(r=s,r=$t()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*b4(r/1960))-r,10<r){e.timeoutHandle=V0(aa.bind(null,e,nr,ho),r);break}aa(e,nr,ho);break;case 5:aa(e,nr,ho);break;default:throw Error(K(329))}}}return cr(e,$t()),e.callbackNode===n?qR.bind(null,e):null}function u_(e,t){var n=id;return e.current.memoizedState.isDehydrated&&(Ta(e,t).flags|=256),e=am(e,t),e!==2&&(t=nr,nr=n,t!==null&&d_(t)),e}function d_(e){nr===null?nr=e:nr.push.apply(nr,e)}function S4(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!ws(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ii(e,t){for(t&=~Pw,t&=~gg,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ys(t),r=1<<n;e[n]=-1,t&=~r}}function p1(e){if(Je&6)throw Error(K(327));Kl();var t=Hp(e,0);if(!(t&1))return cr(e,$t()),null;var n=am(e,t);if(e.tag!==0&&n===2){var r=D0(e);r!==0&&(t=r,n=u_(e,r))}if(n===1)throw n=Ud,Ta(e,0),ii(e,t),cr(e,$t()),n;if(n===6)throw Error(K(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,aa(e,nr,ho),cr(e,$t()),null}function Mw(e,t){var n=Je;Je|=1;try{return e(t)}finally{Je=n,Je===0&&(kc=$t()+500,fg&&Xi())}}function Fa(e){xi!==null&&xi.tag===0&&!(Je&6)&&Kl();var t=Je;Je|=1;var n=Vr.transition,r=it;try{if(Vr.transition=null,it=1,e)return e()}finally{it=r,Vr.transition=n,Je=t,!(Je&6)&&Xi()}}function Dw(){mr=Dl.current,_t(Dl)}function Ta(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,J$(n)),qt!==null)for(n=qt.return;n!==null;){var r=n;switch(gw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Kp();break;case 3:Sc(),_t(ar),_t(In),kw();break;case 5:Ew(r);break;case 4:Sc();break;case 13:_t(Ct);break;case 19:_t(Ct);break;case 10:xw(r.type._context);break;case 22:case 23:Dw()}n=n.return}if(fn=e,qt=e=Ri(e.current,null),_n=mr=t,rn=0,Ud=null,Pw=gg=La=0,nr=id=null,ha!==null){for(t=0;t<ha.length;t++)if(n=ha[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}ha=null}return e}function GR(e,t){do{var n=qt;try{if(_w(),dp.current=rm,nm){for(var r=Nt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}nm=!1}if(Da=0,un=tn=Nt=null,sd=!1,Ld=0,jw.current=null,n===null||n.return===null){rn=1,Ud=t,qt=null;break}e:{var o=e,i=n.return,a=n,l=t;if(t=_n,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=t1(i);if(p!==null){p.flags&=-257,n1(p,i,a,o,t),p.mode&1&&e1(o,u,t),t=p,l=u;var y=t.updateQueue;if(y===null){var g=new Set;g.add(l),t.updateQueue=g}else y.add(l);break e}else{if(!(t&1)){e1(o,u,t),Lw();break e}l=Error(K(426))}}else if(wt&&a.mode&1){var w=t1(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),n1(w,i,a,o,t),yw(Ec(l,a));break e}}o=l=Ec(l,a),rn!==4&&(rn=2),id===null?id=[o]:id.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var _=AR(o,l,t);KE(o,_);break e;case 1:a=l;var v=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ti===null||!Ti.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t;var b=IR(o,a,t);KE(o,b);break e}}o=o.return}while(o!==null)}QR(n)}catch(S){t=S,qt===n&&n!==null&&(qt=n=n.return);continue}break}while(!0)}function KR(){var e=sm.current;return sm.current=rm,e===null?rm:e}function Lw(){(rn===0||rn===3||rn===2)&&(rn=4),fn===null||!(La&268435455)&&!(gg&268435455)||ii(fn,_n)}function am(e,t){var n=Je;Je|=2;var r=KR();(fn!==e||_n!==t)&&(ho=null,Ta(e,t));do try{E4();break}catch(s){GR(e,s)}while(!0);if(_w(),Je=n,sm.current=r,qt!==null)throw Error(K(261));return fn=null,_n=0,rn}function E4(){for(;qt!==null;)YR(qt)}function k4(){for(;qt!==null&&!QF();)YR(qt)}function YR(e){var t=ZR(e.alternate,e,mr);e.memoizedProps=e.pendingProps,t===null?QR(e):qt=t,jw.current=null}function QR(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=v4(n,t),n!==null){n.flags&=32767,qt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{rn=6,qt=null;return}}else if(n=y4(n,t,mr),n!==null){qt=n;return}if(t=t.sibling,t!==null){qt=t;return}qt=t=e}while(t!==null);rn===0&&(rn=5)}function aa(e,t,n){var r=it,s=Vr.transition;try{Vr.transition=null,it=1,C4(e,t,n,r)}finally{Vr.transition=s,it=r}return null}function C4(e,t,n,r){do Kl();while(xi!==null);if(Je&6)throw Error(K(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(K(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(i$(e,o),e===fn&&(qt=fn=null,_n=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||kh||(kh=!0,JR(zp,function(){return Kl(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Vr.transition,Vr.transition=null;var i=it;it=1;var a=Je;Je|=4,jw.current=null,x4(e,n),VR(n,e),q$(z0),Vp=!!B0,z0=B0=null,e.current=n,w4(n),XF(),Je=a,it=i,Vr.transition=o}else e.current=n;if(kh&&(kh=!1,xi=e,im=s),o=e.pendingLanes,o===0&&(Ti=null),e$(n.stateNode),cr(e,$t()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(om)throw om=!1,e=l_,l_=null,e;return im&1&&e.tag!==0&&Kl(),o=e.pendingLanes,o&1?e===c_?ad++:(ad=0,c_=e):ad=0,Xi(),null}function Kl(){if(xi!==null){var e=AN(im),t=Vr.transition,n=it;try{if(Vr.transition=null,it=16>e?16:e,xi===null)var r=!1;else{if(e=xi,xi=null,im=0,Je&6)throw Error(K(331));var s=Je;for(Je|=4,ce=e.current;ce!==null;){var o=ce,i=o.child;if(ce.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ce=u;ce!==null;){var d=ce;switch(d.tag){case 0:case 11:case 15:od(8,d,o)}var f=d.child;if(f!==null)f.return=d,ce=f;else for(;ce!==null;){d=ce;var h=d.sibling,p=d.return;if(BR(d),d===u){ce=null;break}if(h!==null){h.return=p,ce=h;break}ce=p}}}var y=o.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}ce=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,ce=i;else e:for(;ce!==null;){if(o=ce,o.flags&2048)switch(o.tag){case 0:case 11:case 15:od(9,o,o.return)}var _=o.sibling;if(_!==null){_.return=o.return,ce=_;break e}ce=o.return}}var v=e.current;for(ce=v;ce!==null;){i=ce;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,ce=x;else e:for(i=v;ce!==null;){if(a=ce,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:mg(9,a)}}catch(S){jt(a,a.return,S)}if(a===i){ce=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,ce=b;break e}ce=a.return}}if(Je=s,Xi(),zs&&typeof zs.onPostCommitFiberRoot=="function")try{zs.onPostCommitFiberRoot(ag,e)}catch{}r=!0}return r}finally{it=n,Vr.transition=t}}return!1}function m1(e,t,n){t=Ec(n,t),t=AR(e,t,1),e=Ci(e,t,1),t=zn(),e!==null&&(kf(e,1,t),cr(e,t))}function jt(e,t,n){if(e.tag===3)m1(e,e,n);else for(;t!==null;){if(t.tag===3){m1(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ti===null||!Ti.has(r))){e=Ec(n,e),e=IR(t,e,1),t=Ci(t,e,1),e=zn(),t!==null&&(kf(t,1,e),cr(t,e));break}}t=t.return}}function T4(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=zn(),e.pingedLanes|=e.suspendedLanes&n,fn===e&&(_n&n)===n&&(rn===4||rn===3&&(_n&130023424)===_n&&500>$t()-Ow?Ta(e,0):Pw|=n),cr(e,t)}function XR(e,t){t===0&&(e.mode&1?(t=mh,mh<<=1,!(mh&130023424)&&(mh=4194304)):t=1);var n=zn();e=No(e,t),e!==null&&(kf(e,t,n),cr(e,n))}function N4(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),XR(e,n)}function R4(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(t),XR(e,n)}var ZR;ZR=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ar.current)sr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return sr=!1,g4(e,t,n);sr=!!(e.flags&131072)}else sr=!1,wt&&t.flags&1048576&&nR(t,Xp,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;hp(e,t),e=t.pendingProps;var s=xc(t,In.current);Gl(t,n),s=Tw(null,t,r,e,s,n);var o=Nw();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,lr(r)?(o=!0,Yp(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,bw(t),s.updater=pg,t.stateNode=s,s._reactInternals=t,X0(t,r,e,n),t=e_(null,t,r,!0,o,n)):(t.tag=0,wt&&o&&mw(t),$n(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(hp(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=I4(r),e=as(r,e),s){case 0:t=J0(null,t,r,e,n);break e;case 1:t=o1(null,t,r,e,n);break e;case 11:t=r1(null,t,r,e,n);break e;case 14:t=s1(null,t,r,as(r.type,e),n);break e}throw Error(K(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:as(r,s),J0(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:as(r,s),o1(e,t,r,s,n);case 3:e:{if(MR(t),e===null)throw Error(K(387));r=t.pendingProps,o=t.memoizedState,s=o.element,lR(e,t),em(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Ec(Error(K(423)),t),t=i1(e,t,r,n,s);break e}else if(r!==s){s=Ec(Error(K(424)),t),t=i1(e,t,r,n,s);break e}else for(_r=ki(t.stateNode.containerInfo.firstChild),xr=t,wt=!0,fs=null,n=iR(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(wc(),r===s){t=Ro(e,t,n);break e}$n(e,t,r,n)}t=t.child}return t;case 5:return cR(t),e===null&&K0(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,H0(r,s)?i=null:o!==null&&H0(r,o)&&(t.flags|=32),OR(e,t),$n(e,t,i,n),t.child;case 6:return e===null&&K0(t),null;case 13:return DR(e,t,n);case 4:return Sw(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=bc(t,null,r,n):$n(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:as(r,s),r1(e,t,r,s,n);case 7:return $n(e,t,t.pendingProps,n),t.child;case 8:return $n(e,t,t.pendingProps.children,n),t.child;case 12:return $n(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,mt(Zp,r._currentValue),r._currentValue=i,o!==null)if(ws(o.value,i)){if(o.children===s.children&&!ar.current){t=Ro(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=wo(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Y0(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(K(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Y0(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}$n(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Gl(t,n),s=Yr(s),r=r(s),t.flags|=1,$n(e,t,r,n),t.child;case 14:return r=t.type,s=as(r,t.pendingProps),s=as(r.type,s),s1(e,t,r,s,n);case 15:return jR(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:as(r,s),hp(e,t),t.tag=1,lr(r)?(e=!0,Yp(t)):e=!1,Gl(t,n),RR(t,r,s),X0(t,r,s,n),e_(null,t,r,!0,e,n);case 19:return LR(e,t,n);case 22:return PR(e,t,n)}throw Error(K(156,t.tag))};function JR(e,t){return CN(e,t)}function A4(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hr(e,t,n,r){return new A4(e,t,n,r)}function Fw(e){return e=e.prototype,!(!e||!e.isReactComponent)}function I4(e){if(typeof e=="function")return Fw(e)?1:0;if(e!=null){if(e=e.$$typeof,e===rw)return 11;if(e===sw)return 14}return 2}function Ri(e,t){var n=e.alternate;return n===null?(n=Hr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function gp(e,t,n,r,s,o){var i=2;if(r=e,typeof e=="function")Fw(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Cl:return Na(n.children,s,o,t);case nw:i=8,s|=8;break;case w0:return e=Hr(12,n,t,s|2),e.elementType=w0,e.lanes=o,e;case b0:return e=Hr(13,n,t,s),e.elementType=b0,e.lanes=o,e;case S0:return e=Hr(19,n,t,s),e.elementType=S0,e.lanes=o,e;case cN:return yg(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case aN:i=10;break e;case lN:i=9;break e;case rw:i=11;break e;case sw:i=14;break e;case ei:i=16,r=null;break e}throw Error(K(130,e==null?e:typeof e,""))}return t=Hr(i,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function Na(e,t,n,r){return e=Hr(7,e,r,t),e.lanes=n,e}function yg(e,t,n,r){return e=Hr(22,e,r,t),e.elementType=cN,e.lanes=n,e.stateNode={isHidden:!1},e}function iv(e,t,n){return e=Hr(6,e,null,t),e.lanes=n,e}function av(e,t,n){return t=Hr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function j4(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=By(0),this.expirationTimes=By(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=By(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function $w(e,t,n,r,s,o,i,a,l){return e=new j4(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Hr(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},bw(o),e}function P4(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:kl,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function eA(e){if(!e)return Mi;e=e._reactInternals;e:{if(Xa(e)!==e||e.tag!==1)throw Error(K(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(lr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(K(171))}if(e.tag===1){var n=e.type;if(lr(n))return eR(e,n,t)}return t}function tA(e,t,n,r,s,o,i,a,l){return e=$w(n,r,!0,e,s,o,i,a,l),e.context=eA(null),n=e.current,r=zn(),s=Ni(n),o=wo(r,s),o.callback=t??null,Ci(n,o,s),e.current.lanes=s,kf(e,s,r),cr(e,r),e}function vg(e,t,n,r){var s=t.current,o=zn(),i=Ni(s);return n=eA(n),t.context===null?t.context=n:t.pendingContext=n,t=wo(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ci(s,t,i),e!==null&&(vs(e,s,i,o),up(e,s,i)),i}function lm(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function g1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Uw(e,t){g1(e,t),(e=e.alternate)&&g1(e,t)}function O4(){return null}var nA=typeof reportError=="function"?reportError:function(e){console.error(e)};function Bw(e){this._internalRoot=e}_g.prototype.render=Bw.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(K(409));vg(e,t,null,null)};_g.prototype.unmount=Bw.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Fa(function(){vg(null,e,null,null)}),t[To]=null}};function _g(e){this._internalRoot=e}_g.prototype.unstable_scheduleHydration=function(e){if(e){var t=PN();e={blockedOn:null,target:e,priority:t};for(var n=0;n<oi.length&&t!==0&&t<oi[n].priority;n++);oi.splice(n,0,e),n===0&&MN(e)}};function zw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function xg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function y1(){}function M4(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=lm(i);o.call(u)}}var i=tA(t,r,e,0,null,!1,!1,"",y1);return e._reactRootContainer=i,e[To]=i.current,jd(e.nodeType===8?e.parentNode:e),Fa(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=lm(l);a.call(u)}}var l=$w(e,0,!1,null,null,!1,!1,"",y1);return e._reactRootContainer=l,e[To]=l.current,jd(e.nodeType===8?e.parentNode:e),Fa(function(){vg(t,l,n,r)}),l}function wg(e,t,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var l=lm(i);a.call(l)}}vg(t,i,e,s)}else i=M4(n,t,e,s,r);return lm(i)}IN=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Vu(t.pendingLanes);n!==0&&(aw(t,n|1),cr(t,$t()),!(Je&6)&&(kc=$t()+500,Xi()))}break;case 13:Fa(function(){var r=No(e,1);if(r!==null){var s=zn();vs(r,e,1,s)}}),Uw(e,1)}};lw=function(e){if(e.tag===13){var t=No(e,134217728);if(t!==null){var n=zn();vs(t,e,134217728,n)}Uw(e,134217728)}};jN=function(e){if(e.tag===13){var t=Ni(e),n=No(e,t);if(n!==null){var r=zn();vs(n,e,t,r)}Uw(e,t)}};PN=function(){return it};ON=function(e,t){var n=it;try{return it=e,t()}finally{it=n}};P0=function(e,t,n){switch(t){case"input":if(C0(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=dg(r);if(!s)throw Error(K(90));dN(r),C0(r,s)}}}break;case"textarea":hN(e,n);break;case"select":t=n.value,t!=null&&Hl(e,!!n.multiple,t,!1)}};xN=Mw;wN=Fa;var D4={usingClientEntryPoint:!1,Events:[Tf,Al,dg,vN,_N,Mw]},Cu={findFiberByHostInstance:fa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},L4={bundleType:Cu.bundleType,version:Cu.version,rendererPackageName:Cu.rendererPackageName,rendererConfig:Cu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=EN(e),e===null?null:e.stateNode},findFiberByHostInstance:Cu.findFiberByHostInstance||O4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ch.isDisabled&&Ch.supportsFiber)try{ag=Ch.inject(L4),zs=Ch}catch{}}Tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D4;Tr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zw(t))throw Error(K(200));return P4(e,t,null,n)};Tr.createRoot=function(e,t){if(!zw(e))throw Error(K(299));var n=!1,r="",s=nA;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=$w(e,1,!1,null,null,n,!1,r,s),e[To]=t.current,jd(e.nodeType===8?e.parentNode:e),new Bw(t)};Tr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(K(188)):(e=Object.keys(e).join(","),Error(K(268,e)));return e=EN(t),e=e===null?null:e.stateNode,e};Tr.flushSync=function(e){return Fa(e)};Tr.hydrate=function(e,t,n){if(!xg(t))throw Error(K(200));return wg(null,e,t,!0,n)};Tr.hydrateRoot=function(e,t,n){if(!zw(e))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=nA;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=tA(t,null,e,1,n??null,s,!1,o,i),e[To]=t.current,jd(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new _g(t)};Tr.render=function(e,t,n){if(!xg(t))throw Error(K(200));return wg(null,e,t,!1,n)};Tr.unmountComponentAtNode=function(e){if(!xg(e))throw Error(K(40));return e._reactRootContainer?(Fa(function(){wg(null,null,e,!1,function(){e._reactRootContainer=null,e[To]=null})}),!0):!1};Tr.unstable_batchedUpdates=Mw;Tr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!xg(n))throw Error(K(200));if(e==null||e._reactInternals===void 0)throw Error(K(38));return wg(e,t,n,!1,r)};Tr.version="18.3.1-next-f1338f8080-20240426";function rA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rA)}catch(e){console.error(e)}}rA(),rN.exports=Tr;var Kc=rN.exports;const sA=Vc(Kc);var oA,v1=Kc;oA=v1.createRoot,v1.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bd(){return Bd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bd.apply(this,arguments)}var wi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(wi||(wi={}));const _1="popstate";function F4(e){e===void 0&&(e={});function t(r,s){let{pathname:o,search:i,hash:a}=r.location;return f_("",{pathname:o,search:i,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:cm(s)}return U4(t,n,null,e)}function Bt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function iA(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function $4(){return Math.random().toString(36).substr(2,8)}function x1(e,t){return{usr:e.state,key:e.key,idx:t}}function f_(e,t,n,r){return n===void 0&&(n=null),Bd({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Yc(t):t,{state:n,key:t&&t.key||r||$4()})}function cm(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Yc(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function U4(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,i=s.history,a=wi.Pop,l=null,u=d();u==null&&(u=0,i.replaceState(Bd({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){a=wi.Pop;let w=d(),_=w==null?null:w-u;u=w,l&&l({action:a,location:g.location,delta:_})}function h(w,_){a=wi.Push;let v=f_(g.location,w,_);u=d()+1;let x=x1(v,u),b=g.createHref(v);try{i.pushState(x,"",b)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(b)}o&&l&&l({action:a,location:g.location,delta:1})}function p(w,_){a=wi.Replace;let v=f_(g.location,w,_);u=d();let x=x1(v,u),b=g.createHref(v);i.replaceState(x,"",b),o&&l&&l({action:a,location:g.location,delta:0})}function y(w){let _=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof w=="string"?w:cm(w);return v=v.replace(/ $/,"%20"),Bt(_,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,_)}let g={get action(){return a},get location(){return e(s,i)},listen(w){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(_1,f),l=w,()=>{s.removeEventListener(_1,f),l=null}},createHref(w){return t(s,w)},createURL:y,encodeLocation(w){let _=y(w);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:h,replace:p,go(w){return i.go(w)}};return g}var w1;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(w1||(w1={}));function B4(e,t,n){return n===void 0&&(n="/"),z4(e,t,n,!1)}function z4(e,t,n,r){let s=typeof t=="string"?Yc(t):t,o=Hw(s.pathname||"/",n);if(o==null)return null;let i=aA(e);H4(i);let a=null;for(let l=0;a==null&&l<i.length;++l){let u=eU(o);a=Z4(i[l],u,r)}return a}function aA(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,i,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};l.relativePath.startsWith("/")&&(Bt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Ai([r,l.relativePath]),d=n.concat(l);o.children&&o.children.length>0&&(Bt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),aA(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:Q4(u,o.index),routesMeta:d})};return e.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let l of lA(o.path))s(o,i,l)}),t}function lA(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let i=lA(r.join("/")),a=[];return a.push(...i.map(l=>l===""?o:[o,l].join("/"))),s&&a.push(...i),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function H4(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:X4(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const V4=/^:[\w-]+$/,W4=3,q4=2,G4=1,K4=10,Y4=-2,b1=e=>e==="*";function Q4(e,t){let n=e.split("/"),r=n.length;return n.some(b1)&&(r+=Y4),t&&(r+=q4),n.filter(s=>!b1(s)).reduce((s,o)=>s+(V4.test(o)?W4:o===""?G4:K4),r)}function X4(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function Z4(e,t,n){let{routesMeta:r}=e,s={},o="/",i=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=S1({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=S1({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:Ai([o,f.pathname]),pathnameBase:sU(Ai([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=Ai([o,f.pathnameBase]))}return i}function S1(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=J4(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let g=a[f]||"";i=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const y=a[f];return p&&!y?u[h]=void 0:u[h]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function J4(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),iA(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function eU(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return iA(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Hw(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function tU(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Yc(e):e;return{pathname:n?n.startsWith("/")?n:nU(n,t):t,search:oU(r),hash:iU(s)}}function nU(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function lv(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rU(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Vw(e,t){let n=rU(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ww(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Yc(e):(s=Bd({},e),Bt(!s.pathname||!s.pathname.includes("?"),lv("?","pathname","search",s)),Bt(!s.pathname||!s.pathname.includes("#"),lv("#","pathname","hash",s)),Bt(!s.search||!s.search.includes("#"),lv("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,a;if(i==null)a=n;else{let f=t.length-1;if(!r&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}a=f>=0?t[f]:"/"}let l=tU(s,a),u=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Ai=e=>e.join("/").replace(/\/\/+/g,"/"),sU=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),oU=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,iU=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function aU(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const cA=["post","put","patch","delete"];new Set(cA);const lU=["get",...cA];new Set(lU);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zd(){return zd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zd.apply(this,arguments)}const qw=m.createContext(null),cU=m.createContext(null),Zi=m.createContext(null),bg=m.createContext(null),Ho=m.createContext({outlet:null,matches:[],isDataRoute:!1}),uA=m.createContext(null);function uU(e,t){let{relative:n}=t===void 0?{}:t;Qc()||Bt(!1);let{basename:r,navigator:s}=m.useContext(Zi),{hash:o,pathname:i,search:a}=hA(e,{relative:n}),l=i;return r!=="/"&&(l=i==="/"?r:Ai([r,i])),s.createHref({pathname:l,search:a,hash:o})}function Qc(){return m.useContext(bg)!=null}function Rf(){return Qc()||Bt(!1),m.useContext(bg).location}function dA(e){m.useContext(Zi).static||m.useLayoutEffect(e)}function fA(){let{isDataRoute:e}=m.useContext(Ho);return e?SU():dU()}function dU(){Qc()||Bt(!1);let e=m.useContext(qw),{basename:t,future:n,navigator:r}=m.useContext(Zi),{matches:s}=m.useContext(Ho),{pathname:o}=Rf(),i=JSON.stringify(Vw(s,n.v7_relativeSplatPath)),a=m.useRef(!1);return dA(()=>{a.current=!0}),m.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=Ww(u,JSON.parse(i),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Ai([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,i,o,e])}function Lie(){let{matches:e}=m.useContext(Ho),t=e[e.length-1];return t?t.params:{}}function hA(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=m.useContext(Zi),{matches:s}=m.useContext(Ho),{pathname:o}=Rf(),i=JSON.stringify(Vw(s,r.v7_relativeSplatPath));return m.useMemo(()=>Ww(e,JSON.parse(i),o,n==="path"),[e,i,o,n])}function fU(e,t){return hU(e,t)}function hU(e,t,n,r){Qc()||Bt(!1);let{navigator:s}=m.useContext(Zi),{matches:o}=m.useContext(Ho),i=o[o.length-1],a=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let u=Rf(),d;if(t){var f;let w=typeof t=="string"?Yc(t):t;l==="/"||(f=w.pathname)!=null&&f.startsWith(l)||Bt(!1),d=w}else d=u;let h=d.pathname||"/",p=h;if(l!=="/"){let w=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(w.length).join("/")}let y=B4(e,{pathname:p}),g=vU(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:Ai([l,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:Ai([l,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,r);return t&&g?m.createElement(bg.Provider,{value:{location:zd({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:wi.Pop}},g):g}function pU(){let e=bU(),t=aU(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),n?m.createElement("pre",{style:s},n):null,null)}const mU=m.createElement(pU,null);class gU extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?m.createElement(Ho.Provider,{value:this.props.routeContext},m.createElement(uA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function yU(e){let{routeContext:t,match:n,children:r}=e,s=m.useContext(qw);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(Ho.Provider,{value:t},r)}function vU(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=i.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Bt(!1),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=n,y=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||y){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,h)=>{let p,y=!1,g=null,w=null;n&&(p=a&&f.route.id?a[f.route.id]:void 0,g=f.route.errorElement||mU,l&&(u<0&&h===0?(y=!0,w=null):u===h&&(y=!0,w=f.route.hydrateFallbackElement||null)));let _=t.concat(i.slice(0,h+1)),v=()=>{let x;return p?x=g:y?x=w:f.route.Component?x=m.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=d,m.createElement(yU,{match:f,routeContext:{outlet:d,matches:_,isDataRoute:n!=null},children:x})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?m.createElement(gU,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:v(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):v()},null)}var pA=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(pA||{}),um=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(um||{});function _U(e){let t=m.useContext(qw);return t||Bt(!1),t}function xU(e){let t=m.useContext(cU);return t||Bt(!1),t}function wU(e){let t=m.useContext(Ho);return t||Bt(!1),t}function mA(e){let t=wU(),n=t.matches[t.matches.length-1];return n.route.id||Bt(!1),n.route.id}function bU(){var e;let t=m.useContext(uA),n=xU(um.UseRouteError),r=mA(um.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function SU(){let{router:e}=_U(pA.UseNavigateStable),t=mA(um.UseNavigateStable),n=m.useRef(!1);return dA(()=>{n.current=!0}),m.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,zd({fromRouteId:t},o)))},[e,t])}function EU(e){let{to:t,replace:n,state:r,relative:s}=e;Qc()||Bt(!1);let{future:o,static:i}=m.useContext(Zi),{matches:a}=m.useContext(Ho),{pathname:l}=Rf(),u=fA(),d=Ww(t,Vw(a,o.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(d);return m.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function Ht(e){Bt(!1)}function kU(e){let{basename:t="/",children:n=null,location:r,navigationType:s=wi.Pop,navigator:o,static:i=!1,future:a}=e;Qc()&&Bt(!1);let l=t.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:l,navigator:o,static:i,future:zd({v7_relativeSplatPath:!1},a)}),[l,a,o,i]);typeof r=="string"&&(r=Yc(r));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:y="default"}=r,g=m.useMemo(()=>{let w=Hw(d,l);return w==null?null:{location:{pathname:w,search:f,hash:h,state:p,key:y},navigationType:s}},[l,d,f,h,p,y,s]);return g==null?null:m.createElement(Zi.Provider,{value:u},m.createElement(bg.Provider,{children:n,value:g}))}function CU(e){let{children:t,location:n}=e;return fU(h_(t),n)}new Promise(()=>{});function h_(e,t){t===void 0&&(t=[]);let n=[];return m.Children.forEach(e,(r,s)=>{if(!m.isValidElement(r))return;let o=[...t,s];if(r.type===m.Fragment){n.push.apply(n,h_(r.props.children,o));return}r.type!==Ht&&Bt(!1),!r.props.index||!r.props.children||Bt(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=h_(r.props.children,o)),n.push(i)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function p_(){return p_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p_.apply(this,arguments)}function TU(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,o;for(o=0;o<r.length;o++)s=r[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function NU(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function RU(e,t){return e.button===0&&(!t||t==="_self")&&!NU(e)}const AU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],IU="6";try{window.__reactRouterVersion=IU}catch{}const jU="startTransition",E1=tN[jU];function PU(e){let{basename:t,children:n,future:r,window:s}=e,o=m.useRef();o.current==null&&(o.current=F4({window:s,v5Compat:!0}));let i=o.current,[a,l]=m.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},d=m.useCallback(f=>{u&&E1?E1(()=>l(f)):l(f)},[l,u]);return m.useLayoutEffect(()=>i.listen(d),[i,d]),m.createElement(kU,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:i,future:r})}const OU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",MU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tt=m.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:o,replace:i,state:a,target:l,to:u,preventScrollReset:d,viewTransition:f}=t,h=TU(t,AU),{basename:p}=m.useContext(Zi),y,g=!1;if(typeof u=="string"&&MU.test(u)&&(y=u,OU))try{let x=new URL(window.location.href),b=u.startsWith("//")?new URL(x.protocol+u):new URL(u),S=Hw(b.pathname,p);b.origin===x.origin&&S!=null?u=S+b.search+b.hash:g=!0}catch{}let w=uU(u,{relative:s}),_=DU(u,{replace:i,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:f});function v(x){r&&r(x),x.defaultPrevented||_(x)}return m.createElement("a",p_({},h,{href:y||w,onClick:g||o?r:v,ref:n,target:l}))});var k1;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(k1||(k1={}));var C1;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(C1||(C1={}));function DU(e,t){let{target:n,replace:r,state:s,preventScrollReset:o,relative:i,viewTransition:a}=t===void 0?{}:t,l=fA(),u=Rf(),d=hA(e,{relative:i});return m.useCallback(f=>{if(RU(f,n)){f.preventDefault();let h=r!==void 0?r:cm(u)===cm(d);l(e,{replace:h,state:s,preventScrollReset:o,relative:i,viewTransition:a})}},[u,l,d,r,s,n,e,o,i,a])}const LU="modulepreload",FU=function(e){return"/"+e},T1={},Ot=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=FU(l),l in T1)return;T1[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":LU,u||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return s.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})},$U=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ot(async()=>{const{default:r}=await Promise.resolve().then(()=>Xc);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Gw extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class UU extends Gw{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class BU extends Gw{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class zU extends Gw{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var m_;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(m_||(m_={}));var HU=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{u(r.next(d))}catch(f){i(f)}}function l(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class VU{constructor(t,{headers:n={},customFetch:r,region:s=m_.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=$U(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return HU(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:i}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=i):typeof i=="string"?(a["Content-Type"]="text/plain",u=i):typeof FormData<"u"&&i instanceof FormData?u=i:(a["Content-Type"]="application/json",u=JSON.stringify(i)));const d=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:u}).catch(y=>{throw new UU(y)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new BU(d);if(!d.ok)throw new zU(d);let h=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield d.json():h==="application/octet-stream"?p=yield d.blob():h==="text/event-stream"?p=d:h==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var rr={},Kw={},Sg={},Af={},Eg={},kg={},WU=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Cc=WU();const qU=Cc.fetch,gA=Cc.fetch.bind(Cc),yA=Cc.Headers,GU=Cc.Request,KU=Cc.Response,Xc=Object.freeze(Object.defineProperty({__proto__:null,Headers:yA,Request:GU,Response:KU,default:gA,fetch:qU},Symbol.toStringTag,{value:"Module"})),YU=fF(Xc);var Cg={};Object.defineProperty(Cg,"__esModule",{value:!0});let QU=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Cg.default=QU;var vA=Kr&&Kr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(kg,"__esModule",{value:!0});const XU=vA(YU),ZU=vA(Cg);let JU=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=XU.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,a,l;let u=null,d=null,f=null,h=o.status,p=o.statusText;if(o.ok){if(this.method!=="HEAD"){const _=await o.text();_===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=_:d=JSON.parse(_))}const g=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),w=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");g&&w&&w.length>1&&(f=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const g=await o.text();try{u=JSON.parse(g),Array.isArray(u)&&o.status===404&&(d=[],u=null,h=200,p="OK")}catch{o.status===404&&g===""?(h=204,p="No Content"):u={message:g}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new ZU.default(u)}return{error:u,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(s=s.catch(o=>{var i,a,l;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(a=o==null?void 0:o.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=o==null?void 0:o.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};kg.default=JU;var e3=Kr&&Kr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Eg,"__esModule",{value:!0});const t3=e3(kg);let n3=class extends t3.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:o=s}={}){const i=o?`${o}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const o=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(i,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:o=!1,format:i="text"}={}){var a;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${u}"; options=${l};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Eg.default=n3;var r3=Kr&&Kr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Af,"__esModule",{value:!0});const s3=r3(Eg);let o3=class extends s3.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${i}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Af.default=o3;var i3=Kr&&Kr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Sg,"__esModule",{value:!0});const Tu=i3(Af);let a3=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let o=!1;const i=(t??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",i),r&&(this.headers.Prefer=`count=${r}`),new Tu.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const i=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(i.length>0){const a=[...new Set(i)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Tu.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:o=!0}={}){const i="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Tu.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Tu.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Tu.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Sg.default=a3;var Tg={},Ng={};Object.defineProperty(Ng,"__esModule",{value:!0});Ng.version=void 0;Ng.version="0.0.0-automated";Object.defineProperty(Tg,"__esModule",{value:!0});Tg.DEFAULT_HEADERS=void 0;const l3=Ng;Tg.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${l3.version}`};var _A=Kr&&Kr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Kw,"__esModule",{value:!0});const c3=_A(Sg),u3=_A(Af),d3=Tg;let f3=class xA{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},d3.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new c3.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new xA(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:o}={}){let i;const a=new URL(`${this.url}/rpc/${t}`);let l;r||s?(i=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{a.searchParams.append(d,f)})):(i="POST",l=n);const u=Object.assign({},this.headers);return o&&(u.Prefer=`count=${o}`),new u3.default({method:i,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Kw.default=f3;var Zc=Kr&&Kr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rr,"__esModule",{value:!0});rr.PostgrestError=rr.PostgrestBuilder=rr.PostgrestTransformBuilder=rr.PostgrestFilterBuilder=rr.PostgrestQueryBuilder=rr.PostgrestClient=void 0;const wA=Zc(Kw);rr.PostgrestClient=wA.default;const bA=Zc(Sg);rr.PostgrestQueryBuilder=bA.default;const SA=Zc(Af);rr.PostgrestFilterBuilder=SA.default;const EA=Zc(Eg);rr.PostgrestTransformBuilder=EA.default;const kA=Zc(kg);rr.PostgrestBuilder=kA.default;const CA=Zc(Cg);rr.PostgrestError=CA.default;var h3=rr.default={PostgrestClient:wA.default,PostgrestQueryBuilder:bA.default,PostgrestFilterBuilder:SA.default,PostgrestTransformBuilder:EA.default,PostgrestBuilder:kA.default,PostgrestError:CA.default};const{PostgrestClient:p3,PostgrestQueryBuilder:Hie,PostgrestFilterBuilder:Vie,PostgrestTransformBuilder:Wie,PostgrestBuilder:qie,PostgrestError:Gie}=h3;let g_;typeof window>"u"?g_=require("ws"):g_=window.WebSocket;const m3=g_,g3="2.11.10",y3={"X-Client-Info":`realtime-js/${g3}`},v3="1.0.0",TA=1e4,_3=1e3;var Yl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Yl||(Yl={}));var On;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(On||(On={}));var us;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(us||(us={}));var y_;(function(e){e.websocket="websocket"})(y_||(y_={}));var ca;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ca||(ca={}));class x3{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),o=n.getUint8(2);let i=this.HEADER_LENGTH+2;const a=r.decode(t.slice(i,i+s));i=i+s;const l=r.decode(t.slice(i,i+o));i=i+o;const u=JSON.parse(r.decode(t.slice(i,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class NA{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var dt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(dt||(dt={}));const N1=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,i)=>(o[i]=w3(i,e,t,s),o),{})},w3=(e,t,n,r)=>{const s=t.find(a=>a.name===e),o=s==null?void 0:s.type,i=n[e];return o&&!r.includes(o)?RA(o,i):v_(i)},RA=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return k3(t,n)}switch(e){case dt.bool:return b3(t);case dt.float4:case dt.float8:case dt.int2:case dt.int4:case dt.int8:case dt.numeric:case dt.oid:return S3(t);case dt.json:case dt.jsonb:return E3(t);case dt.timestamp:return C3(t);case dt.abstime:case dt.date:case dt.daterange:case dt.int4range:case dt.int8range:case dt.money:case dt.reltime:case dt.text:case dt.time:case dt.timestamptz:case dt.timetz:case dt.tsrange:case dt.tstzrange:return v_(t);default:return v_(t)}},v_=e=>e,b3=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},S3=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},E3=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},k3=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const i=e.slice(1,n);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(a=>RA(t,a))}return e},C3=e=>typeof e=="string"?e.replace(" ","T"):e,AA=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class cv{constructor(t,n,r={},s=TA){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var R1;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(R1||(R1={}));class ld{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ld.syncState(this.state,s,o,i),this.pendingDiffs.forEach(l=>{this.state=ld.syncDiff(this.state,l,o,i)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ld.syncDiff(this.state,s,o,i),a())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const o=this.cloneDeep(t),i=this.transformState(n),a={},l={};return this.map(o,(u,d)=>{i[u]||(l[u]=d)}),this.map(i,(u,d)=>{const f=o[u];if(f){const h=d.map(w=>w.presence_ref),p=f.map(w=>w.presence_ref),y=d.filter(w=>p.indexOf(w.presence_ref)<0),g=f.filter(w=>h.indexOf(w.presence_ref)<0);y.length>0&&(a[u]=y),g.length>0&&(l[u]=g)}else a[u]=d}),this.syncDiff(o,{joins:a,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:o,leaves:i}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(a,l)=>{var u;const d=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),d.length>0){const f=t[a].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[a].unshift(...h)}r(a,d,l)}),this.map(i,(a,l)=>{let u=t[a];if(!u)return;const d=l.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[a]=u,s(a,u,l),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var A1;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(A1||(A1={}));var I1;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(I1||(I1={}));var po;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(po||(po={}));class Yw{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=On.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new cv(this,us.join,this.params,this.timeout),this.rejoinTimer=new NA(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=On.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=On.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=On.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=On.errored,this.rejoinTimer.scheduleTimeout())}),this._on(us.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new ld(this),this.broadcastEndpointURL=AA(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:i,private:a}}=this.params;this._onError(d=>t==null?void 0:t(po.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(po.CLOSED));const l={},u={broadcast:o,presence:i,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(po.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,y=[];for(let g=0;g<p;g++){const w=h[g],{filter:{event:_,schema:v,table:x,filter:b}}=w,S=d&&d[g];if(S&&S.event===_&&S.schema===v&&S.table===x&&S.filter===b)y.push(Object.assign(Object.assign({},w),{id:S.id}));else{this.unsubscribe(),this.state=On.errored,t==null||t(po.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(po.SUBSCRIBED);return}}).receive("error",d=>{this.state=On.errored,t==null||t(po.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(po.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:i}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,a,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=On.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(us.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const s=new cv(this,us.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),i=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),i}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new cv(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,o;const i=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:d}=us;if(r&&[a,l,u,d].indexOf(i)>=0&&r!==this._joinRef())return;let h=this._onMessage(i,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var y,g,w;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((w=(g=p.filter)===null||g===void 0?void 0:g.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===i}).map(p=>p.callback(h,r)):(o=this.bindings[i])===null||o===void 0||o.filter(p=>{var y,g,w,_,v,x;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const b=p.id,S=(y=p.filter)===null||y===void 0?void 0:y.event;return b&&((g=n.ids)===null||g===void 0?void 0:g.includes(b))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const b=(v=(_=p==null?void 0:p.filter)===null||_===void 0?void 0:_.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return b==="*"||b===((x=n==null?void 0:n.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:g,table:w,commit_timestamp:_,type:v,errors:x}=y;h=Object.assign(Object.assign({},{schema:g,table:w,commit_timestamp:_,eventType:v,new:{},old:{},errors:x}),this._getPayloadRecords(y))}p.callback(h,r)})}_isClosed(){return this.state===On.closed}_isJoined(){return this.state===On.joined}_isJoining(){return this.state===On.joining}_isLeaving(){return this.state===On.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Yw.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(us.close,{},t)}_onError(t){this._on(us.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=On.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=N1(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=N1(t.columns,t.old_record)),n}}const j1=()=>{},T3=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class N3{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=y3,this.params={},this.timeout=TA,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=j1,this.ref=0,this.logger=j1,this.conn=null,this.sendBuffer=[],this.serializer=new x3,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...a)=>Ot(async()=>{const{default:l}=await Promise.resolve().then(()=>Xc);return{default:l}},void 0).then(({default:l})=>l(...a)):i=fetch,(...a)=>i(...a)},this.endPoint=`${t}/${y_.websocket}`,this.httpEndpoint=AA(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(o,i)=>i(JSON.stringify(o)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new NA(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=m3),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new R3(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:v3}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Yl.connecting:return ca.Connecting;case Yl.open:return ca.Open;case Yl.closing:return ca.Closing;default:return ca.Closed}}isConnected(){return this.connectionState()===ca.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===r);if(s)return s;{const o=new Yw(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:s,ref:o}=t,i=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(us.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(_3,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:o,ref:i}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${s} ${i&&"("+i+")"||""}`,o),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,o,i)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(us.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([T3],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class R3{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Yl.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class Qw extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ln(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class A3 extends Qw{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class __ extends Qw{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var I3=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{u(r.next(d))}catch(f){i(f)}}function l(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const IA=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ot(async()=>{const{default:r}=await Promise.resolve().then(()=>Xc);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},j3=()=>I3(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ot(()=>Promise.resolve().then(()=>Xc),void 0)).Response:Response}),x_=e=>{if(Array.isArray(e))return e.map(n=>x_(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=x_(r)}),t};var Za=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{u(r.next(d))}catch(f){i(f)}}function l(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const uv=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),P3=(e,t,n)=>Za(void 0,void 0,void 0,function*(){const r=yield j3();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new A3(uv(s),e.status||500))}).catch(s=>{t(new __(uv(s),s))}):t(new __(uv(e),e))}),O3=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function If(e,t,n,r,s,o){return Za(this,void 0,void 0,function*(){return new Promise((i,a)=>{e(n,O3(t,r,s,o)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>i(l)).catch(l=>P3(l,a,r))})})}function dm(e,t,n,r){return Za(this,void 0,void 0,function*(){return If(e,"GET",t,n,r)})}function ni(e,t,n,r,s){return Za(this,void 0,void 0,function*(){return If(e,"POST",t,r,s,n)})}function M3(e,t,n,r,s){return Za(this,void 0,void 0,function*(){return If(e,"PUT",t,r,s,n)})}function D3(e,t,n,r){return Za(this,void 0,void 0,function*(){return If(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function jA(e,t,n,r,s){return Za(this,void 0,void 0,function*(){return If(e,"DELETE",t,r,s,n)})}var Zn=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{u(r.next(d))}catch(f){i(f)}}function l(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const L3={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},P1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class F3{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=IA(s)}uploadOrUpdate(t,n,r,s){return Zn(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},P1),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:o,headers:a},i!=null&&i.duplex?{duplex:i.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(o){if(ln(o))return{data:null,error:o};throw o}})}upload(t,n,r){return Zn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Zn(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:P1.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),h=yield f.json();return f.ok?{data:{path:o,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(ln(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return Zn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const o=yield ni(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),i=new URL(this.url+o.url),a=i.searchParams.get("token");if(!a)throw new Qw("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:a},error:null}}catch(r){if(ln(r))return{data:null,error:r};throw r}})}update(t,n,r){return Zn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Zn(this,void 0,void 0,function*(){try{return{data:yield ni(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ln(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Zn(this,void 0,void 0,function*(){try{return{data:{path:(yield ni(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ln(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Zn(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield ni(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(ln(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Zn(this,void 0,void 0,function*(){try{const s=yield ni(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(ln(s))return{data:null,error:s};throw s}})}download(t,n){return Zn(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),i=o?`?${o}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield dm(this.fetch,`${this.url}/${s}/${a}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ln(a))return{data:null,error:a};throw a}})}info(t){return Zn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield dm(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:x_(r),error:null}}catch(r){if(ln(r))return{data:null,error:r};throw r}})}exists(t){return Zn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield D3(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ln(r)&&r instanceof __){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&s.push(o);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return Zn(this,void 0,void 0,function*(){try{return{data:yield jA(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(ln(n))return{data:null,error:n};throw n}})}list(t,n,r){return Zn(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},L3),n),{prefix:t||""});return{data:yield ni(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(ln(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const $3="2.7.1",U3={"X-Client-Info":`storage-js/${$3}`};var dl=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{u(r.next(d))}catch(f){i(f)}}function l(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class B3{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},U3),n),this.fetch=IA(r)}listBuckets(){return dl(this,void 0,void 0,function*(){try{return{data:yield dm(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ln(t))return{data:null,error:t};throw t}})}getBucket(t){return dl(this,void 0,void 0,function*(){try{return{data:yield dm(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(ln(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return dl(this,void 0,void 0,function*(){try{return{data:yield ni(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ln(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return dl(this,void 0,void 0,function*(){try{return{data:yield M3(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ln(r))return{data:null,error:r};throw r}})}emptyBucket(t){return dl(this,void 0,void 0,function*(){try{return{data:yield ni(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(ln(n))return{data:null,error:n};throw n}})}deleteBucket(t){return dl(this,void 0,void 0,function*(){try{return{data:yield jA(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(ln(n))return{data:null,error:n};throw n}})}}class z3 extends B3{constructor(t,n={},r){super(t,n,r)}from(t){return new F3(this.url,this.headers,t,this.fetch)}}const H3="2.50.0";let qu="";typeof Deno<"u"?qu="deno":typeof document<"u"?qu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?qu="react-native":qu="node";const V3={"X-Client-Info":`supabase-js-${qu}/${H3}`},W3={headers:V3},q3={schema:"public"},G3={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},K3={};var Y3=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{u(r.next(d))}catch(f){i(f)}}function l(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const Q3=e=>{let t;return e?t=e:typeof fetch>"u"?t=gA:t=fetch,(...n)=>t(...n)},X3=()=>typeof Headers>"u"?yA:Headers,Z3=(e,t,n)=>{const r=Q3(n),s=X3();return(o,i)=>Y3(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},i),{headers:u}))})};var J3=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{u(r.next(d))}catch(f){i(f)}}function l(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};function eB(e){return e.endsWith("/")?e:e+"/"}function tB(e,t){var n,r;const{db:s,auth:o,realtime:i,global:a}=e,{db:l,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},d),i),global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>J3(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const PA="2.70.0",wl=30*1e3,w_=3,dv=w_*wl,nB="http://localhost:9999",rB="supabase.auth.token",sB={"X-Client-Info":`gotrue-js/${PA}`},b_="X-Supabase-Api-Version",OA={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},oB=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,iB=6e5;class Xw extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Pe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class aB extends Xw{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function lB(e){return Pe(e)&&e.name==="AuthApiError"}class MA extends Xw{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Ji extends Xw{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Xo extends Ji{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function cB(e){return Pe(e)&&e.name==="AuthSessionMissingError"}class Th extends Ji{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Nh extends Ji{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Rh extends Ji{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function uB(e){return Pe(e)&&e.name==="AuthImplicitGrantRedirectError"}class O1 extends Ji{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class S_ extends Ji{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function fv(e){return Pe(e)&&e.name==="AuthRetryableFetchError"}class M1 extends Ji{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class cd extends Ji{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const fm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),D1=` 	
\r=`.split(""),dB=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<D1.length;t+=1)e[D1[t].charCodeAt(0)]=-2;for(let t=0;t<fm.length;t+=1)e[fm[t].charCodeAt(0)]=t;return e})();function L1(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(fm[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(fm[r]),t.queuedBits-=6}}function DA(e,t,n){const r=dB[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function F1(e){const t=[],n=i=>{t.push(String.fromCodePoint(i))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{pB(i,r,n)};for(let i=0;i<e.length;i+=1)DA(e.charCodeAt(i),s,o);return t.join("")}function fB(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function hB(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}fB(r,t)}}function pB(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function mB(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)DA(e.charCodeAt(s),n,r);return new Uint8Array(t)}function gB(e){const t=[];return hB(e,n=>t.push(n)),new Uint8Array(t)}function yB(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>L1(s,n,r)),L1(null,n,r),t.join("")}function vB(e){return Math.round(Date.now()/1e3)+e}function _B(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const rs=()=>typeof window<"u"&&typeof document<"u",oa={tested:!1,writable:!1},ud=()=>{if(!rs())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(oa.tested)return oa.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),oa.tested=!0,oa.writable=!0}catch{oa.tested=!0,oa.writable=!1}return oa.writable};function xB(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const LA=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ot(async()=>{const{default:r}=await Promise.resolve().then(()=>Xc);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},wB=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",FA=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ah=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ih=async(e,t)=>{await e.removeItem(t)};class Rg{constructor(){this.promise=new Rg.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Rg.promiseConstructor=Promise;function hv(e){const t=e.split(".");if(t.length!==3)throw new cd("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!oB.test(t[r]))throw new cd("JWT not in base64url format");return{header:JSON.parse(F1(t[0])),payload:JSON.parse(F1(t[1])),signature:mB(t[2]),raw:{header:t[0],payload:t[1]}}}async function bB(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function SB(e,t){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){r(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function EB(e){return("0"+e.toString(16)).substr(-2)}function kB(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,EB).join("")}async function CB(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function TB(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await CB(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function fl(e,t,n=!1){const r=kB();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await FA(e,`${t}-code-verifier`,s);const o=await TB(r);return[o,r===o?"plain":"s256"]}const NB=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function RB(e){const t=e.headers.get(b_);if(!t||!t.match(NB))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function AB(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function IB(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const jB=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function hl(e){if(!jB.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var PB=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const la=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),OB=[502,503,504];async function $1(e){var t;if(!wB(e))throw new S_(la(e),0);if(OB.includes(e.status))throw new S_(la(e),e.status);let n;try{n=await e.json()}catch(o){throw new MA(la(o),o)}let r;const s=RB(e);if(s&&s.getTime()>=OA["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new M1(la(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Xo}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new M1(la(n),e.status,n.weak_password.reasons);throw new aB(la(n),e.status||500,r)}const MB=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Ve(e,t,n,r){var s;const o=Object.assign({},r==null?void 0:r.headers);o[b_]||(o[b_]=OA["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const i=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(i.redirect_to=r.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await DB(e,t,n+a,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function DB(e,t,n,r,s,o){const i=MB(t,r,s,o);let a;try{a=await e(n,Object.assign({},i))}catch(l){throw console.error(l),new S_(la(l),0)}if(a.ok||await $1(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await $1(l)}}function ao(e){var t;let n=null;UB(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=vB(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function U1(e){const t=ao(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ai(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function LB(e){return{data:e,error:null}}function FB(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=e,i=PB(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},l=Object.assign({},i);return{data:{properties:a,user:l},error:null}}function $B(e){return e}function UB(e){return e.access_token&&e.refresh_token&&e.expires_in}const pv=["global","local","others"];var BB=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class zB{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=LA(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=pv[0]){if(pv.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${pv.join(", ")}`);try{return await Ve(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Ve(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ai})}catch(r){if(Pe(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=BB(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Ve(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:FB,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Pe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Ve(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ai})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,o,i,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await Ve(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:$B});if(d.error)throw d.error;const f=await d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(y=>{const g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(y.split(";")[1].split("=")[1]);u[`${w}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Pe(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){hl(t);try{return await Ve(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ai})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){hl(t);try{return await Ve(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:ai})}catch(r){if(Pe(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){hl(t);try{return await Ve(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:ai})}catch(r){if(Pe(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){hl(t.userId);try{const{data:n,error:r}=await Ve(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async _deleteFactor(t){hl(t.userId),hl(t.id);try{return{data:await Ve(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}}}const HB={getItem:e=>ud()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{ud()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{ud()&&globalThis.localStorage.removeItem(e)}};function B1(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function VB(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const pl={debug:!!(globalThis&&ud()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class $A extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class WB extends $A{}async function qB(e,t,n){pl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),pl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){pl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{pl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw pl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new WB(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(pl.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}VB();const GB={url:nB,storageKey:rB,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:sB,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function z1(e,t,n){return await n()}class Hd{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Hd.nextInstanceID,Hd.nextInstanceID+=1,this.instanceID>0&&rs()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},GB),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new zB({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=LA(s.fetch),this.lock=s.lock||z1,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:rs()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=qB:this.lock=z1,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:ud()?this.storage=HB:(this.memoryStorage={},this.storage=B1(this.memoryStorage)):(this.memoryStorage={},this.storage=B1(this.memoryStorage)),rs()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${PA}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=xB(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),rs()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),uB(o)){const l=(t=o.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Pe(n)?{error:n}:{error:new MA("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const o=await Ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:ao}),{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const l=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(o){if(Pe(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,s;try{let o;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await fl(this.storage,this.storageKey)),o=await Ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:y},xform:ao})}else if("phone"in t){const{phone:d,password:f,options:h}=t;o=await Ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:ao})}else throw new Nh("You must provide either an email or phone number and a password");const{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const l=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(o){if(Pe(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:i,options:a}=t;n=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:U1})}else if("phone"in t){const{phone:o,password:i,options:a}=t;n=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:U1})}else throw new Nh("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Th}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Pe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,o,i,a,l,u,d,f,h,p;let y,g;if("message"in t)y=t.message,g=t.signature;else{const{chain:w,wallet:_,statement:v,options:x}=t;let b;if(rs())if(typeof _=="object")b=_;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))b=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=_}const S=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in b&&b.signIn){const E=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),v?{statement:v}:null));let k;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")k=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)k=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)y=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),g=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${S.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(r=x==null?void 0:x.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((f=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...x.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const E=await b.signMessage(new TextEncoder().encode(y),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=E}}try{const{data:w,error:_}=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:yB(g)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:ao});if(_)throw _;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Th}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:_})}catch(w){if(Pe(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const n=await Ah(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:o,error:i}=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:ao});if(await Ih(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Th}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(Pe(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:o,nonce:i}=t,a=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ao}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Th}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(Pe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,o,i;try{if("email"in t){const{email:a,options:l}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await fl(this.storage,this.storageKey));const{error:f}=await Ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:d}=await Ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(i=l==null?void 0:l.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Nh("You must provide either an email or phone number.")}catch(a){if(Pe(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:i,error:a}=await Ve(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:ao});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,u=i.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(Pe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await fl(this.storage,this.storageKey)),await Ve(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:LB})}catch(o){if(Pe(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Xo;const{error:s}=await Ve(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Pe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:o}=t,{error:i}=await Ve(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:r,type:s,options:o}=t,{data:i,error:a}=await Ve(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:a}}throw new Nh("You must provide either an email or phone number and a type")}catch(n){if(Pe(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ah(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<dv:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ai}):await this._useSession(async n=>{var r,s,o;const{data:i,error:a}=n;if(a)throw a;return!(!((r=i.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Xo}:await Ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:ai})})}catch(n){if(Pe(n))return cB(n)&&(await this._removeSession(),await Ih(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new Xo;const i=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await fl(this.storage,this.storageKey));const{data:u,error:d}=await Ve(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:i.access_token,xform:ai});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(r){if(Pe(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Xo;const n=Date.now()/1e3;let r=n,s=!0,o=null;const{payload:i}=hv(t.access_token);if(i.exp&&(r=i.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;o={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(Pe(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:i,error:a}=n;if(a)throw a;t=(r=i.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Xo;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Pe(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!rs())throw new Rh("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Rh(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new O1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Rh("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new O1("No code detected.");const{data:v,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:a,expires_at:l,token_type:u}=t;if(!o||!a||!i||!u)throw new Rh("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(a);let h=d+f;l&&(h=parseInt(l));const p=h-d;p*1e3<=wl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const y=h-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,d);const{data:g,error:w}=await this._getUser(o);if(w)throw w;const _={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:h,refresh_token:i,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_,redirectType:t.type},error:null}}catch(r){if(Pe(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Ah(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{error:o};const i=(r=s.session)===null||r===void 0?void 0:r.access_token;if(i){const{error:a}=await this.admin.signOut(i,t);if(a&&!(lB(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Ih(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=_B(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:i}=n;if(i)throw i;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await fl(this.storage,this.storageKey,!0));try{return await Ve(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(Pe(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async o=>{var i,a,l,u,d;const{data:f,error:h}=o;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Ve(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return rs()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Pe(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)throw i;return await Ve(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await SB(async s=>(s>0&&await bB(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Ve(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ao})),(s,o)=>{const i=200*Math.pow(2,s);return o&&fv(o)&&Date.now()+i-r<wl})}catch(r){if(this._debug(n,"error",r),Pe(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),rs()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Ah(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<dv;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${dv}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),fv(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Xo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Rg;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new Xo;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={session:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(s,"error",o),Pe(o)){const i={session:null,error:o};return fv(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(i),i}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){o.push(l)}});if(await Promise.all(i),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await FA(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Ih(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&rs()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),wl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/wl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${wl}ms, refresh threshold is ${w_} ticks`),s<=w_&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof $A)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!rs()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,i]=await fl(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await Ve(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)return{data:null,error:i};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await Ve(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{data:null,error:o};const{data:i,error:a}=await Ve(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:a})})}catch(n){if(Pe(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await Ve(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Pe(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=r.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:r,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=hv(s.access_token);let a=null;i.aal&&(a=i.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=i.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(i=>i.kid===t);if(r||(r=this.jwks.keys.find(i=>i.kid===t),r&&this.jwks_cached_at+iB>Date.now()))return r;const{data:s,error:o}=await Ve(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!s.keys||s.keys.length===0)throw new cd("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(i=>i.kid===t),!r)throw new cd("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:p,error:y}=await this.getSession();if(y||!p.session)return{data:null,error:y};r=p.session.access_token}const{header:s,payload:o,signature:i,raw:{header:a,payload:l}}=hv(r);if(AB(o.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:o,header:s,signature:i},error:null}}const u=IB(s.alg),d=await this.fetchJwk(s.kid,n),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,i,gB(`${a}.${l}`)))throw new cd("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}}}Hd.nextInstanceID=0;const KB=Hd;class YB extends KB{constructor(t){super(t)}}var QB=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{u(r.next(d))}catch(f){i(f)}}function l(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class XB{constructor(t,n,r){var s,o,i;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=eB(t),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:q3,realtime:K3,auth:Object.assign(Object.assign({},G3),{storageKey:u}),global:W3},f=tB(r??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=f.global.headers)!==null&&o!==void 0?o:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=f.auth)!==null&&i!==void 0?i:{},this.headers,f.global.fetch),this.fetch=Z3(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new p3(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new VU(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new z3(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return QB(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:o,flowType:i,lock:a,debug:l},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new YB({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:i,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new N3(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ZB=(e,t,n)=>new XB(e,t,n),JB="https://iqdiaqepjekcqievefvp.supabase.co",e5="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlxZGlhcWVwamVrY3FpZXZlZnZwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk5MTAwOTgsImV4cCI6MjA2NTQ4NjA5OH0.HLyFl9udVKO6NrLVqWdDyJyp6SP73s1IJ8refw1RwqU",vr=ZB(JB,e5),_e=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Ye=globalThis,Ra="9.31.0";function Ja(){return Ag(Ye),Ye}function Ag(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Ra,t[Ra]=t[Ra]||{}}function Ig(e,t,n=Ye){const r=n.__SENTRY__=n.__SENTRY__||{},s=r[Ra]=r[Ra]||{};return s[e]||(s[e]=t())}const t5="Sentry Logger ",E_=["debug","info","warn","error","log","assert","trace"],hm={};function el(e){if(!("console"in Ye))return e();const t=Ye.console,n={},r=Object.keys(hm);r.forEach(s=>{const o=hm[s];n[s]=t[s],t[s]=o});try{return e()}finally{r.forEach(s=>{t[s]=n[s]})}}function n5(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return _e?E_.forEach(n=>{t[n]=(...r)=>{e&&el(()=>{Ye.console[n](`${t5}[${n}]:`,...r)})}}):E_.forEach(n=>{t[n]=()=>{}}),t}const J=Ig("logger",n5),UA=50,$a="?",H1=/\(error: (.*)\)/,V1=/captureMessage|captureException/;function BA(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,s=0)=>{const o=[],i=n.split(`
`);for(let a=r;a<i.length;a++){const l=i[a];if(l.length>1024)continue;const u=H1.test(l)?l.replace(H1,"$1"):l;if(!u.match(/\S*Error: /)){for(const d of t){const f=d(u);if(f){o.push(f);break}}if(o.length>=UA+s)break}}return s5(o.slice(s))}}function r5(e){return Array.isArray(e)?BA(...e):e}function s5(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(jh(t).function||"")&&t.pop(),t.reverse(),V1.test(jh(t).function||"")&&(t.pop(),V1.test(jh(t).function||"")&&t.pop()),t.slice(0,UA).map(n=>({...n,filename:n.filename||jh(t).filename,function:n.function||$a}))}function jh(e){return e[e.length-1]||{}}const mv="<anonymous>";function Ao(e){try{return!e||typeof e!="function"?mv:e.name||mv}catch{return mv}}function W1(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}const yp={},q1={};function ea(e,t){yp[e]=yp[e]||[],yp[e].push(t)}function ta(e,t){if(!q1[e]){q1[e]=!0;try{t()}catch(n){_e&&J.error(`Error while instrumenting ${e}`,n)}}}function Wr(e,t){const n=e&&yp[e];if(n)for(const r of n)try{r(t)}catch(s){_e&&J.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Ao(r)}
Error:`,s)}}let gv=null;function zA(e){const t="error";ea(t,e),ta(t,o5)}function o5(){gv=Ye.onerror,Ye.onerror=function(e,t,n,r,s){return Wr("error",{column:r,error:s,line:n,msg:e,url:t}),gv?gv.apply(this,arguments):!1},Ye.onerror.__SENTRY_INSTRUMENTED__=!0}let yv=null;function HA(e){const t="unhandledrejection";ea(t,e),ta(t,i5)}function i5(){yv=Ye.onunhandledrejection,Ye.onunhandledrejection=function(e){return Wr("unhandledrejection",e),yv?yv.apply(this,arguments):!0},Ye.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const VA=Object.prototype.toString;function jg(e){switch(VA.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return Io(e,Error)}}function Jc(e,t){return VA.call(e)===`[object ${t}]`}function WA(e){return Jc(e,"ErrorEvent")}function G1(e){return Jc(e,"DOMError")}function a5(e){return Jc(e,"DOMException")}function bo(e){return Jc(e,"String")}function Zw(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function Vd(e){return e===null||Zw(e)||typeof e!="object"&&typeof e!="function"}function Wd(e){return Jc(e,"Object")}function Pg(e){return typeof Event<"u"&&Io(e,Event)}function l5(e){return typeof Element<"u"&&Io(e,Element)}function c5(e){return Jc(e,"RegExp")}function Og(e){return!!(e!=null&&e.then&&typeof e.then=="function")}function u5(e){return Wd(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function Io(e,t){try{return e instanceof t}catch{return!1}}function qA(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function GA(e){return typeof Request<"u"&&Io(e,Request)}const Jw=Ye,d5=80;function jo(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,s=[];let o=0,i=0;const a=" > ",l=a.length;let u;const d=Array.isArray(t)?t:t.keyAttrs,f=!Array.isArray(t)&&t.maxStringLength||d5;for(;n&&o++<r&&(u=f5(n,d),!(u==="html"||o>1&&i+s.length*l+u.length>=f));)s.push(u),i+=u.length,n=n.parentNode;return s.reverse().join(a)}catch{return"<unknown>"}}function f5(e,t){const n=e,r=[];if(!(n!=null&&n.tagName))return"";if(Jw.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const s=t!=null&&t.length?t.filter(i=>n.getAttribute(i)).map(i=>[i,n.getAttribute(i)]):null;if(s!=null&&s.length)s.forEach(i=>{r.push(`[${i[0]}="${i[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const i=n.className;if(i&&bo(i)){const a=i.split(/\s+/);for(const l of a)r.push(`.${l}`)}}const o=["aria-label","type","name","title","alt"];for(const i of o){const a=n.getAttribute(i);a&&r.push(`[${i}="${a}"]`)}return r.join("")}function eu(){try{return Jw.document.location.href}catch{return""}}function KA(e){if(!Jw.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function pm(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function K1(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const s=e[r];try{qA(s)?n.push("[VueViewModel]"):n.push(String(s))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function h5(e,t,n=!1){return bo(e)?c5(t)?t.test(e):bo(t)?n?e===t:e.includes(t):!1:!1}function So(e,t=[],n=!1){return t.some(r=>h5(e,r,n))}function or(e,t,n){if(!(t in e))return;const r=e[t];if(typeof r!="function")return;const s=n(r);typeof s=="function"&&YA(s,r);try{e[t]=s}catch{_e&&J.log(`Failed to replace method "${t}" in object`,e)}}function kr(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{_e&&J.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function YA(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,kr(e,"__sentry_original__",t)}catch{}}function eb(e){return e.__sentry_original__}function QA(e){if(jg(e))return{message:e.message,name:e.name,stack:e.stack,...Q1(e)};if(Pg(e)){const t={type:e.type,target:Y1(e.target),currentTarget:Y1(e.currentTarget),...Q1(e)};return typeof CustomEvent<"u"&&Io(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function Y1(e){try{return l5(e)?jo(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function Q1(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function p5(e,t=40){const n=Object.keys(QA(e));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return pm(r,t);for(let s=n.length;s>0;s--){const o=n.slice(0,s).join(", ");if(!(o.length>t))return s===n.length?o:pm(o,t)}return""}function m5(){const e=Ye;return e.crypto||e.msCrypto}function wr(e=m5()){let t=()=>Math.random()*16;try{if(e!=null&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e!=null&&e.getRandomValues&&(t=()=>{const n=new Uint8Array(1);return e.getRandomValues(n),n[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(t()&15)>>n/4).toString(16))}function XA(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)==null?void 0:n[0]}function ua(e){const{message:t,event_id:n}=e;if(t)return t;const r=XA(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function k_(e,t,n){const r=e.exception=e.exception||{},s=r.values=r.values||[],o=s[0]=s[0]||{};o.value||(o.value=t||""),o.type||(o.type="Error")}function Tc(e,t){const n=XA(e);if(!n)return;const r={type:"generic",handled:!0},s=n.mechanism;if(n.mechanism={...r,...s,...t},t&&"data"in t){const o={...s==null?void 0:s.data,...t.data};n.mechanism.data=o}}function X1(e){if(g5(e))return!0;try{kr(e,"__sentry_captured__",!0)}catch{}return!1}function g5(e){try{return e.__sentry_captured__}catch{}}const ZA=1e3;function jf(){return Date.now()/ZA}function y5(){const{performance:e}=Ye;if(!(e!=null&&e.now))return jf;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/ZA}const Hn=y5();let vv;function v5(){var d;const{performance:e}=Ye;if(!(e!=null&&e.now))return[void 0,"none"];const t=3600*1e3,n=e.now(),r=Date.now(),s=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,o=s<t,i=(d=e.timing)==null?void 0:d.navigationStart,l=typeof i=="number"?Math.abs(i+n-r):t,u=l<t;return o||u?s<=l?[e.timeOrigin,"timeOrigin"]:[i,"navigationStart"]:[r,"dateNow"]}function Rr(){return vv||(vv=v5()),vv[0]}function _5(e){const t=Hn(),n={sid:wr(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>w5(n)};return e&&Nc(n,e),n}function Nc(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Hn(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:wr()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function x5(e,t){let n={};e.status==="ok"&&(n={status:"exited"}),Nc(e,n)}function w5(e){return{sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}function Pf(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&Object.keys(t).length===0)return e;const r={...e};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=Pf(r[s],t[s],n-1));return r}function Di(){return wr()}function Of(){return wr().substring(16)}const C_="_sentrySpan";function qd(e,t){t?kr(e,C_,t):delete e[C_]}function mm(e){return e[C_]}const b5=100;class qs{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Di(),sampleRand:Math.random()}}clone(){const t=new qs;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,qd(t,mm(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Nc(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,r=n instanceof qs?n.getScopeData():Wd(n)?t:void 0,{tags:s,extra:o,user:i,contexts:a,level:l,fingerprint:u=[],propagationContext:d}=r||{};return this._tags={...this._tags,...s},this._extra={...this._extra,...o},this._contexts={...this._contexts,...a},i&&Object.keys(i).length&&(this._user=i),l&&(this._level=l),u.length&&(this._fingerprint=u),d&&(this._propagationContext=d),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,qd(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Di(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){var o;const r=typeof n=="number"?n:b5;if(r<=0)return this;const s={timestamp:jf(),...t,message:t.message?pm(t.message,2048):t.message};return this._breadcrumbs.push(s),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),(o=this._client)==null||o.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:mm(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=Pf(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=(n==null?void 0:n.event_id)||wr();if(!this._client)return J.warn("No client configured on scope - will not capture exception!"),r;const s=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:s,...n,event_id:r},this),r}captureMessage(t,n,r){const s=(r==null?void 0:r.event_id)||wr();if(!this._client)return J.warn("No client configured on scope - will not capture message!"),s;const o=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:o,...r,event_id:s},this),s}captureEvent(t,n){const r=(n==null?void 0:n.event_id)||wr();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(J.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}function S5(){return Ig("defaultCurrentScope",()=>new qs)}function E5(){return Ig("defaultIsolationScope",()=>new qs)}class k5{constructor(t,n){let r;t?r=t:r=new qs;let s;n?s=n:s=new qs,this._stack=[{scope:r}],this._isolationScope=s}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(s){throw this._popScope(),s}return Og(r)?r.then(s=>(this._popScope(),s),s=>{throw this._popScope(),s}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function Rc(){const e=Ja(),t=Ag(e);return t.stack=t.stack||new k5(S5(),E5())}function C5(e){return Rc().withScope(e)}function T5(e,t){const n=Rc();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function Z1(e){return Rc().withScope(()=>e(Rc().getIsolationScope()))}function N5(){return{withIsolationScope:Z1,withScope:C5,withSetScope:T5,withSetIsolationScope:(e,t)=>Z1(t),getCurrentScope:()=>Rc().getScope(),getIsolationScope:()=>Rc().getIsolationScope()}}function tu(e){const t=Ag(e);return t.acs?t.acs:N5()}function ct(){const e=Ja();return tu(e).getCurrentScope()}function Zr(){const e=Ja();return tu(e).getIsolationScope()}function R5(){return Ig("globalScope",()=>new qs)}function nu(...e){const t=Ja(),n=tu(t);if(e.length===2){const[r,s]=e;return r?n.withSetScope(r,s):n.withScope(s)}return n.withScope(e[0])}function ze(){return ct().getClient()}function A5(e){const t=e.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:s}=t,o={trace_id:n,span_id:s||Of()};return r&&(o.parent_span_id=r),o}const $s="sentry.source",tb="sentry.sample_rate",JA="sentry.previous_trace_sample_rate",Ua="sentry.op",hn="sentry.origin",gm="sentry.idle_span_finish_reason",Mg="sentry.measurement_unit",Dg="sentry.measurement_value",J1="sentry.custom_span_name",nb="sentry.profile_id",Mf="sentry.exclusive_time",I5="sentry.link.type",j5=0,eI=1,an=2;function P5(e){if(e<400&&e>=100)return{code:eI};if(e>=400&&e<500)switch(e){case 401:return{code:an,message:"unauthenticated"};case 403:return{code:an,message:"permission_denied"};case 404:return{code:an,message:"not_found"};case 409:return{code:an,message:"already_exists"};case 413:return{code:an,message:"failed_precondition"};case 429:return{code:an,message:"resource_exhausted"};case 499:return{code:an,message:"cancelled"};default:return{code:an,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:an,message:"unimplemented"};case 503:return{code:an,message:"unavailable"};case 504:return{code:an,message:"deadline_exceeded"};default:return{code:an,message:"internal_error"}}return{code:an,message:"unknown_error"}}function tI(e,t){e.setAttribute("http.response.status_code",t);const n=P5(t);n.message!=="unknown_error"&&e.setStatus(n)}const nI="_sentryScope",rI="_sentryIsolationScope";function O5(e,t,n){e&&(kr(e,rI,n),kr(e,nI,t))}function ym(e){return{scope:e[nI],isolationScope:e[rI]}}const rb="sentry-",M5=/^sentry-/,D5=8192;function sI(e){const t=F5(e);if(!t)return;const n=Object.entries(t).reduce((r,[s,o])=>{if(s.match(M5)){const i=s.slice(rb.length);r[i]=o}return r},{});if(Object.keys(n).length>0)return n}function L5(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,s])=>(s&&(n[`${rb}${r}`]=s),n),{});return $5(t)}function F5(e){if(!(!e||!bo(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=ek(n);return Object.entries(r).forEach(([s,o])=>{t[s]=o}),t},{}):ek(e)}function ek(e){return e.split(",").map(t=>t.split("=").map(n=>{try{return decodeURIComponent(n.trim())}catch{return}})).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function $5(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],s)=>{const o=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,i=s===0?o:`${t},${o}`;return i.length>D5?(_e&&J.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):i},"")}function Ba(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(!(typeof t!="number"||isNaN(t)||t<0||t>1))return t}const oI=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function U5(e){if(!e)return;const t=e.match(oI);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function B5(e,t){const n=U5(e),r=sI(t);if(!(n!=null&&n.traceId))return{traceId:Di(),sampleRand:Math.random()};const s=z5(n,r);r&&(r.sample_rand=s.toString());const{traceId:o,parentSpanId:i,parentSampled:a}=n;return{traceId:o,parentSpanId:i,sampled:a,dsc:r||{},sampleRand:s}}function iI(e=Di(),t=Of(),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function z5(e,t){const n=Ba(t==null?void 0:t.sample_rand);if(n!==void 0)return n;const r=Ba(t==null?void 0:t.sample_rate);return r&&(e==null?void 0:e.parentSampled)!==void 0?e.parentSampled?Math.random()*r:r+Math.random()*(1-r):Math.random()}const aI=0,sb=1;let tk=!1;function H5(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:s,parent_span_id:o,status:i,origin:a,links:l}=st(e);return{parent_span_id:o,span_id:t,trace_id:n,data:r,op:s,status:i,origin:a,links:l}}function V5(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext(),s=r?t:st(e).parent_span_id,o=ym(e).scope,i=r?(o==null?void 0:o.getPropagationContext().propagationSpanId)||Of():t;return{parent_span_id:s,span_id:i,trace_id:n}}function W5(e){const{traceId:t,spanId:n}=e.spanContext(),r=tl(e);return iI(t,n,r)}function lI(e){if(e&&e.length>0)return e.map(({context:{spanId:t,traceId:n,traceFlags:r,...s},attributes:o})=>({span_id:t,trace_id:n,sampled:r===sb,attributes:o,...s}))}function Aa(e){return typeof e=="number"?nk(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?nk(e.getTime()):Hn()}function nk(e){return e>9999999999?e/1e3:e}function st(e){var r;if(G5(e))return e.getSpanJSON();const{spanId:t,traceId:n}=e.spanContext();if(q5(e)){const{attributes:s,startTime:o,name:i,endTime:a,status:l,links:u}=e,d="parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?(r=e.parentSpanContext)==null?void 0:r.spanId:void 0;return{span_id:t,trace_id:n,data:s,description:i,parent_span_id:d,start_timestamp:Aa(o),timestamp:Aa(a)||void 0,status:cI(l),op:s[Ua],origin:s[hn],links:lI(u)}}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function q5(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function G5(e){return typeof e.getSpanJSON=="function"}function tl(e){const{traceFlags:t}=e.spanContext();return t===sb}function cI(e){if(!(!e||e.code===j5))return e.code===eI?"ok":e.message||"unknown_error"}const Ia="_sentryChildSpans",T_="_sentryRootSpan";function uI(e,t){const n=e[T_]||e;kr(t,T_,n),e[Ia]?e[Ia].add(t):kr(e,Ia,new Set([t]))}function K5(e,t){e[Ia]&&e[Ia].delete(t)}function vp(e){const t=new Set;function n(r){if(!t.has(r)&&tl(r)){t.add(r);const s=r[Ia]?Array.from(r[Ia]):[];for(const o of s)n(o)}}return n(e),Array.from(t)}function An(e){return e[T_]||e}function Yn(){const e=Ja(),t=tu(e);return t.getActiveSpan?t.getActiveSpan():mm(ct())}function N_(){tk||(el(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly.")}),tk=!0)}let rk=!1;function Y5(){rk||(rk=!0,zA(R_),HA(R_))}function R_(){const e=Yn(),t=e&&An(e);if(t){const n="internal_error";_e&&J.log(`[Tracing] Root span: ${n} -> Global error occurred`),t.setStatus({code:an,message:n})}}R_.tag="sentry_tracingErrorCallback";function Li(e){var n;if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=e||((n=ze())==null?void 0:n.getOptions());return!!t&&(t.tracesSampleRate!=null||!!t.tracesSampler)}const ob="production",Q5=/^o(\d+)\./,X5=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Z5(e){return e==="http"||e==="https"}function ru(e,t=!1){const{host:n,path:r,pass:s,port:o,projectId:i,protocol:a,publicKey:l}=e;return`${a}://${l}${t&&s?`:${s}`:""}@${n}${o?`:${o}`:""}/${r&&`${r}/`}${i}`}function J5(e){const t=X5.exec(e);if(!t){el(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,s="",o="",i="",a=""]=t.slice(1);let l="",u=a;const d=u.split("/");if(d.length>1&&(l=d.slice(0,-1).join("/"),u=d.pop()),u){const f=u.match(/^\d+/);f&&(u=f[0])}return dI({host:o,pass:s,path:l,projectId:u,port:i,protocol:n,publicKey:r})}function dI(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function ez(e){if(!_e)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(i=>e[i]?!1:(J.error(`Invalid Sentry Dsn: ${i} missing`),!0))?!1:n.match(/^\d+$/)?Z5(r)?t&&isNaN(parseInt(t,10))?(J.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(J.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(J.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function tz(e){const t=e.match(Q5);return t==null?void 0:t[1]}function fI(e){const t=typeof e=="string"?J5(e):dI(e);if(!(!t||!ez(t)))return t}const hI="_frozenDsc";function _p(e,t){kr(e,hI,t)}function pI(e,t){const n=t.getOptions(),{publicKey:r,host:s}=t.getDsn()||{};let o;n.orgId?o=String(n.orgId):s&&(o=tz(s));const i={environment:n.environment||ob,release:n.release,public_key:r,trace_id:e,org_id:o};return t.emit("createDsc",i),i}function mI(e,t){const n=t.getPropagationContext();return n.dsc||pI(n.traceId,e)}function Po(e){var y;const t=ze();if(!t)return{};const n=An(e),r=st(n),s=r.data,o=n.spanContext().traceState,i=(o==null?void 0:o.get("sentry.sample_rate"))??s[tb]??s[JA];function a(g){return(typeof i=="number"||typeof i=="string")&&(g.sample_rate=`${i}`),g}const l=n[hI];if(l)return a(l);const u=o==null?void 0:o.get("sentry.dsc"),d=u&&sI(u);if(d)return a(d);const f=pI(e.spanContext().traceId,t),h=s[$s],p=r.description;return h!=="url"&&p&&(f.transaction=p),Li()&&(f.sampled=String(tl(n)),f.sample_rand=(o==null?void 0:o.get("sentry.sample_rand"))??((y=ym(n).scope)==null?void 0:y.getPropagationContext().sampleRand.toString())),a(f),t.emit("createDsc",f,n),f}class za{constructor(t={}){this._traceId=t.traceId||Di(),this._spanId=t.spanId||Of()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:aI}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}}function nz(e){if(!_e)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=st(e),{spanId:s}=e.spanContext(),o=tl(e),i=An(e),a=i===e,l=`[Tracing] Starting ${o?"sampled":"unsampled"} ${a?"root ":""}span`,u=[`op: ${n}`,`name: ${t}`,`ID: ${s}`];if(r&&u.push(`parent ID: ${r}`),!a){const{op:d,description:f}=st(i);u.push(`root ID: ${i.spanContext().spanId}`),d&&u.push(`root op: ${d}`),f&&u.push(`root description: ${f}`)}J.log(`${l}
  ${u.join(`
  `)}`)}function rz(e){if(!_e)return;const{description:t="< unknown name >",op:n="< unknown op >"}=st(e),{spanId:r}=e.spanContext(),o=An(e)===e,i=`[Tracing] Finishing "${n}" ${o?"root ":""}span "${t}" with ID ${r}`;J.log(i)}function sz(e,t,n){if(!Li(e))return[!1];let r,s;typeof e.tracesSampler=="function"?(s=e.tracesSampler({...t,inheritOrSampleWith:a=>typeof t.parentSampleRate=="number"?t.parentSampleRate:typeof t.parentSampled=="boolean"?Number(t.parentSampled):a}),r=!0):t.parentSampled!==void 0?s=t.parentSampled:typeof e.tracesSampleRate<"u"&&(s=e.tracesSampleRate,r=!0);const o=Ba(s);if(o===void 0)return _e&&J.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(s)} of type ${JSON.stringify(typeof s)}.`),[!1];if(!o)return _e&&J.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,o,r];const i=n<o;return i||_e&&J.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(s)})`),[i,o,r]}function ds(e,t=100,n=1/0){try{return A_("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function gI(e,t=3,n=100*1024){const r=ds(e,t);return lz(r)>n?gI(e,t-1,n):r}function A_(e,t,n=1/0,r=1/0,s=cz()){const[o,i]=s;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const a=oz(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const l=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(l===0)return a.replace("object ","");if(o(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{const p=u.toJSON();return A_("",p,l-1,r,s)}catch{}const d=Array.isArray(t)?[]:{};let f=0;const h=QA(t);for(const p in h){if(!Object.prototype.hasOwnProperty.call(h,p))continue;if(f>=r){d[p]="[MaxProperties ~]";break}const y=h[p];d[p]=A_(p,y,l-1,r,s),f++}return i(t),d}function oz(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(qA(t))return"[VueViewModel]";if(u5(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${Ao(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=iz(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function iz(e){const t=Object.getPrototypeOf(e);return t!=null&&t.constructor?t.constructor.name:"null prototype"}function az(e){return~-encodeURI(e).split(/%..|./).length}function lz(e){return az(JSON.stringify(e))}function cz(){const e=new WeakSet;function t(r){return e.has(r)?!0:(e.add(r),!1)}function n(r){e.delete(r)}return[t,n]}function nl(e,t=[]){return[e,t]}function uz(e,t){const[n,r]=e;return[n,[...r,t]]}function sk(e,t){const n=e[1];for(const r of n){const s=r[0].type;if(t(r,s))return!0}return!1}function I_(e){const t=Ag(Ye);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}function dz(e){const[t,n]=e;let r=JSON.stringify(t);function s(o){typeof r=="string"?r=typeof o=="string"?r+o:[I_(r),o]:r.push(typeof o=="string"?I_(o):o)}for(const o of n){const[i,a]=o;if(s(`
${JSON.stringify(i)}
`),typeof a=="string"||a instanceof Uint8Array)s(a);else{let l;try{l=JSON.stringify(a)}catch{l=JSON.stringify(ds(a))}s(l)}}return typeof r=="string"?r:fz(r)}function fz(e){const t=e.reduce((s,o)=>s+o.length,0),n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function hz(e){return[{type:"span"},e]}function pz(e){const t=typeof e.data=="string"?I_(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}const mz={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item"};function ok(e){return mz[e]}function ib(e){if(!(e!=null&&e.sdk))return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function yI(e,t,n,r){var o;const s=(o=e.sdkProcessingMetadata)==null?void 0:o.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:ru(r)},...s&&{trace:s}}}function gz(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function yz(e,t,n,r){const s=ib(n),o={sent_at:new Date().toISOString(),...s&&{sdk:s},...!!r&&t&&{dsn:ru(t)}},i="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return nl(o,[i])}function vz(e,t,n,r){const s=ib(n),o=e.type&&e.type!=="replay_event"?e.type:"event";gz(e,n==null?void 0:n.sdk);const i=yI(e,s,r,t);return delete e.sdkProcessingMetadata,nl(i,[[{type:o},e]])}function _z(e,t){function n(d){return!!d.trace_id&&!!d.public_key}const r=Po(e[0]),s=t==null?void 0:t.getDsn(),o=t==null?void 0:t.getOptions().tunnel,i={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!o&&s&&{dsn:ru(s)}},a=t==null?void 0:t.getOptions().beforeSendSpan,l=a?d=>{const f=st(d),h=a(f);return h||(N_(),f)}:st,u=[];for(const d of e){const f=l(d);f&&u.push(hz(f))}return nl(i,u)}function xz(e,t,n,r=Yn()){const s=r&&An(r);s&&(_e&&J.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),s.addEvent(e,{[Dg]:t,[Mg]:n}))}function ik(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const r=n.attributes||{},s=r[Mg],o=r[Dg];typeof s=="string"&&typeof o=="number"&&(t[n.name]={value:o,unit:s})}),t}const ak=1e3;class ab{constructor(t={}){this._traceId=t.traceId||Di(),this._spanId=t.spanId||Of(),this._startTime=t.startTimestamp||Hn(),this._links=t.links,this._attributes={},this.setAttributes({[hn]:"manual",[Ua]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this._links?this._links.push(t):this._links=[t],this}addLinks(t){return this._links?this._links.push(...t):this._links=t,this}recordException(t,n){}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?sb:aI}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=Aa(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute($s,"custom"),this}end(t){this._endTime||(this._endTime=Aa(t),rz(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[Ua],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:cI(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[hn],profile_id:this._attributes[nb],exclusive_time:this._attributes[Mf],measurements:ik(this._events),is_segment:this._isStandaloneSpan&&An(this)===this||void 0,segment_id:this._isStandaloneSpan?An(this).spanContext().spanId:void 0,links:lI(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){_e&&J.log("[Tracing] Adding an event to span:",t);const s=lk(n)?n:r||Hn(),o=lk(n)?{}:n||{},i={name:t,time:Aa(s),attributes:o};return this._events.push(i),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=ze();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===An(this)))return;if(this._isStandaloneSpan){this._sampled?bz(_z([this],t)):(_e&&J.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&(ym(this).scope||ct()).captureEvent(r)}_convertSpanToTransaction(){var d;if(!ck(st(this)))return;this._name||(_e&&J.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=ym(this),r=(d=t==null?void 0:t.getScopeData().sdkProcessingMetadata)==null?void 0:d.normalizedRequest;if(this._sampled!==!0)return;const o=vp(this).filter(f=>f!==this&&!wz(f)).map(f=>st(f)).filter(ck),i=this._attributes[$s];delete this._attributes[J1],o.forEach(f=>{delete f.data[J1]});const a={contexts:{trace:H5(this)},spans:o.length>ak?o.sort((f,h)=>f.start_timestamp-h.start_timestamp).slice(0,ak):o,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,dynamicSamplingContext:Po(this)},request:r,...i&&{transaction_info:{source:i}}},l=ik(this._events);return l&&Object.keys(l).length&&(_e&&J.log("[Measurements] Adding measurements to transaction event",JSON.stringify(l,void 0,2)),a.measurements=l),a}}function lk(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function ck(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function wz(e){return e instanceof ab&&e.isStandaloneSpan()}function bz(e){const t=ze();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}const vI="__SENTRY_SUPPRESS_TRACING__";function Df(e){const t=xI();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=Ez(e),{forceTransaction:r,parentSpan:s}=e;return(e.scope?i=>nu(e.scope,i):s!==void 0?i=>_I(s,i):i=>i())(()=>{const i=ct(),a=Cz(i);return e.onlyIfParent&&!a?new za:Sz({parentSpan:a,spanArguments:n,forceTransaction:r,scope:i})})}function _I(e,t){const n=xI();return n.withActiveSpan?n.withActiveSpan(e,t):nu(r=>(qd(r,e||void 0),t(r)))}function Sz({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!Li()){const i=new za;if(n||!e){const a={sampled:"false",sample_rate:"0",transaction:t.name,...Po(i)};_p(i,a)}return i}const s=Zr();let o;if(e&&!n)o=kz(e,r,t),uI(e,o);else if(e){const i=Po(e),{traceId:a,spanId:l}=e.spanContext(),u=tl(e);o=uk({traceId:a,parentSpanId:l,...t},r,u),_p(o,i)}else{const{traceId:i,dsc:a,parentSpanId:l,sampled:u}={...s.getPropagationContext(),...r.getPropagationContext()};o=uk({traceId:i,parentSpanId:l,...t},r,u),a&&_p(o,a)}return nz(o),O5(o,r,s),o}function Ez(e){const n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const r={...n};return r.startTimestamp=Aa(e.startTime),delete r.startTime,r}return n}function xI(){const e=Ja();return tu(e)}function uk(e,t,n){var y;const r=ze(),s=(r==null?void 0:r.getOptions())||{},{name:o=""}=e,i={spanAttributes:{...e.attributes},spanName:o,parentSampled:n};r==null||r.emit("beforeSampling",i,{decision:!1});const a=i.parentSampled??n,l=i.spanAttributes,u=t.getPropagationContext(),[d,f,h]=t.getScopeData().sdkProcessingMetadata[vI]?[!1]:sz(s,{name:o,parentSampled:a,attributes:l,parentSampleRate:Ba((y=u.dsc)==null?void 0:y.sample_rate)},u.sampleRand),p=new ab({...e,attributes:{[$s]:"custom",[tb]:f!==void 0&&h?f:void 0,...l},sampled:d});return!d&&r&&(_e&&J.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),r.recordDroppedEvent("sample_rate","transaction")),r&&r.emit("spanStart",p),p}function kz(e,t,n){const{spanId:r,traceId:s}=e.spanContext(),o=t.getScopeData().sdkProcessingMetadata[vI]?!1:tl(e),i=o?new ab({...n,parentSpanId:r,traceId:s,sampled:o}):new za({traceId:s});uI(e,i);const a=ze();return a&&(a.emit("spanStart",i),n.endTimestamp&&a.emit("spanEnd",i)),i}function Cz(e){const t=mm(e);if(!t)return;const n=ze();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?An(t):t}const xp={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},Tz="heartbeatFailed",Nz="idleTimeout",Rz="finalTimeout",Az="externalFinish";function wI(e,t={}){const n=new Map;let r=!1,s,o=Az,i=!t.disableAutoFinish;const a=[],{idleTimeout:l=xp.idleTimeout,finalTimeout:u=xp.finalTimeout,childSpanTimeout:d=xp.childSpanTimeout,beforeSpanEnd:f}=t,h=ze();if(!h||!Li()){const E=new za,k={sample_rate:"0",sampled:"false",...Po(E)};return _p(E,k),E}const p=ct(),y=Yn(),g=Iz(e);g.end=new Proxy(g.end,{apply(E,k,C){if(f&&f(g),k instanceof za)return;const[T,...j]=C,D=T||Hn(),P=Aa(D),U=vp(g).filter(A=>A!==g);if(!U.length)return S(P),Reflect.apply(E,k,[P,...j]);const B=U.map(A=>st(A).timestamp).filter(A=>!!A),L=B.length?Math.max(...B):void 0,$=st(g).start_timestamp,q=Math.min($?$+u/1e3:1/0,Math.max($||-1/0,Math.min(P,L||1/0)));return S(q),Reflect.apply(E,k,[q,...j])}});function w(){s&&(clearTimeout(s),s=void 0)}function _(E){w(),s=setTimeout(()=>{!r&&n.size===0&&i&&(o=Nz,g.end(E))},l)}function v(E){s=setTimeout(()=>{!r&&i&&(o=Tz,g.end(E))},d)}function x(E){w(),n.set(E,!0);const k=Hn();v(k+d/1e3)}function b(E){if(n.has(E)&&n.delete(E),n.size===0){const k=Hn();_(k+l/1e3)}}function S(E){r=!0,n.clear(),a.forEach(P=>P()),qd(p,y);const k=st(g),{start_timestamp:C}=k;if(!C)return;k.data[gm]||g.setAttribute(gm,o),J.log(`[Tracing] Idle span "${k.op}" finished`);const j=vp(g).filter(P=>P!==g);let D=0;j.forEach(P=>{P.isRecording()&&(P.setStatus({code:an,message:"cancelled"}),P.end(E),_e&&J.log("[Tracing] Cancelling span since span ended early",JSON.stringify(P,void 0,2)));const U=st(P),{timestamp:B=0,start_timestamp:L=0}=U,$=L<=E,q=(u+l)/1e3,A=B-L<=q;if(_e){const F=JSON.stringify(P,void 0,2);$?A||J.log("[Tracing] Discarding span since it finished after idle span final timeout",F):J.log("[Tracing] Discarding span since it happened after idle span was finished",F)}(!A||!$)&&(K5(g,P),D++)}),D>0&&g.setAttribute("sentry.idle_span_discarded_spans",D)}return a.push(h.on("spanStart",E=>{if(r||E===g||st(E).timestamp)return;vp(g).includes(E)&&x(E.spanContext().spanId)})),a.push(h.on("spanEnd",E=>{r||b(E.spanContext().spanId)})),a.push(h.on("idleSpanEnableAutoFinish",E=>{E===g&&(i=!0,_(),n.size&&v())})),t.disableAutoFinish||_(),setTimeout(()=>{r||(g.setStatus({code:an,message:"deadline_exceeded"}),o=Rz,g.end())},u),g}function Iz(e){const t=Df(e);return qd(ct(),t),_e&&J.log("[Tracing] Started span is an idle span"),t}var mo;(function(e){e[e.PENDING=0]="PENDING";const n=1;e[e.RESOLVED=n]="RESOLVED";const r=2;e[e.REJECTED=r]="REJECTED"})(mo||(mo={}));function Oo(e){return new Fi(t=>{t(e)})}function vm(e){return new Fi((t,n)=>{n(e)})}class Fi{constructor(t){this._state=mo.PENDING,this._handlers=[],this._runExecutor(t)}then(t,n){return new Fi((r,s)=>{this._handlers.push([!1,o=>{if(!t)r(o);else try{r(t(o))}catch(i){s(i)}},o=>{if(!n)s(o);else try{r(n(o))}catch(i){s(i)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new Fi((n,r)=>{let s,o;return this.then(i=>{o=!1,s=i,t&&t()},i=>{o=!0,s=i,t&&t()}).then(()=>{if(o){r(s);return}n(s)})})}_executeHandlers(){if(this._state===mo.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===mo.RESOLVED&&n[1](this._value),this._state===mo.REJECTED&&n[2](this._value),n[0]=!0)})}_runExecutor(t){const n=(o,i)=>{if(this._state===mo.PENDING){if(Og(i)){i.then(r,s);return}this._state=o,this._value=i,this._executeHandlers()}},r=o=>{n(mo.RESOLVED,o)},s=o=>{n(mo.REJECTED,o)};try{t(r,s)}catch(o){s(o)}}}function j_(e,t,n,r=0){return new Fi((s,o)=>{const i=e[r];if(t===null||typeof i!="function")s(t);else{const a=i({...t},n);_e&&i.id&&a===null&&J.log(`Event processor "${i.id}" dropped event`),Og(a)?a.then(l=>j_(e,l,n,r+1).then(s)).then(null,o):j_(e,a,n,r+1).then(s).then(null,o)}})}function jz(e,t){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:o}=t;Pz(e,t),r&&Dz(e,r),Lz(e,n),Oz(e,s),Mz(e,o)}function dk(e,t){const{extra:n,tags:r,user:s,contexts:o,level:i,sdkProcessingMetadata:a,breadcrumbs:l,fingerprint:u,eventProcessors:d,attachments:f,propagationContext:h,transactionName:p,span:y}=t;Ph(e,"extra",n),Ph(e,"tags",r),Ph(e,"user",s),Ph(e,"contexts",o),e.sdkProcessingMetadata=Pf(e.sdkProcessingMetadata,a,2),i&&(e.level=i),p&&(e.transactionName=p),y&&(e.span=y),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),f.length&&(e.attachments=[...e.attachments,...f]),e.propagationContext={...e.propagationContext,...h}}function Ph(e,t,n){e[t]=Pf(e[t],n,1)}function Pz(e,t){const{extra:n,tags:r,user:s,contexts:o,level:i,transactionName:a}=t;Object.keys(n).length&&(e.extra={...n,...e.extra}),Object.keys(r).length&&(e.tags={...r,...e.tags}),Object.keys(s).length&&(e.user={...s,...e.user}),Object.keys(o).length&&(e.contexts={...o,...e.contexts}),i&&(e.level=i),a&&e.type!=="transaction"&&(e.transaction=a)}function Oz(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function Mz(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function Dz(e,t){e.contexts={trace:V5(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:Po(t),...e.sdkProcessingMetadata};const n=An(t),r=st(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function Lz(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}let Oh,fk,Mh;function Fz(e){const t=Ye._sentryDebugIds;if(!t)return{};const n=Object.keys(t);return Mh&&n.length===fk||(fk=n.length,Mh=n.reduce((r,s)=>{Oh||(Oh={});const o=Oh[s];if(o)r[o[0]]=o[1];else{const i=e(s);for(let a=i.length-1;a>=0;a--){const l=i[a],u=l==null?void 0:l.filename,d=t[s];if(u&&d){r[u]=d,Oh[s]=[u,d];break}}}return r},{})),Mh}function bI(e,t,n,r,s,o){const{normalizeDepth:i=3,normalizeMaxBreadth:a=1e3}=e,l={...t,event_id:t.event_id||n.event_id||wr(),timestamp:t.timestamp||jf()},u=n.integrations||e.integrations.map(w=>w.name);$z(l,e),zz(l,u),s&&s.emit("applyFrameMetadata",t),t.type===void 0&&Uz(l,e.stackParser);const d=Vz(r,n.captureContext);n.mechanism&&Tc(l,n.mechanism);const f=s?s.getEventProcessors():[],h=R5().getScopeData();if(o){const w=o.getScopeData();dk(h,w)}if(d){const w=d.getScopeData();dk(h,w)}const p=[...n.attachments||[],...h.attachments];p.length&&(n.attachments=p),jz(l,h);const y=[...f,...h.eventProcessors];return j_(y,l,n).then(w=>(w&&Bz(w),typeof i=="number"&&i>0?Hz(w,i,a):w))}function $z(e,t){const{environment:n,release:r,dist:s,maxValueLength:o=250}=t;e.environment=e.environment||n||ob,!e.release&&r&&(e.release=r),!e.dist&&s&&(e.dist=s);const i=e.request;i!=null&&i.url&&(i.url=pm(i.url,o))}function Uz(e,t){var r,s;const n=Fz(t);(s=(r=e.exception)==null?void 0:r.values)==null||s.forEach(o=>{var i,a;(a=(i=o.stacktrace)==null?void 0:i.frames)==null||a.forEach(l=>{l.filename&&(l.debug_id=n[l.filename])})})}function Bz(e){var r,s;const t={};if((s=(r=e.exception)==null?void 0:r.values)==null||s.forEach(o=>{var i,a;(a=(i=o.stacktrace)==null?void 0:i.frames)==null||a.forEach(l=>{l.debug_id&&(l.abs_path?t[l.abs_path]=l.debug_id:l.filename&&(t[l.filename]=l.debug_id),delete l.debug_id)})}),Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([o,i])=>{n.push({type:"sourcemap",code_file:o,debug_id:i})})}function zz(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function Hz(e,t,n){var s,o;if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(i=>({...i,...i.data&&{data:ds(i.data,t,n)}}))},...e.user&&{user:ds(e.user,t,n)},...e.contexts&&{contexts:ds(e.contexts,t,n)},...e.extra&&{extra:ds(e.extra,t,n)}};return(s=e.contexts)!=null&&s.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=ds(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(i=>({...i,...i.data&&{data:ds(i.data,t,n)}}))),(o=e.contexts)!=null&&o.flags&&r.contexts&&(r.contexts.flags=ds(e.contexts.flags,3,n)),r}function Vz(e,t){if(!t)return e;const n=e?e.clone():new qs;return n.update(t),n}function Wz(e){if(e)return qz(e)?{captureContext:e}:Kz(e)?{captureContext:e}:e}function qz(e){return e instanceof qs||typeof e=="function"}const Gz=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function Kz(e){return Object.keys(e).some(t=>Gz.includes(t))}function ma(e,t){return ct().captureException(e,Wz(t))}function SI(e,t){return ct().captureEvent(e,t)}function EI(e,t){Zr().setContext(e,t)}function Yz(e){Zr().setUser(e)}function Qz(){return Zr().lastEventId()}function Xz(){const e=ze();return(e==null?void 0:e.getOptions().enabled)!==!1&&!!(e!=null&&e.getTransport())}function Zz(e){Zr().addEventProcessor(e)}function hk(e){const t=Zr(),n=ct(),{userAgent:r}=Ye.navigator||{},s=_5({user:n.getUser()||t.getUser(),...r&&{userAgent:r},...e}),o=t.getSession();return(o==null?void 0:o.status)==="ok"&&Nc(o,{status:"exited"}),kI(),t.setSession(s),s}function kI(){const e=Zr(),n=ct().getSession()||e.getSession();n&&x5(n),CI(),e.setSession()}function CI(){const e=Zr(),t=ze(),n=e.getSession();n&&t&&t.captureSession(n)}function pk(e=!1){if(e){kI();return}CI()}const Jz="7";function TI(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function e6(e){return`${TI(e)}${e.projectId}/envelope/`}function t6(e,t){const n={sentry_version:Jz};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function n6(e,t,n){return t||`${e6(e)}?${t6(e,n)}`}function r6(e,t){const n=fI(e);if(!n)return"";const r=`${TI(n)}embed/error-page/`;let s=`dsn=${ru(n)}`;for(const o in t)if(o!=="dsn"&&o!=="onClose")if(o==="user"){const i=t.user;if(!i)continue;i.name&&(s+=`&name=${encodeURIComponent(i.name)}`),i.email&&(s+=`&email=${encodeURIComponent(i.email)}`)}else s+=`&${encodeURIComponent(o)}=${encodeURIComponent(t[o])}`;return`${r}?${s}`}const mk=[];function s6(e){const t={};return e.forEach(n=>{const{name:r}=n,s=t[r];s&&!s.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function o6(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(s=>{s.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){const s=n(t);r=Array.isArray(s)?s:[s]}else r=t;return s6(r)}function i6(e,t){const n={};return t.forEach(r=>{r&&NI(e,r,n)}),n}function gk(e,t){for(const n of t)n!=null&&n.afterAllSetup&&n.afterAllSetup(e)}function NI(e,t,n){if(n[t.name]){_e&&J.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,mk.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),mk.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(s,o)=>r(s,o,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),s=Object.assign((o,i)=>r(o,i,e),{id:t.name});e.addEventProcessor(s)}_e&&J.log(`Integration installed: ${t.name}`)}function a6(e,t,n){const r=[{type:"client_report"},{timestamp:jf(),discarded_events:e}];return nl(t?{dsn:t}:{},[r])}function RI(e){const t=[];e.message&&t.push(e.message);try{const n=e.exception.values[e.exception.values.length-1];n!=null&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch{}return t}function l6(e){var l;const{trace_id:t,parent_span_id:n,span_id:r,status:s,origin:o,data:i,op:a}=((l=e.contexts)==null?void 0:l.trace)??{};return{data:i??{},description:e.transaction,op:a,parent_span_id:n,span_id:r??"",start_timestamp:e.start_timestamp??0,status:s,timestamp:e.timestamp,trace_id:t??"",origin:o,profile_id:i==null?void 0:i[nb],exclusive_time:i==null?void 0:i[Mf],measurements:e.measurements,is_segment:!0}}function c6(e){return{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[nb]:e.profile_id},...e.exclusive_time&&{[Mf]:e.exclusive_time}}}},measurements:e.measurements}}const yk="Not capturing exception because it's already been captured.",vk="Discarded session because of missing or non-string release",AI=Symbol.for("SentryInternalError"),II=Symbol.for("SentryDoNotSendEventError");function wp(e){return{message:e,[AI]:!0}}function _v(e){return{message:e,[II]:!0}}function _k(e){return!!e&&typeof e=="object"&&AI in e}function xk(e){return!!e&&typeof e=="object"&&II in e}class u6{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=fI(t.dsn):_e&&J.warn("No DSN provided, client will not send events."),this._dsn){const n=n6(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,r){const s=wr();if(X1(t))return _e&&J.log(yk),s;const o={event_id:s,...n};return this._process(this.eventFromException(t,o).then(i=>this._captureEvent(i,o,r))),o.event_id}captureMessage(t,n,r,s){const o={event_id:wr(),...r},i=Zw(t)?t:String(t),a=Vd(t)?this.eventFromMessage(i,n,o):this.eventFromException(t,o);return this._process(a.then(l=>this._captureEvent(l,o,s))),o.event_id}captureEvent(t,n,r){const s=wr();if(n!=null&&n.originalException&&X1(n.originalException))return _e&&J.log(yk),s;const o={event_id:s,...n},i=t.sdkProcessingMetadata||{},a=i.capturedSpanScope,l=i.capturedSpanIsolationScope;return this._process(this._captureEvent(t,o,a||r,l)),o.event_id}captureSession(t){this.sendSession(t),Nc(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(s=>r&&s))):Oo(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];NI(this,t,this._integrations),n||gk(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=vz(t,this._dsn,this._options._metadata,this._options.tunnel);for(const o of n.attachments||[])r=uz(r,pz(o));const s=this.sendEnvelope(r);s&&s.then(o=>this.emit("afterSendEvent",t,o),null)}sendSession(t){const{release:n,environment:r=ob}=this._options;if("aggregates"in t){const o=t.attrs||{};if(!o.release&&!n){_e&&J.warn(vk);return}o.release=o.release||n,o.environment=o.environment||r,t.attrs=o}else{if(!t.release&&!n){_e&&J.warn(vk);return}t.release=t.release||n,t.environment=t.environment||r}this.emit("beforeSendSession",t);const s=yz(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(s)}recordDroppedEvent(t,n,r=1){if(this._options.sendClientReports){const s=`${t}:${n}`;_e&&J.log(`Recording outcome: "${s}"${r>1?` (${r} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+r}}on(t,n){const r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{const s=r.indexOf(n);s>-1&&r.splice(s,1)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(s=>s(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(_e&&J.error("Error while sending envelope:",n),n)):(_e&&J.error("Transport disabled"),Oo({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=i6(this,t),gk(this,t)}_updateSessionFromEvent(t,n){var l;let r=n.level==="fatal",s=!1;const o=(l=n.exception)==null?void 0:l.values;if(o){s=!0;for(const u of o){const d=u.mechanism;if((d==null?void 0:d.handled)===!1){r=!0;break}}}const i=t.status==="ok";(i&&t.errors===0||i&&r)&&(Nc(t,{...r&&{status:"crashed"},errors:t.errors||Number(s||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Fi(n=>{let r=0;const s=1,o=setInterval(()=>{this._numProcessing==0?(clearInterval(o),n(!0)):(r+=s,t&&r>=t&&(clearInterval(o),n(!1)))},s)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,s){const o=this.getOptions(),i=Object.keys(this._integrations);return!n.integrations&&(i!=null&&i.length)&&(n.integrations=i),this.emit("preprocessEvent",t,n),t.type||s.setLastEventId(t.event_id||n.event_id),bI(o,t,n,r,this,s).then(a=>{if(a===null)return a;this.emit("postprocessEvent",a,n),a.contexts={trace:A5(r),...a.contexts};const l=mI(this,r);return a.sdkProcessingMetadata={dynamicSamplingContext:l,...a.sdkProcessingMetadata},a})}_captureEvent(t,n={},r=ct(),s=Zr()){return _e&&P_(t)&&J.log(`Captured error event \`${RI(t)[0]||"<unknown>"}\``),this._processEvent(t,n,r,s).then(o=>o.event_id,o=>{_e&&(xk(o)?J.log(o.message):_k(o)?J.warn(o.message):J.warn(o))})}_processEvent(t,n,r,s){const o=this.getOptions(),{sampleRate:i}=o,a=jI(t),l=P_(t),u=t.type||"error",d=`before send for type \`${u}\``,f=typeof i>"u"?void 0:Ba(i);if(l&&typeof f=="number"&&Math.random()>f)return this.recordDroppedEvent("sample_rate","error"),vm(_v(`Discarding event because it's not included in the random sample (sampling rate = ${i})`));const h=u==="replay_event"?"replay":u;return this._prepareEvent(t,n,r,s).then(p=>{if(p===null)throw this.recordDroppedEvent("event_processor",h),_v("An event processor returned `null`, will not send event.");if(n.data&&n.data.__sentry__===!0)return p;const g=f6(this,o,p,n);return d6(g,d)}).then(p=>{var w;if(p===null){if(this.recordDroppedEvent("before_send",h),a){const v=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",v)}throw _v(`${d} returned \`null\`, will not send event.`)}const y=r.getSession()||s.getSession();if(l&&y&&this._updateSessionFromEvent(y,p),a){const _=((w=p.sdkProcessingMetadata)==null?void 0:w.spanCountBeforeProcessing)||0,v=p.spans?p.spans.length:0,x=_-v;x>0&&this.recordDroppedEvent("before_send","span",x)}const g=p.transaction_info;if(a&&g&&p.transaction!==t.transaction){const _="custom";p.transaction_info={...g,source:_}}return this.sendEvent(p,n),p}).then(null,p=>{throw xk(p)||_k(p)?p:(this.captureException(p,{data:{__sentry__:!0},originalException:p}),wp(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${p}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[s,o]=n.split(":");return{reason:s,category:o,quantity:r}})}_flushOutcomes(){_e&&J.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){_e&&J.log("No outcomes to send");return}if(!this._dsn){_e&&J.log("No dsn provided, will not send outcomes");return}_e&&J.log("Sending outcomes:",t);const n=a6(t,this._options.tunnel&&ru(this._dsn));this.sendEnvelope(n)}}function d6(e,t){const n=`${t} must return \`null\` or a valid event.`;if(Og(e))return e.then(r=>{if(!Wd(r)&&r!==null)throw wp(n);return r},r=>{throw wp(`${t} rejected with ${r}`)});if(!Wd(e)&&e!==null)throw wp(n);return e}function f6(e,t,n,r){const{beforeSend:s,beforeSendTransaction:o,beforeSendSpan:i}=t;let a=n;if(P_(a)&&s)return s(a,r);if(jI(a)){if(i){const l=i(l6(a));if(l?a=Pf(n,c6(l)):N_(),a.spans){const u=[];for(const d of a.spans){const f=i(d);f?u.push(f):(N_(),u.push(d))}a.spans=u}}if(o){if(a.spans){const l=a.spans.length;a.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:l}}return o(a,r)}}return a}function P_(e){return e.type===void 0}function jI(e){return e.type==="transaction"}function h6(e){return[{type:"log",item_count:e.length,content_type:"application/vnd.sentry.items.log+json"},{items:e}]}function p6(e,t,n,r){const s={};return t!=null&&t.sdk&&(s.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(s.dsn=ru(r)),nl(s,[h6(e)])}Ye._sentryClientToLogBufferMap=new WeakMap;function xv(e,t){var o;const n=m6(e)??[];if(n.length===0)return;const r=e.getOptions(),s=p6(n,r._metadata,r.tunnel,e.getDsn());(o=Ye._sentryClientToLogBufferMap)==null||o.set(e,[]),e.emit("flushLogs"),e.sendEnvelope(s)}function m6(e){var t;return(t=Ye._sentryClientToLogBufferMap)==null?void 0:t.get(e)}function g6(e,t){t.debug===!0&&(_e?J.enable():el(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),ct().update(t.initialScope);const r=new e(t);return y6(r),r.init(),r}function y6(e){ct().setClient(e)}const PI=Symbol.for("SentryBufferFullError");function v6(e){const t=[];function n(){return e===void 0||t.length<e}function r(i){return t.splice(t.indexOf(i),1)[0]||Promise.resolve(void 0)}function s(i){if(!n())return vm(PI);const a=i();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function o(i){return new Fi((a,l)=>{let u=t.length;if(!u)return a(!0);const d=setTimeout(()=>{i&&i>0&&a(!1)},i);t.forEach(f=>{Oo(f).then(()=>{--u||(clearTimeout(d),a(!0))},l)})})}return{$:t,add:s,drain:o}}const _6=60*1e3;function x6(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?_6:r-t}function w6(e,t){return e[t]||e.all||0}function OI(e,t,n=Date.now()){return w6(e,t)>n}function MI(e,{statusCode:t,headers:n},r=Date.now()){const s={...e},o=n==null?void 0:n["x-sentry-rate-limits"],i=n==null?void 0:n["retry-after"];if(o)for(const a of o.trim().split(",")){const[l,u,,,d]=a.split(":",5),f=parseInt(l,10),h=(isNaN(f)?60:f)*1e3;if(!u)s.all=r+h;else for(const p of u.split(";"))p==="metric_bucket"?(!d||d.split(";").includes("custom"))&&(s[p]=r+h):s[p]=r+h}else i?s.all=r+x6(i,r):t===429&&(s.all=r+60*1e3);return s}const b6=64;function S6(e,t,n=v6(e.bufferSize||b6)){let r={};const s=i=>n.drain(i);function o(i){const a=[];if(sk(i,(f,h)=>{const p=ok(h);OI(r,p)?e.recordDroppedEvent("ratelimit_backoff",p):a.push(f)}),a.length===0)return Oo({});const l=nl(i[0],a),u=f=>{sk(l,(h,p)=>{e.recordDroppedEvent(f,ok(p))})},d=()=>t({body:dz(l)}).then(f=>(f.statusCode!==void 0&&(f.statusCode<200||f.statusCode>=300)&&_e&&J.warn(`Sentry responded with status code ${f.statusCode} to sent event.`),r=MI(r,f),f),f=>{throw u("network_error"),_e&&J.error("Encountered error running transport request:",f),f});return n.add(d).then(f=>f,f=>{if(f===PI)return _e&&J.error("Skipped sending event because buffer is full."),u("queue_overflow"),Oo({});throw f})}return{send:o,flush:s}}function E6(e,t){const n=t==null?void 0:t.getDsn(),r=t==null?void 0:t.getOptions().tunnel;return C6(e,n)||k6(e,r)}function k6(e,t){return t?wk(e)===wk(t):!1}function C6(e,t){return t?e.includes(t.host):!1}function wk(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function T6(e){var t;((t=e.user)==null?void 0:t.ip_address)===void 0&&(e.user={...e.user,ip_address:"{{auto}}"})}function N6(e){var t;"aggregates"in e?((t=e.attrs)==null?void 0:t.ip_address)===void 0&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):e.ipAddress===void 0&&(e.ipAddress="{{auto}}")}function DI(e,t,n=[t],r="npm"){const s=e._metadata||{};s.sdk||(s.sdk={name:`sentry.javascript.${t}`,packages:n.map(o=>({name:`${r}:@sentry/${o}`,version:Ra})),version:Ra}),e._metadata=s}function LI(e={}){const t=e.client||ze();if(!Xz()||!t)return{};const n=Ja(),r=tu(n);if(r.getTraceData)return r.getTraceData(e);const s=e.scope||ct(),o=e.span||Yn(),i=o?W5(o):R6(s),a=o?Po(o):mI(t,s),l=L5(a);return oI.test(i)?{"sentry-trace":i,baggage:l}:(J.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}function R6(e){const{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return iI(t,r,n)}function A6(e,t,n){let r,s,o;const i=n!=null&&n.maxWait?Math.max(n.maxWait,t):0,a=(n==null?void 0:n.setTimeoutImpl)||setTimeout;function l(){return u(),r=e(),r}function u(){s!==void 0&&clearTimeout(s),o!==void 0&&clearTimeout(o),s=o=void 0}function d(){return s!==void 0||o!==void 0?l():r}function f(){return s&&clearTimeout(s),s=a(l,t),i&&o===void 0&&(o=a(l,i)),r}return f.cancel=u,f.flush=d,f}const I6=100;function Mo(e,t){const n=ze(),r=Zr();if(!n)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:o=I6}=n.getOptions();if(o<=0)return;const a={timestamp:jf(),...e},l=s?el(()=>s(a,t)):a;l!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",l,t),r.addBreadcrumb(l,o))}let bk;const j6="FunctionToString",Sk=new WeakMap,P6=()=>({name:j6,setupOnce(){bk=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=eb(this),n=Sk.has(ze())&&t!==void 0?t:this;return bk.apply(n,e)}}catch{}},setup(e){Sk.set(e,!0)}}),O6=P6,M6=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],D6="EventFilters",L6=(e={})=>{let t;return{name:D6,setup(n){const r=n.getOptions();t=Ek(e,r)},processEvent(n,r,s){if(!t){const o=s.getOptions();t=Ek(e,o)}return $6(n,t)?null:n}}},F6=(e={})=>({...L6(e),name:"InboundFilters"});function Ek(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:M6],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function $6(e,t){if(e.type){if(e.type==="transaction"&&B6(e,t.ignoreTransactions))return _e&&J.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${ua(e)}`),!0}else{if(U6(e,t.ignoreErrors))return _e&&J.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${ua(e)}`),!0;if(W6(e))return _e&&J.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${ua(e)}`),!0;if(z6(e,t.denyUrls))return _e&&J.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${ua(e)}.
Url: ${_m(e)}`),!0;if(!H6(e,t.allowUrls))return _e&&J.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${ua(e)}.
Url: ${_m(e)}`),!0}return!1}function U6(e,t){return t!=null&&t.length?RI(e).some(n=>So(n,t)):!1}function B6(e,t){if(!(t!=null&&t.length))return!1;const n=e.transaction;return n?So(n,t):!1}function z6(e,t){if(!(t!=null&&t.length))return!1;const n=_m(e);return n?So(n,t):!1}function H6(e,t){if(!(t!=null&&t.length))return!0;const n=_m(e);return n?So(n,t):!0}function V6(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function _m(e){var t,n;try{const r=[...((t=e.exception)==null?void 0:t.values)??[]].reverse().find(o=>{var i,a,l;return((i=o.mechanism)==null?void 0:i.parent_id)===void 0&&((l=(a=o.stacktrace)==null?void 0:a.frames)==null?void 0:l.length)}),s=(n=r==null?void 0:r.stacktrace)==null?void 0:n.frames;return s?V6(s):null}catch{return _e&&J.error(`Cannot extract url for event ${ua(e)}`),null}}function W6(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)!=null&&n.length?!e.message&&!e.exception.values.some(r=>r.stacktrace||r.type&&r.type!=="Error"||r.value):!1}function q6(e,t,n,r,s,o){var a;if(!((a=s.exception)!=null&&a.values)||!o||!Io(o.originalException,Error))return;const i=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;i&&(s.exception.values=O_(e,t,r,o.originalException,n,s.exception.values,i,0))}function O_(e,t,n,r,s,o,i,a){if(o.length>=n+1)return o;let l=[...o];if(Io(r[s],Error)){kk(i,a);const u=e(t,r[s]),d=l.length;Ck(u,s,d,a),l=O_(e,t,n,r[s],s,[u,...l],u,d)}return Array.isArray(r.errors)&&r.errors.forEach((u,d)=>{if(Io(u,Error)){kk(i,a);const f=e(t,u),h=l.length;Ck(f,`errors[${d}]`,h,a),l=O_(e,t,n,u,s,[f,...l],f,h)}}),l}function kk(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function Ck(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function G6(e){const t="console";ea(t,e),ta(t,K6)}function K6(){"console"in Ye&&E_.forEach(function(e){e in Ye.console&&or(Ye.console,e,function(t){return hm[e]=t,function(...n){Wr("console",{args:n,level:e});const s=hm[e];s==null||s.apply(Ye.console,n)}})})}function FI(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const Y6="Dedupe",Q6=()=>{let e;return{name:Y6,processEvent(t){if(t.type)return t;try{if(Z6(t,e))return _e&&J.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},X6=Q6;function Z6(e,t){return t?!!(J6(e,t)||e8(e,t)):!1}function J6(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!UI(e,t)||!$I(e,t))}function e8(e,t){const n=Tk(t),r=Tk(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!UI(e,t)||!$I(e,t))}function $I(e,t){let n=W1(e),r=W1(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let s=0;s<r.length;s++){const o=r[s],i=n[s];if(o.filename!==i.filename||o.lineno!==i.lineno||o.colno!==i.colno||o.function!==i.function)return!1}return!0}function UI(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function Tk(e){var t;return((t=e.exception)==null?void 0:t.values)&&e.exception.values[0]}const t8="thismessage:/";function BI(e){return"isRelative"in e}function zI(e,t){const n=e.indexOf("://")<=0&&e.indexOf("//")!==0,r=n?t8:void 0;try{if("canParse"in URL&&!URL.canParse(e,r))return;const s=new URL(e,r);return n?{isRelative:n,pathname:s.pathname,search:s.search,hash:s.hash}:s}catch{}}function n8(e){if(BI(e))return e.pathname;const t=new URL(e);return t.search="",t.hash="",["80","443"].includes(t.port)&&(t.port=""),t.password&&(t.password="%filtered%"),t.username&&(t.username="%filtered%"),t.toString()}function ja(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function r8(e){return e.split(/[?#]/,1)[0]}function s8(e,t,n,r,s="auto.http.browser"){if(!e.fetchData)return;const{method:o,url:i}=e.fetchData,a=Li()&&t(i);if(e.endTimestamp&&a){const f=e.fetchData.__span;if(!f)return;const h=r[f];h&&(i8(h,e),delete r[f]);return}const l=!!Yn(),u=a&&l?Df(l8(i,o,s)):new za;if(e.fetchData.__span=u.spanContext().spanId,r[u.spanContext().spanId]=u,n(e.fetchData.url)){const f=e.args[0],h=e.args[1]||{},p=o8(f,h,Li()&&l?u:void 0);p&&(e.args[1]=h,h.headers=p)}const d=ze();if(d){const f={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};d.emit("beforeOutgoingRequestSpan",u,f)}return u}function o8(e,t,n){const r=LI({span:n}),s=r["sentry-trace"],o=r.baggage;if(!s)return;const i=t.headers||(GA(e)?e.headers:void 0);if(i)if(a8(i)){const a=new Headers(i);if(a.get("sentry-trace")||a.set("sentry-trace",s),o){const l=a.get("baggage");l?Dh(l)||a.set("baggage",`${l},${o}`):a.set("baggage",o)}return a}else if(Array.isArray(i)){const a=[...i];i.find(u=>u[0]==="sentry-trace")||a.push(["sentry-trace",s]);const l=i.find(u=>u[0]==="baggage"&&Dh(u[1]));return o&&!l&&a.push(["baggage",o]),a}else{const a="sentry-trace"in i?i["sentry-trace"]:void 0,l="baggage"in i?i.baggage:void 0,u=l?Array.isArray(l)?[...l]:[l]:[],d=l&&(Array.isArray(l)?l.find(f=>Dh(f)):Dh(l));return o&&!d&&u.push(o),{...i,"sentry-trace":a??s,baggage:u.length>0?u.join(","):void 0}}else return{...r}}function i8(e,t){var n;if(t.response){tI(e,t.response.status);const r=((n=t.response)==null?void 0:n.headers)&&t.response.headers.get("content-length");if(r){const s=parseInt(r);s>0&&e.setAttribute("http.response_content_length",s)}}else t.error&&e.setStatus({code:an,message:"internal_error"});e.end()}function Dh(e){return e.split(",").some(t=>t.trim().startsWith(rb))}function a8(e){return typeof Headers<"u"&&Io(e,Headers)}function l8(e,t,n){const r=zI(e);return{name:r?`${t} ${n8(r)}`:t,attributes:c8(e,r,t,n)}}function c8(e,t,n,r){const s={url:e,type:"fetch","http.method":n,[hn]:r,[Ua]:"http.client"};return t&&(BI(t)||(s["http.url"]=t.href,s["server.address"]=t.host),t.search&&(s["http.query"]=t.search),t.hash&&(s["http.fragment"]=t.hash)),s}function HI(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}const Gd=Ye;function u8(){return"history"in Gd&&!!Gd.history}function d8(){if(!("fetch"in Gd))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function M_(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function f8(){var n;if(typeof EdgeRuntime=="string")return!0;if(!d8())return!1;if(M_(Gd.fetch))return!0;let e=!1;const t=Gd.document;if(t&&typeof t.createElement=="function")try{const r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),(n=r.contentWindow)!=null&&n.fetch&&(e=M_(r.contentWindow.fetch)),t.head.removeChild(r)}catch(r){_e&&J.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return e}function VI(e,t){const n="fetch";ea(n,e),ta(n,()=>WI(void 0,t))}function h8(e){const t="fetch-body-resolved";ea(t,e),ta(t,()=>WI(m8))}function WI(e,t=!1){t&&!f8()||or(Ye,"fetch",function(n){return function(...r){const s=new Error,{method:o,url:i}=g8(r),a={args:r,fetchData:{method:o,url:i},startTimestamp:Hn()*1e3,virtualError:s,headers:y8(r)};return e||Wr("fetch",{...a}),n.apply(Ye,r).then(async l=>(e?e(l):Wr("fetch",{...a,endTimestamp:Hn()*1e3,response:l}),l),l=>{if(Wr("fetch",{...a,endTimestamp:Hn()*1e3,error:l}),jg(l)&&l.stack===void 0&&(l.stack=s.stack,kr(l,"framesToPop",1)),l instanceof TypeError&&(l.message==="Failed to fetch"||l.message==="Load failed"||l.message==="NetworkError when attempting to fetch resource."))try{const u=new URL(a.fetchData.url);l.message=`${l.message} (${u.host})`}catch{}throw l})}})}async function p8(e,t){if(e!=null&&e.body){const n=e.body,r=n.getReader(),s=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3);let o=!0;for(;o;){let i;try{i=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:a}=await r.read();clearTimeout(i),a&&(t(),o=!1)}catch{o=!1}finally{clearTimeout(i)}}clearTimeout(s),r.releaseLock(),n.cancel().then(null,()=>{})}}function m8(e){let t;try{t=e.clone()}catch{return}p8(t,()=>{Wr("fetch-body-resolved",{endTimestamp:Hn()*1e3,response:e})})}function D_(e,t){return!!e&&typeof e=="object"&&!!e[t]}function Nk(e){return typeof e=="string"?e:e?D_(e,"url")?e.url:e.toString?e.toString():"":""}function g8(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:Nk(n),method:D_(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:Nk(t),method:D_(t,"method")?String(t.method).toUpperCase():"GET"}}function y8(e){const[t,n]=e;try{if(typeof n=="object"&&n!==null&&"headers"in n&&n.headers)return new Headers(n.headers);if(GA(t))return new Headers(t.headers)}catch{}}function v8(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function _8(){return"npm"}function x8(){return!v8()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function Rk(){return typeof window<"u"&&(!x8()||w8())}function w8(){const e=Ye.process;return(e==null?void 0:e.type)==="renderer"}const We=Ye;let L_=0;function qI(){return L_>0}function b8(){L_++,setTimeout(()=>{L_--})}function Ac(e,t={}){function n(s){return typeof s=="function"}if(!n(e))return e;try{const s=e.__sentry_wrapped__;if(s)return typeof s=="function"?s:e;if(eb(e))return e}catch{return e}const r=function(...s){try{const o=s.map(i=>Ac(i,t));return e.apply(this,o)}catch(o){throw b8(),nu(i=>{i.addEventProcessor(a=>(t.mechanism&&(k_(a,void 0),Tc(a,t.mechanism)),a.extra={...a.extra,arguments:s},a)),ma(o)}),o}};try{for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}catch{}YA(r,e),kr(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}function F_(){const e=eu(),{referrer:t}=We.document||{},{userAgent:n}=We.navigator||{},r={...t&&{Referer:t},...n&&{"User-Agent":n}};return{url:e,headers:r}}function lb(e,t){const n=cb(e,t),r={type:T8(t),value:N8(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function S8(e,t,n,r){const s=ze(),o=s==null?void 0:s.getOptions().normalizeDepth,i=P8(t),a={__serialized__:gI(t,o)};if(i)return{exception:{values:[lb(e,i)]},extra:a};const l={exception:{values:[{type:Pg(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:I8(t,{isUnhandledRejection:r})}]},extra:a};if(n){const u=cb(e,n);u.length&&(l.exception.values[0].stacktrace={frames:u})}return l}function wv(e,t){return{exception:{values:[lb(e,t)]}}}function cb(e,t){const n=t.stacktrace||t.stack||"",r=k8(t),s=C8(t);try{return e(n,r,s)}catch{}return[]}const E8=/Minified React error #\d+;/i;function k8(e){return e&&E8.test(e.message)?1:0}function C8(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function GI(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function T8(e){const t=e==null?void 0:e.name;return!t&&GI(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function N8(e){const t=e==null?void 0:e.message;return GI(e)?Array.isArray(e.message)&&e.message.length==2?e.message[1]:"wasm exception":t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function R8(e,t,n,r){const s=(n==null?void 0:n.syntheticException)||void 0,o=ub(e,t,s,r);return Tc(o),o.level="error",n!=null&&n.event_id&&(o.event_id=n.event_id),Oo(o)}function A8(e,t,n="info",r,s){const o=(r==null?void 0:r.syntheticException)||void 0,i=$_(e,t,o,s);return i.level=n,r!=null&&r.event_id&&(i.event_id=r.event_id),Oo(i)}function ub(e,t,n,r,s){let o;if(WA(t)&&t.error)return wv(e,t.error);if(G1(t)||a5(t)){const i=t;if("stack"in t)o=wv(e,t);else{const a=i.name||(G1(i)?"DOMError":"DOMException"),l=i.message?`${a}: ${i.message}`:a;o=$_(e,l,n,r),k_(o,l)}return"code"in i&&(o.tags={...o.tags,"DOMException.code":`${i.code}`}),o}return jg(t)?wv(e,t):Wd(t)||Pg(t)?(o=S8(e,t,n,s),Tc(o,{synthetic:!0}),o):(o=$_(e,t,n,r),k_(o,`${t}`),Tc(o,{synthetic:!0}),o)}function $_(e,t,n,r){const s={};if(r&&n){const o=cb(e,n);o.length&&(s.exception={values:[{value:t,stacktrace:{frames:o}}]}),Tc(s,{synthetic:!0})}if(Zw(t)){const{__sentry_template_string__:o,__sentry_template_values__:i}=t;return s.logentry={message:o,params:i},s}return s.message=t,s}function I8(e,{isUnhandledRejection:t}){const n=p5(e),r=t?"promise rejection":"exception";return WA(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:Pg(e)?`Event \`${j8(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function j8(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function P8(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}const O8=5e3;class M8 extends u6{constructor(t){const n=D8(t),r=We.SENTRY_SDK_SOURCE||_8();DI(n,"browser",["browser"],r),super(n);const{sendDefaultPii:s,sendClientReports:o,_experiments:i}=this._options,a=i==null?void 0:i.enableLogs;We.document&&(o||a)&&We.document.addEventListener("visibilitychange",()=>{We.document.visibilityState==="hidden"&&(o&&this._flushOutcomes(),a&&xv(this))}),a&&(this.on("flush",()=>{xv(this)}),this.on("afterCaptureLog",()=>{this._logFlushIdleTimeout&&clearTimeout(this._logFlushIdleTimeout),this._logFlushIdleTimeout=setTimeout(()=>{xv(this)},O8)})),s&&(this.on("postprocessEvent",T6),this.on("beforeSendSession",N6))}eventFromException(t,n){return R8(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return A8(this._options.stackParser,t,n,r,this._options.attachStacktrace)}_prepareEvent(t,n,r,s){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r,s)}}function D8(e){var t;return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:(t=We.SENTRY_RELEASE)==null?void 0:t.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...e}}const Kd=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,ke=Ye,L8=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",su=(e,t,n,r)=>{let s,o;return i=>{t.value>=0&&(i||r)&&(o=t.value-(s??0),(o||s===void 0)&&(s=t.value,t.delta=o,t.rating=L8(t.value,n),e(t)))}},F8=()=>`v5-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,Lf=(e=!0)=>{var n,r;const t=(r=(n=ke.performance)==null?void 0:n.getEntriesByType)==null?void 0:r.call(n,"navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t},ou=()=>{const e=Lf();return(e==null?void 0:e.activationStart)??0},iu=(e,t=-1)=>{var o,i;const n=Lf();let r="navigate";return n&&((o=ke.document)!=null&&o.prerendering||ou()>0?r="prerender":(i=ke.document)!=null&&i.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:F8(),navigationType:r}},bv=new WeakMap;function db(e,t){return bv.get(e)||bv.set(e,new t),bv.get(e)}class xm{constructor(){xm.prototype.__init.call(this),xm.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(t){var s;if(t.hadRecentInput)return;const n=this._sessionEntries[0],r=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&n&&r&&t.startTime-r.startTime<1e3&&t.startTime-n.startTime<5e3?(this._sessionValue+=t.value,this._sessionEntries.push(t)):(this._sessionValue=t.value,this._sessionEntries=[t]),(s=this._onAfterProcessingUnexpectedShift)==null||s.call(this,t)}}const rl=(e,t,n={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(s=>{Promise.resolve().then(()=>{t(s.getEntries())})});return r.observe({type:e,buffered:!0,...n}),r}}catch{}},Lg=e=>{let t=!1;return()=>{t||(e(),t=!0)}};let dd=-1;const $8=()=>{var e,t;return((e=ke.document)==null?void 0:e.visibilityState)==="hidden"&&!((t=ke.document)!=null&&t.prerendering)?0:1/0},wm=e=>{ke.document.visibilityState==="hidden"&&dd>-1&&(dd=e.type==="visibilitychange"?e.timeStamp:0,B8())},U8=()=>{addEventListener("visibilitychange",wm,!0),addEventListener("prerenderingchange",wm,!0)},B8=()=>{removeEventListener("visibilitychange",wm,!0),removeEventListener("prerenderingchange",wm,!0)},Fg=()=>{var e;if(ke.document&&dd<0){const t=ou();dd=(ke.document.prerendering||(e=globalThis.performance.getEntriesByType("visibility-state").filter(r=>r.name==="hidden"&&r.startTime>t)[0])==null?void 0:e.startTime)??$8(),U8()}return{get firstHiddenTime(){return dd}}},Ff=e=>{var t;(t=ke.document)!=null&&t.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},z8=[1800,3e3],H8=(e,t={})=>{Ff(()=>{const n=Fg(),r=iu("FCP");let s;const i=rl("paint",a=>{for(const l of a)l.name==="first-contentful-paint"&&(i.disconnect(),l.startTime<n.firstHiddenTime&&(r.value=Math.max(l.startTime-ou(),0),r.entries.push(l),s(!0)))});i&&(s=su(e,r,z8,t.reportAllChanges))})},V8=[.1,.25],W8=(e,t={})=>{H8(Lg(()=>{var a,l;const n=iu("CLS",0);let r;const s=db(t,xm),o=u=>{for(const d of u)s._processEntry(d);s._sessionValue>n.value&&(n.value=s._sessionValue,n.entries=s._sessionEntries,r())},i=rl("layout-shift",o);i&&(r=su(e,n,V8,t.reportAllChanges),(a=ke.document)==null||a.addEventListener("visibilitychange",()=>{var u;((u=ke.document)==null?void 0:u.visibilityState)==="hidden"&&(o(i.takeRecords()),r(!0))}),(l=ke==null?void 0:ke.setTimeout)==null||l.call(ke,r))}))},$g=e=>{const t=n=>{var r;(n.type==="pagehide"||((r=ke.document)==null?void 0:r.visibilityState)==="hidden")&&e(n)};ke.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},q8=[100,300],G8=(e,t={})=>{Ff(()=>{const n=Fg(),r=iu("FID");let s;const o=l=>{l.startTime<n.firstHiddenTime&&(r.value=l.processingStart-l.startTime,r.entries.push(l),s(!0))},i=l=>{l.forEach(o)},a=rl("first-input",i);s=su(e,r,q8,t.reportAllChanges),a&&$g(Lg(()=>{i(a.takeRecords()),a.disconnect()}))})};let KI=0,Sv=1/0,Lh=0;const K8=e=>{e.forEach(t=>{t.interactionId&&(Sv=Math.min(Sv,t.interactionId),Lh=Math.max(Lh,t.interactionId),KI=Lh?(Lh-Sv)/7+1:0)})};let U_;const YI=()=>U_?KI:performance.interactionCount||0,Y8=()=>{"interactionCount"in performance||U_||(U_=rl("event",K8,{type:"event",buffered:!0,durationThreshold:0}))},Ev=10;let QI=0;const Q8=()=>YI()-QI;class bm{constructor(){bm.prototype.__init.call(this),bm.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){QI=YI(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){const t=Math.min(this._longestInteractionList.length-1,Math.floor(Q8()/50));return this._longestInteractionList[t]}_processEntry(t){var s,o;if((s=this._onBeforeProcessingEntry)==null||s.call(this,t),!(t.interactionId||t.entryType==="first-input"))return;const n=this._longestInteractionList.at(-1);let r=this._longestInteractionMap.get(t.interactionId);if(r||this._longestInteractionList.length<Ev||t.duration>n._latency){if(r?t.duration>r._latency?(r.entries=[t],r._latency=t.duration):t.duration===r._latency&&t.startTime===r.entries[0].startTime&&r.entries.push(t):(r={id:t.interactionId,entries:[t],_latency:t.duration},this._longestInteractionMap.set(r.id,r),this._longestInteractionList.push(r)),this._longestInteractionList.sort((i,a)=>a._latency-i._latency),this._longestInteractionList.length>Ev){const i=this._longestInteractionList.splice(Ev);for(const a of i)this._longestInteractionMap.delete(a.id)}(o=this._onAfterProcessingINPCandidate)==null||o.call(this,r)}}}const XI=e=>{var n;const t=ke.requestIdleCallback||ke.setTimeout;((n=ke.document)==null?void 0:n.visibilityState)==="hidden"?e():(e=Lg(e),t(e),$g(e))},X8=[200,500],Z8=40,J8=(e,t={})=>{globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&Ff(()=>{Y8();const n=iu("INP");let r;const s=db(t,bm),o=a=>{XI(()=>{for(const u of a)s._processEntry(u);const l=s._estimateP98LongestInteraction();l&&l._latency!==n.value&&(n.value=l._latency,n.entries=l.entries,r())})},i=rl("event",o,{durationThreshold:t.durationThreshold??Z8});r=su(e,n,X8,t.reportAllChanges),i&&(i.observe({type:"first-input",buffered:!0}),$g(()=>{o(i.takeRecords()),r(!0)}))})};class eH{_processEntry(t){var n;(n=this._onBeforeProcessingEntry)==null||n.call(this,t)}}const tH=[2500,4e3],nH=(e,t={})=>{Ff(()=>{const n=Fg(),r=iu("LCP");let s;const o=db(t,eH),i=l=>{t.reportAllChanges||(l=l.slice(-1));for(const u of l)o._processEntry(u),u.startTime<n.firstHiddenTime&&(r.value=Math.max(u.startTime-ou(),0),r.entries=[u],s())},a=rl("largest-contentful-paint",i);if(a){s=su(e,r,tH,t.reportAllChanges);const l=Lg(()=>{i(a.takeRecords()),a.disconnect(),s(!0)});for(const u of["keydown","click","visibilitychange"])ke.document&&addEventListener(u,()=>XI(l),{capture:!0,once:!0})}})},rH=[800,1800],B_=e=>{var t,n;(t=ke.document)!=null&&t.prerendering?Ff(()=>B_(e)):((n=ke.document)==null?void 0:n.readyState)!=="complete"?addEventListener("load",()=>B_(e),!0):setTimeout(e)},sH=(e,t={})=>{const n=iu("TTFB"),r=su(e,n,rH,t.reportAllChanges);B_(()=>{const s=Lf();s&&(n.value=Math.max(s.responseStart-ou(),0),n.entries=[s],r(!0))})},fd={},Sm={};let ZI,JI,ej,tj,nj;function fb(e,t=!1){return $f("cls",e,iH,ZI,t)}function rj(e,t=!1){return $f("lcp",e,lH,ej,t)}function sj(e){return $f("fid",e,aH,JI)}function oH(e){return $f("ttfb",e,cH,tj)}function oj(e){return $f("inp",e,uH,nj)}function Ic(e,t){return ij(e,t),Sm[e]||(dH(e),Sm[e]=!0),aj(e,t)}function au(e,t){const n=fd[e];if(n!=null&&n.length)for(const r of n)try{r(t)}catch(s){Kd&&J.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Ao(r)}
Error:`,s)}}function iH(){return W8(e=>{au("cls",{metric:e}),ZI=e},{reportAllChanges:!0})}function aH(){return G8(e=>{au("fid",{metric:e}),JI=e})}function lH(){return nH(e=>{au("lcp",{metric:e}),ej=e},{reportAllChanges:!0})}function cH(){return sH(e=>{au("ttfb",{metric:e}),tj=e})}function uH(){return J8(e=>{au("inp",{metric:e}),nj=e})}function $f(e,t,n,r,s=!1){ij(e,t);let o;return Sm[e]||(o=n(),Sm[e]=!0),r&&t({metric:r}),aj(e,t,s?o:void 0)}function dH(e){const t={};e==="event"&&(t.durationThreshold=0),rl(e,n=>{au(e,{entries:n})},t)}function ij(e,t){fd[e]=fd[e]||[],fd[e].push(t)}function aj(e,t,n){return()=>{n&&n();const r=fd[e];if(!r)return;const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}function fH(e){return"duration"in e}function kv(e){return typeof e=="number"&&isFinite(e)}function Do(e,t,n,{...r}){const s=st(e).start_timestamp;return s&&s>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),_I(e,()=>{const o=Df({startTime:t,...r});return o&&o.end(n),o})}function lj(e){var w;const t=ze();if(!t)return;const{name:n,transaction:r,attributes:s,startTime:o}=e,{release:i,environment:a,sendDefaultPii:l}=t.getOptions(),u=t.getIntegrationByName("Replay"),d=u==null?void 0:u.getReplayId(),f=ct(),h=f.getUser(),p=h!==void 0?h.email||h.id||h.ip_address:void 0;let y;try{y=f.getScopeData().contexts.profile.profile_id}catch{}const g={release:i,environment:a,user:p||void 0,profile_id:y||void 0,replay_id:d||void 0,transaction:r,"user_agent.original":(w=ke.navigator)==null?void 0:w.userAgent,"client.address":l?"{{auto}}":void 0,...s};return Df({name:n,attributes:g,startTime:o,experimental:{standalone:!0}})}function hb(){return ke.addEventListener&&ke.performance}function Ut(e){return e/1e3}function cj(e){let t="unknown",n="unknown",r="";for(const s of e){if(s==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(s))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=s}return r===e&&(t=r),{name:t,version:n}}function hH(){let e=0,t,n;if(!mH())return;let r=!1;function s(){r||(r=!0,n&&pH(e,t,n),o())}const o=fb(({metric:i})=>{const a=i.entries[i.entries.length-1];a&&(e=i.value,t=a)},!0);$g(()=>{s()}),setTimeout(()=>{const i=ze();if(!i)return;const a=i.on("startNavigationSpan",()=>{s(),a==null||a()}),l=Yn();if(l){const u=An(l);st(u).op==="pageload"&&(n=u.spanContext().spanId)}},0)}function pH(e,t,n){var l;Kd&&J.log(`Sending CLS span (${e})`);const r=Ut((Rr()||0)+((t==null?void 0:t.startTime)||0)),s=ct().getScopeData().transactionName,o=t?jo((l=t.sources[0])==null?void 0:l.node):"Layout shift",i={[hn]:"auto.http.browser.cls",[Ua]:"ui.webvital.cls",[Mf]:(t==null?void 0:t.duration)||0,"sentry.pageload.span_id":n},a=lj({name:o,transaction:s,attributes:i,startTime:r});a&&(a.addEvent("cls",{[Mg]:"",[Dg]:e}),a.end(r))}function mH(){try{return PerformanceObserver.supportedEntryTypes.includes("layout-shift")}catch{return!1}}const gH=2147483647;let Ak=0,gn={},Jn,Ll;function yH({recordClsStandaloneSpans:e}){const t=hb();if(t&&Rr()){t.mark&&ke.performance.mark("sentry-tracing-init");const n=SH(),r=bH(),s=EH(),o=e?hH():wH();return()=>{n(),r(),s(),o==null||o()}}return()=>{}}function vH(){Ic("longtask",({entries:e})=>{const t=Yn();if(!t)return;const{op:n,start_timestamp:r}=st(t);for(const s of e){const o=Ut(Rr()+s.startTime),i=Ut(s.duration);n==="navigation"&&r&&o<r||Do(t,o,o+i,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[hn]:"auto.ui.browser.metrics"}})}})}function _H(){new PerformanceObserver(t=>{const n=Yn();if(n)for(const r of t.getEntries()){if(!r.scripts[0])continue;const s=Ut(Rr()+r.startTime),{start_timestamp:o,op:i}=st(n);if(i==="navigation"&&o&&s<o)continue;const a=Ut(r.duration),l={[hn]:"auto.ui.browser.metrics"},u=r.scripts[0],{invoker:d,invokerType:f,sourceURL:h,sourceFunctionName:p,sourceCharPosition:y}=u;l["browser.script.invoker"]=d,l["browser.script.invoker_type"]=f,h&&(l["code.filepath"]=h),p&&(l["code.function"]=p),y!==-1&&(l["browser.script.source_char_position"]=y),Do(n,s,s+a,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:l})}}).observe({type:"long-animation-frame",buffered:!0})}function xH(){Ic("event",({entries:e})=>{const t=Yn();if(t){for(const n of e)if(n.name==="click"){const r=Ut(Rr()+n.startTime),s=Ut(n.duration),o={name:jo(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[hn]:"auto.ui.browser.metrics"}},i=KA(n.target);i&&(o.attributes["ui.component_name"]=i),Do(t,r,r+s,o)}}})}function wH(){return fb(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(gn.cls={value:e.value,unit:""},Ll=t)},!0)}function bH(){return rj(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(gn.lcp={value:e.value,unit:"millisecond"},Jn=t)},!0)}function SH(){return sj(({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=Ut(Rr()),r=Ut(t.startTime);gn.fid={value:e.value,unit:"millisecond"},gn["mark.fid"]={value:n+r,unit:"second"}})}function EH(){return oH(({metric:e})=>{e.entries[e.entries.length-1]&&(gn.ttfb={value:e.value,unit:"millisecond"})})}function kH(e,t){const n=hb(),r=Rr();if(!(n!=null&&n.getEntries)||!r)return;const s=Ut(r),o=n.getEntries(),{op:i,start_timestamp:a}=st(e);if(o.slice(Ak).forEach(l=>{const u=Ut(l.startTime),d=Ut(Math.max(0,l.duration));if(!(i==="navigation"&&a&&s+u<a))switch(l.entryType){case"navigation":{NH(e,l,s);break}case"mark":case"paint":case"measure":{CH(e,l,u,d,s,t.ignorePerformanceApiSpans);const f=Fg(),h=l.startTime<f.firstHiddenTime;l.name==="first-paint"&&h&&(gn.fp={value:l.startTime,unit:"millisecond"}),l.name==="first-contentful-paint"&&h&&(gn.fcp={value:l.startTime,unit:"millisecond"});break}case"resource":{IH(e,l,l.name,u,d,s,t.ignoreResourceSpans);break}}}),Ak=Math.max(o.length-1,0),jH(e),i==="pageload"){OH(gn);const l=gn["mark.fid"];l&&gn.fid&&(Do(e,l.value,l.value+Ut(gn.fid.value),{name:"first input delay",op:"ui.action",attributes:{[hn]:"auto.ui.browser.metrics"}}),delete gn["mark.fid"]),(!("fcp"in gn)||!t.recordClsOnPageloadSpan)&&delete gn.cls,Object.entries(gn).forEach(([u,d])=>{xz(u,d.value,d.unit)}),e.setAttribute("performance.timeOrigin",s),e.setAttribute("performance.activationStart",ou()),PH(e)}Jn=void 0,Ll=void 0,gn={}}function CH(e,t,n,r,s,o){if(["mark","measure"].includes(t.entryType)&&So(t.name,o))return;const i=Lf(!1),a=Ut(i?i.requestStart:0),l=s+Math.max(n,a),u=s+n,d=u+r,f={[hn]:"auto.resource.browser.metrics"};l!==u&&(f["sentry.browser.measure_happened_before_request"]=!0,f["sentry.browser.measure_start_time"]=l),TH(f,t),l<=d&&Do(e,l,d,{name:t.name,op:t.entryType,attributes:f})}function TH(e,t){try{const n=t.detail;if(!n)return;if(typeof n=="object"){for(const[r,s]of Object.entries(n))if(s&&Vd(s))e[`sentry.browser.measure.detail.${r}`]=s;else if(s!==void 0)try{e[`sentry.browser.measure.detail.${r}`]=JSON.stringify(s)}catch{}return}if(Vd(n)){e["sentry.browser.measure.detail"]=n;return}try{e["sentry.browser.measure.detail"]=JSON.stringify(n)}catch{}}catch{}}function NH(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{Fh(e,t,r,n)}),Fh(e,t,"secureConnection",n,"TLS/SSL"),Fh(e,t,"fetch",n,"cache"),Fh(e,t,"domainLookup",n,"DNS"),AH(e,t,n)}function Fh(e,t,n,r,s=n){const o=RH(n),i=t[o],a=t[`${n}Start`];!a||!i||Do(e,r+Ut(a),r+Ut(i),{op:`browser.${s}`,name:t.name,attributes:{[hn]:"auto.ui.browser.metrics",...n==="redirect"&&t.redirectCount!=null?{"http.redirect_count":t.redirectCount}:{}}})}function RH(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function AH(e,t,n){const r=n+Ut(t.requestStart),s=n+Ut(t.responseEnd),o=n+Ut(t.responseStart);t.responseEnd&&(Do(e,r,s,{op:"browser.request",name:t.name,attributes:{[hn]:"auto.ui.browser.metrics"}}),Do(e,o,s,{op:"browser.response",name:t.name,attributes:{[hn]:"auto.ui.browser.metrics"}}))}function IH(e,t,n,r,s,o,i){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const a=t.initiatorType?`resource.${t.initiatorType}`:"resource.other";if(i!=null&&i.includes(a))return;const l=ja(n),u={[hn]:"auto.resource.browser.metrics"};Cv(u,t,"transferSize","http.response_transfer_size"),Cv(u,t,"encodedBodySize","http.response_content_length"),Cv(u,t,"decodedBodySize","http.decoded_response_content_length");const d=t.deliveryType;d!=null&&(u["http.response_delivery_type"]=d);const f=t.renderBlockingStatus;f&&(u["resource.render_blocking_status"]=f),l.protocol&&(u["url.scheme"]=l.protocol.split(":").pop()),l.host&&(u["server.address"]=l.host),u["url.same_origin"]=n.includes(ke.location.origin);const{name:h,version:p}=cj(t.nextHopProtocol);u["network.protocol.name"]=h,u["network.protocol.version"]=p;const y=o+r,g=y+s;Do(e,y,g,{name:n.replace(ke.location.origin,""),op:a,attributes:u})}function jH(e){const t=ke.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),kv(n.rtt)&&(gn["connection.rtt"]={value:n.rtt,unit:"millisecond"})),kv(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),kv(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function PH(e){Jn&&(Jn.element&&e.setAttribute("lcp.element",jo(Jn.element)),Jn.id&&e.setAttribute("lcp.id",Jn.id),Jn.url&&e.setAttribute("lcp.url",Jn.url.trim().slice(0,200)),Jn.loadTime!=null&&e.setAttribute("lcp.loadTime",Jn.loadTime),Jn.renderTime!=null&&e.setAttribute("lcp.renderTime",Jn.renderTime),e.setAttribute("lcp.size",Jn.size)),Ll!=null&&Ll.sources&&Ll.sources.forEach((t,n)=>e.setAttribute(`cls.source.${n+1}`,jo(t.node)))}function Cv(e,t,n,r){const s=t[n];s!=null&&s<gH&&(e[r]=s)}function OH(e){const t=Lf(!1);if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}const MH=1e3;let Ik,z_,H_;function uj(e){const t="dom";ea(t,e),ta(t,DH)}function DH(){if(!ke.document)return;const e=Wr.bind(null,"dom"),t=jk(e,!0);ke.document.addEventListener("click",t,!1),ke.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{var o,i;const s=(o=ke[n])==null?void 0:o.prototype;(i=s==null?void 0:s.hasOwnProperty)!=null&&i.call(s,"addEventListener")&&(or(s,"addEventListener",function(a){return function(l,u,d){if(l==="click"||l=="keypress")try{const f=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},h=f[l]=f[l]||{refCount:0};if(!h.handler){const p=jk(e);h.handler=p,a.call(this,l,p,d)}h.refCount++}catch{}return a.call(this,l,u,d)}}),or(s,"removeEventListener",function(a){return function(l,u,d){if(l==="click"||l=="keypress")try{const f=this.__sentry_instrumentation_handlers__||{},h=f[l];h&&(h.refCount--,h.refCount<=0&&(a.call(this,l,h.handler,d),h.handler=void 0,delete f[l]),Object.keys(f).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return a.call(this,l,u,d)}}))})}function LH(e){if(e.type!==z_)return!1;try{if(!e.target||e.target._sentryId!==H_)return!1}catch{}return!0}function FH(e,t){return e!=="keypress"?!1:t!=null&&t.tagName?!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable):!0}function jk(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=$H(n);if(FH(n.type,r))return;kr(n,"_sentryCaptured",!0),r&&!r._sentryId&&kr(r,"_sentryId",wr());const s=n.type==="keypress"?"input":n.type;LH(n)||(e({event:n,name:s,global:t}),z_=n.type,H_=r?r._sentryId:void 0),clearTimeout(Ik),Ik=ke.setTimeout(()=>{H_=void 0,z_=void 0},MH)}}function $H(e){try{return e.target}catch{return null}}let $h;function Ug(e){const t="history";ea(t,e),ta(t,UH)}function UH(){if(ke.addEventListener("popstate",()=>{const t=ke.location.href,n=$h;if($h=t,n===t)return;Wr("history",{from:n,to:t})}),!u8())return;function e(t){return function(...n){const r=n.length>2?n[2]:void 0;if(r){const s=$h,o=BH(String(r));if($h=o,s===o)return t.apply(this,n);Wr("history",{from:s,to:o})}return t.apply(this,n)}}or(ke.history,"pushState",e),or(ke.history,"replaceState",e)}function BH(e){try{return new URL(e,ke.location.origin).toString()}catch{return e}}const bp={};function dj(e){const t=bp[e];if(t)return t;let n=ke[e];if(M_(n))return bp[e]=n.bind(ke);const r=ke.document;if(r&&typeof r.createElement=="function")try{const s=r.createElement("iframe");s.hidden=!0,r.head.appendChild(s);const o=s.contentWindow;o!=null&&o[e]&&(n=o[e]),r.head.removeChild(s)}catch(s){Kd&&J.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,s)}return n&&(bp[e]=n.bind(ke))}function Pk(e){bp[e]=void 0}function Uf(...e){return dj("setTimeout")(...e)}const ga="__sentry_xhr_v3__";function fj(e){const t="xhr";ea(t,e),ta(t,zH)}function zH(){if(!ke.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const s=new Error,o=Hn()*1e3,i=bo(r[0])?r[0].toUpperCase():void 0,a=HH(r[1]);if(!i||!a)return t.apply(n,r);n[ga]={method:i,url:a,request_headers:{}},i==="POST"&&a.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const l=()=>{const u=n[ga];if(u&&n.readyState===4){try{u.status_code=n.status}catch{}const d={endTimestamp:Hn()*1e3,startTimestamp:o,xhr:n,virtualError:s};Wr("xhr",d)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(u,d,f){return l(),u.apply(d,f)}}):n.addEventListener("readystatechange",l),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(u,d,f){const[h,p]=f,y=d[ga];return y&&bo(h)&&bo(p)&&(y.request_headers[h.toLowerCase()]=p),u.apply(d,f)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const s=n[ga];if(!s)return t.apply(n,r);r[0]!==void 0&&(s.body=r[0]);const o={startTimestamp:Hn()*1e3,xhr:n};return Wr("xhr",o),t.apply(n,r)}})}function HH(e){if(bo(e))return e;try{return e.toString()}catch{}}function hj(e){return new URLSearchParams(e).toString()}function pj(e,t=J){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[hj(e)];if(!e)return[void 0]}catch(n){return Kd&&t.error(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return Kd&&t.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function mj(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}const Tv=[],Sp=new Map,VH=60;function WH(){if(hb()&&Rr()){const t=qH();return()=>{t()}}return()=>{}}const Ok={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function qH(){return oj(GH)}const GH=({metric:e})=>{if(e.value==null)return;const t=Ut(e.value);if(t>VH)return;const n=e.entries.find(y=>y.duration===e.value&&Ok[y.name]);if(!n)return;const{interactionId:r}=n,s=Ok[n.name],o=Ut(Rr()+n.startTime),i=Yn(),a=i?An(i):void 0,u=(r!=null?Sp.get(r):void 0)||a,d=u?st(u).description:ct().getScopeData().transactionName,f=jo(n.target),h={[hn]:"auto.http.browser.inp",[Ua]:`ui.interaction.${s}`,[Mf]:n.duration},p=lj({name:f,transaction:d,attributes:h,startTime:o});p&&(p.addEvent("inp",{[Mg]:"millisecond",[Dg]:e.value}),p.end(o+t))};function KH(){const e=({entries:t})=>{const n=Yn(),r=n&&An(n);t.forEach(s=>{if(!fH(s)||!r)return;const o=s.interactionId;if(o!=null&&!Sp.has(o)){if(Tv.length>10){const i=Tv.shift();Sp.delete(i)}Tv.push(o),Sp.set(o,r)}})};Ic("event",e),Ic("first-input",e)}function YH(e,t=dj("fetch")){let n=0,r=0;function s(o){const i=o.body.length;n+=i,r++;const a={body:o.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return Pk("fetch"),vm("No fetch implementation available");try{return t(e.url,a).then(l=>(n-=i,r--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return Pk("fetch"),n-=i,r--,vm(l)}}return S6(e,s)}const QH=30,XH=50;function V_(e,t,n,r){const s={filename:e,function:t==="<anonymous>"?$a:t,in_app:!0};return n!==void 0&&(s.lineno=n),r!==void 0&&(s.colno=r),s}const ZH=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,JH=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,eV=/\((\S*)(?::(\d+))(?::(\d+))\)/,tV=e=>{const t=ZH.exec(e);if(t){const[,r,s,o]=t;return V_(r,$a,+s,+o)}const n=JH.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){const i=eV.exec(n[2]);i&&(n[2]=i[1],n[3]=i[2],n[4]=i[3])}const[s,o]=gj(n[1]||$a,n[2]);return V_(o,s,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},nV=[QH,tV],rV=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,sV=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,oV=e=>{const t=rV.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const o=sV.exec(t[3]);o&&(t[1]=t[1]||"eval",t[3]=o[1],t[4]=o[2],t[5]="")}let r=t[3],s=t[1]||$a;return[s,r]=gj(s,r),V_(r,s,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},iV=[XH,oV],aV=[nV,iV],lV=BA(...aV),gj=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:$a,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},Cr=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Uh=1024,cV="Breadcrumbs",uV=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:cV,setup(n){t.console&&G6(pV(n)),t.dom&&uj(hV(n,t.dom)),t.xhr&&fj(mV(n)),t.fetch&&VI(gV(n)),t.history&&Ug(yV(n)),t.sentry&&n.on("beforeSendEvent",fV(n))}}},dV=uV;function fV(e){return function(n){ze()===e&&Mo({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:ua(n)},{event:n})}}function hV(e,t){return function(r){if(ze()!==e)return;let s,o,i=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>Uh&&(Cr&&J.warn(`\`dom.maxStringLength\` cannot exceed ${Uh}, but a value of ${a} was configured. Sentry will use ${Uh} instead.`),a=Uh),typeof i=="string"&&(i=[i]);try{const u=r.event,d=vV(u)?u.target:u;s=jo(d,{keyAttrs:i,maxStringLength:a}),o=KA(d)}catch{s="<unknown>"}if(s.length===0)return;const l={category:`ui.${r.name}`,message:s};o&&(l.data={"ui.component_name":o}),Mo(l,{event:r.event,name:r.name,global:r.global})}}function pV(e){return function(n){if(ze()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:FI(n.level),message:K1(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${K1(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;Mo(r,{input:n.args,level:n.level})}}function mV(e){return function(n){if(ze()!==e)return;const{startTimestamp:r,endTimestamp:s}=n,o=n.xhr[ga];if(!r||!s||!o)return;const{method:i,url:a,status_code:l,body:u}=o,d={method:i,url:a,status_code:l},f={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:s},h={category:"xhr",data:d,type:"http",level:HI(l)};e.emit("beforeOutgoingRequestBreadcrumb",h,f),Mo(h,f)}}function gV(e){return function(n){if(ze()!==e)return;const{startTimestamp:r,endTimestamp:s}=n;if(s&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.fetchData.method,n.fetchData.url,n.error){const o=n.fetchData,i={data:n.error,input:n.args,startTimestamp:r,endTimestamp:s},a={category:"fetch",data:o,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",a,i),Mo(a,i)}else{const o=n.response,i={...n.fetchData,status_code:o==null?void 0:o.status};n.fetchData.request_body_size,n.fetchData.response_body_size,o==null||o.status;const a={input:n.args,response:o,startTimestamp:r,endTimestamp:s},l={category:"fetch",data:i,type:"http",level:HI(i.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",l,a),Mo(l,a)}}}function yV(e){return function(n){if(ze()!==e)return;let r=n.from,s=n.to;const o=ja(We.location.href);let i=r?ja(r):void 0;const a=ja(s);i!=null&&i.path||(i=o),o.protocol===a.protocol&&o.host===a.host&&(s=a.relative),o.protocol===i.protocol&&o.host===i.host&&(r=i.relative),Mo({category:"navigation",data:{from:r,to:s}})}}function vV(e){return!!e&&!!e.target}const _V=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],xV="BrowserApiErrors",wV=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...e};return{name:xV,setupOnce(){t.setTimeout&&or(We,"setTimeout",Mk),t.setInterval&&or(We,"setInterval",Mk),t.requestAnimationFrame&&or(We,"requestAnimationFrame",SV),t.XMLHttpRequest&&"XMLHttpRequest"in We&&or(XMLHttpRequest.prototype,"send",EV);const n=t.eventTarget;n&&(Array.isArray(n)?n:_V).forEach(s=>kV(s,t))}}},bV=wV;function Mk(e){return function(...t){const n=t[0];return t[0]=Ac(n,{mechanism:{data:{function:Ao(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function SV(e){return function(t){return e.apply(this,[Ac(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Ao(e)},handled:!1,type:"instrument"}})])}}function EV(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(s=>{s in n&&typeof n[s]=="function"&&or(n,s,function(o){const i={mechanism:{data:{function:s,handler:Ao(o)},handled:!1,type:"instrument"}},a=eb(o);return a&&(i.mechanism.data.handler=Ao(a)),Ac(o,i)})}),e.apply(this,t)}}function kV(e,t){var s,o;const r=(s=We[e])==null?void 0:s.prototype;(o=r==null?void 0:r.hasOwnProperty)!=null&&o.call(r,"addEventListener")&&(or(r,"addEventListener",function(i){return function(a,l,u){try{CV(l)&&(l.handleEvent=Ac(l.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Ao(l),target:e},handled:!1,type:"instrument"}}))}catch{}return t.unregisterOriginalCallbacks&&TV(this,a,l),i.apply(this,[a,Ac(l,{mechanism:{data:{function:"addEventListener",handler:Ao(l),target:e},handled:!1,type:"instrument"}}),u])}}),or(r,"removeEventListener",function(i){return function(a,l,u){try{const d=l.__sentry_wrapped__;d&&i.call(this,a,d,u)}catch{}return i.call(this,a,l,u)}}))}function CV(e){return typeof e.handleEvent=="function"}function TV(e,t,n){e&&typeof e=="object"&&"removeEventListener"in e&&typeof e.removeEventListener=="function"&&e.removeEventListener(t,n)}const NV=()=>({name:"BrowserSession",setupOnce(){if(typeof We.document>"u"){Cr&&J.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}hk({ignoreDuration:!0}),pk(),Ug(({from:e,to:t})=>{e!==void 0&&e!==t&&(hk({ignoreDuration:!0}),pk())})}}),RV="GlobalHandlers",AV=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:RV,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(jV(n),Dk("onerror")),t.onunhandledrejection&&(PV(n),Dk("onunhandledrejection"))}}},IV=AV;function jV(e){zA(t=>{const{stackParser:n,attachStacktrace:r}=yj();if(ze()!==e||qI())return;const{msg:s,url:o,line:i,column:a,error:l}=t,u=DV(ub(n,l||s,void 0,r,!1),o,i,a);u.level="error",SI(u,{originalException:l,mechanism:{handled:!1,type:"onerror"}})})}function PV(e){HA(t=>{const{stackParser:n,attachStacktrace:r}=yj();if(ze()!==e||qI())return;const s=OV(t),o=Vd(s)?MV(s):ub(n,s,void 0,r,!0);o.level="error",SI(o,{originalException:s,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function OV(e){if(Vd(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function MV(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function DV(e,t,n,r){const s=e.exception=e.exception||{},o=s.values=s.values||[],i=o[0]=o[0]||{},a=i.stacktrace=i.stacktrace||{},l=a.frames=a.frames||[],u=r,d=n,f=bo(t)&&t.length>0?t:eu();return l.length===0&&l.push({colno:u,filename:f,function:$a,in_app:!0,lineno:d}),e}function Dk(e){Cr&&J.log(`Global Handler attached: ${e}`)}function yj(){const e=ze();return(e==null?void 0:e.getOptions())||{stackParser:()=>[],attachStacktrace:!1}}const LV=()=>({name:"HttpContext",preprocessEvent(e){var r;if(!We.navigator&&!We.location&&!We.document)return;const t=F_(),n={...t.headers,...(r=e.request)==null?void 0:r.headers};e.request={...t,...e.request,headers:n}}}),FV="cause",$V=5,UV="LinkedErrors",BV=(e={})=>{const t=e.limit||$V,n=e.key||FV;return{name:UV,preprocessEvent(r,s,o){const i=o.getOptions();q6(lb,i.stackParser,n,t,r,s)}}},zV=BV;function HV(){return VV()?(Cr&&el(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0):!1}function VV(){var o;if(typeof We.window>"u")return!1;const e=We;if(e.nw)return!1;const t=e.chrome||e.browser;if(!((o=t==null?void 0:t.runtime)!=null&&o.id))return!1;const n=eu(),r=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(We===We.top&&r.some(i=>n.startsWith(`${i}://`)))}function WV(e){return[F6(),O6(),bV(),dV(),IV(),zV(),X6(),LV(),NV()]}function qV(e={}){const t=!e.skipBrowserExtensionCheck&&HV(),n={...e,enabled:t?!1:e.enabled,stackParser:r5(e.stackParser||lV),integrations:o6({integrations:e.integrations,defaultIntegrations:e.defaultIntegrations==null?WV():e.defaultIntegrations}),transport:e.transport||YH};return g6(M8,n)}function Lk(e={}){const t=We.document,n=(t==null?void 0:t.head)||(t==null?void 0:t.body);if(!n){Cr&&J.error("[showReportDialog] Global document not defined");return}const r=ct(),s=ze(),o=s==null?void 0:s.getDsn();if(!o){Cr&&J.error("[showReportDialog] DSN not configured");return}const i={...e,user:{...r.getUser(),...e.user},eventId:e.eventId||Qz()},a=We.document.createElement("script");a.async=!0,a.crossOrigin="anonymous",a.src=r6(o,i);const{onLoad:l,onClose:u}=i;if(l&&(a.onload=l),u){const d=f=>{if(f.data==="__sentry_reportdialog_closed__")try{u()}finally{We.removeEventListener("message",d)}};We.addEventListener("message",d)}n.appendChild(a)}const ft=Ye,pb="sentryReplaySession",GV="replay_event",mb="Unable to send Replay",KV=3e5,YV=9e5,QV=5e3,XV=5500,ZV=6e4,JV=5e3,eW=3,Fk=15e4,Bh=5e3,tW=3e3,nW=300,gb=2e7,rW=4999,sW=15e3,$k=36e5;var oW=Object.defineProperty,iW=(e,t,n)=>t in e?oW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Uk=(e,t,n)=>iW(e,typeof t!="symbol"?t+"":t,n),dn=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(dn||{});function aW(e){return e.nodeType===e.ELEMENT_NODE}function hd(e){const t=e==null?void 0:e.host;return(t==null?void 0:t.shadowRoot)===e}function pd(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function lW(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function cW(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function Em(e){try{const t=e.rules||e.cssRules;return t?lW(Array.from(t,vj).join("")):null}catch{return null}}function uW(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style,s=r[n],o=r.getPropertyPriority(s);t+=`${s}:${r.getPropertyValue(s)}${o?" !important":""};`}return`${e.selectorText} { ${t} }`}function vj(e){let t;if(fW(e))try{t=Em(e.styleSheet)||cW(e)}catch{}else if(hW(e)){let n=e.cssText;const r=e.selectorText.includes(":"),s=typeof e.style.all=="string"&&e.style.all;if(s&&(n=uW(e)),r&&(n=dW(n)),r||s)return n}return t||e.cssText}function dW(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function fW(e){return"styleSheet"in e}function hW(e){return"selectorText"in e}class _j{constructor(){Uk(this,"idNodeMap",new Map),Uk(this,"nodeMetaMap",new WeakMap)}getId(t){var r;return t?((r=this.getMeta(t))==null?void 0:r.id)??-1:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){const r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){const r=this.getNode(t);if(r){const s=this.nodeMetaMap.get(r);s&&this.nodeMetaMap.set(n,s)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function pW(){return new _j}function Bg({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function Yd({isMasked:e,element:t,value:n,maskInputFn:r}){let s=n||"";return e?(r&&(s=r(s,t)),"*".repeat(s.length)):s}function jc(e){return e.toLowerCase()}function W_(e){return e.toUpperCase()}const Bk="__rrweb_original__";function mW(e){const t=e.getContext("2d");if(!t)return!0;const n=50;for(let r=0;r<e.width;r+=n)for(let s=0;s<e.height;s+=n){const o=t.getImageData,i=Bk in o?o[Bk]:o;if(new Uint32Array(i.call(t,r,s,Math.min(n,e.width-r),Math.min(n,e.height-s)).data.buffer).some(l=>l!==0))return!1}return!0}function yb(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?jc(t):null}function km(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}function xj(e,t){let n;try{n=new URL(e,t??window.location.href)}catch{return null}const r=/\.([0-9a-z]+)(?:$)/i,s=n.pathname.match(r);return(s==null?void 0:s[1])??null}const zk={};function wj(e){const t=zk[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const o=s.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(s)}catch{}return zk[e]=r.bind(window)}function q_(...e){return wj("setTimeout")(...e)}function bj(...e){return wj("clearTimeout")(...e)}function Sj(e){try{return e.contentDocument}catch{}}let gW=1;const yW=new RegExp("[^a-z0-9-_:]"),Qd=-2;function vb(){return gW++}function vW(e){if(e instanceof HTMLFormElement)return"form";const t=jc(e.tagName);return yW.test(t)?"div":t}function _W(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}let ml,Hk;const xW=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,wW=/^(?:[a-z+]+:)?\/\//i,bW=/^www\..*/i,SW=/^(data:)([^,]*),(.*)/i;function Cm(e,t){return(e||"").replace(xW,(n,r,s,o,i,a)=>{const l=s||i||a,u=r||o||"";if(!l)return n;if(wW.test(l)||bW.test(l))return`url(${u}${l}${u})`;if(SW.test(l))return`url(${u}${l}${u})`;if(l[0]==="/")return`url(${u}${_W(t)+l}${u})`;const d=t.split("/"),f=l.split("/");d.pop();for(const h of f)h!=="."&&(h===".."?d.pop():d.push(h));return`url(${u}${d.join("/")}${u})`})}const EW=/^[^ \t\n\r\u000c]+/,kW=/^[, \t\n\r\u000c]+/;function CW(e,t){if(t.trim()==="")return t;let n=0;function r(o){let i;const a=o.exec(t.substring(n));return a?(i=a[0],n+=i.length,i):""}const s=[];for(;r(kW),!(n>=t.length);){let o=r(EW);if(o.slice(-1)===",")o=Fl(e,o.substring(0,o.length-1)),s.push(o);else{let i="";o=Fl(e,o);let a=!1;for(;;){const l=t.charAt(n);if(l===""){s.push((o+i).trim());break}else if(a)l===")"&&(a=!1);else if(l===","){n+=1,s.push((o+i).trim());break}else l==="("&&(a=!0);i+=l,n+=1}}}return s.join(", ")}const Vk=new WeakMap;function Fl(e,t){return!t||t.trim()===""?t:zg(e,t)}function TW(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function zg(e,t){let n=Vk.get(e);if(n||(n=e.createElement("a"),Vk.set(e,n)),!t)t="";else if(t.startsWith("blob:")||t.startsWith("data:"))return t;return n.setAttribute("href",t),n.href}function Ej(e,t,n,r,s,o){return r&&(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(t==="table"||t==="td"||t==="th")?Fl(e,r):n==="srcset"?CW(e,r):n==="style"?Cm(r,zg(e)):t==="object"&&n==="data"?Fl(e,r):typeof o=="function"?o(n,r,s):r)}function kj(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function Cj(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let s=e.classList.length;s--;){const o=e.classList[s];if(t.test(o))return!0}if(n)return e.matches(n)}catch{}return!1}function NW(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function ya(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:ya(e.parentNode,t,n,r+1)}function $l(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(NW(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function Pc(e,t,n,r,s,o){try{const i=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(i===null)return!1;if(i.tagName==="INPUT"){const u=i.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(u))return!0}let a=-1,l=-1;if(o){if(l=ya(i,$l(r,s)),l<0)return!0;a=ya(i,$l(t,n),l>=0?l:1/0)}else{if(a=ya(i,$l(t,n)),a<0)return!1;l=ya(i,$l(r,s),a>=0?a:1/0)}return a>=0?l>=0?a<=l:!0:l>=0?!1:!!o}catch{}return!!o}function RW(e,t,n){const r=e.contentWindow;if(!r)return;let s=!1,o;try{o=r.document.readyState}catch{return}if(o!=="complete"){const a=q_(()=>{s||(t(),s=!0)},n);e.addEventListener("load",()=>{bj(a),s=!0,t()});return}const i="about:blank";if(r.location.href!==i||e.src===i||e.src==="")return q_(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function AW(e,t,n){let r=!1,s;try{s=e.sheet}catch{return}if(s)return;const o=q_(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{bj(o),r=!0,t()})}function IW(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskAttributeFn:l,maskTextClass:u,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:h,inlineStylesheet:p,maskInputOptions:y={},maskTextFn:g,maskInputFn:w,dataURLOptions:_={},inlineImages:v,recordCanvas:x,keepIframeSrcFn:b,newlyAddedElement:S=!1}=t,E=jW(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:dn.Document,childNodes:[],compatMode:e.compatMode}:{type:dn.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:dn.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:E};case e.ELEMENT_NODE:return OW(e,{doc:n,blockClass:s,blockSelector:o,unblockSelector:i,inlineStylesheet:p,maskAttributeFn:l,maskInputOptions:y,maskInputFn:w,dataURLOptions:_,inlineImages:v,recordCanvas:x,keepIframeSrcFn:b,newlyAddedElement:S,rootId:E,maskTextClass:u,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:h});case e.TEXT_NODE:return PW(e,{doc:n,maskAllText:a,maskTextClass:u,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:h,maskTextFn:g,maskInputOptions:y,maskInputFn:w,rootId:E});case e.CDATA_SECTION_NODE:return{type:dn.CDATA,textContent:"",rootId:E};case e.COMMENT_NODE:return{type:dn.Comment,textContent:e.textContent||"",rootId:E};default:return!1}}function jW(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return n===1?void 0:n}function PW(e,t){var _;const{maskAllText:n,maskTextClass:r,unmaskTextClass:s,maskTextSelector:o,unmaskTextSelector:i,maskTextFn:a,maskInputOptions:l,maskInputFn:u,rootId:d}=t,f=e.parentNode&&e.parentNode.tagName;let h=e.textContent;const p=f==="STYLE"?!0:void 0,y=f==="SCRIPT"?!0:void 0,g=f==="TEXTAREA"?!0:void 0;if(p&&h){try{e.nextSibling||e.previousSibling||(_=e.parentNode.sheet)!=null&&_.cssRules&&(h=Em(e.parentNode.sheet))}catch(v){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${v}`,e)}h=Cm(h,zg(t.doc))}y&&(h="SCRIPT_PLACEHOLDER");const w=Pc(e,r,o,s,i,n);if(!p&&!y&&!g&&h&&w&&(h=a?a(h,e.parentElement):h.replace(/[\S]/g,"*")),g&&h&&(l.textarea||w)&&(h=u?u(h,e.parentNode):h.replace(/[\S]/g,"*")),f==="OPTION"&&h){const v=Bg({type:null,tagName:f,maskInputOptions:l});h=Yd({isMasked:Pc(e,r,o,s,i,v),element:e,value:h,maskInputFn:u})}return{type:dn.Text,textContent:h||"",isStyle:p,rootId:d}}function OW(e,t){const{doc:n,blockClass:r,blockSelector:s,unblockSelector:o,inlineStylesheet:i,maskInputOptions:a={},maskAttributeFn:l,maskInputFn:u,dataURLOptions:d={},inlineImages:f,recordCanvas:h,keepIframeSrcFn:p,newlyAddedElement:y=!1,rootId:g,maskTextClass:w,unmaskTextClass:_,maskTextSelector:v,unmaskTextSelector:x}=t,b=Cj(e,r,s,o),S=vW(e);let E={};const k=e.attributes.length;for(let T=0;T<k;T++){const j=e.attributes[T];j.name&&!kj(S,j.name,j.value)&&(E[j.name]=Ej(n,S,jc(j.name),j.value,e,l))}if(S==="link"&&i){const T=Array.from(n.styleSheets).find(D=>D.href===e.href);let j=null;T&&(j=Em(T)),j&&(E.rel=null,E.href=null,E.crossorigin=null,E._cssText=Cm(j,T.href))}if(S==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const T=Em(e.sheet);T&&(E._cssText=Cm(T,zg(n)))}if(S==="input"||S==="textarea"||S==="select"||S==="option"){const T=e,j=yb(T),D=km(T,W_(S),j),P=T.checked;if(j!=="submit"&&j!=="button"&&D){const U=Pc(T,w,v,_,x,Bg({type:j,tagName:W_(S),maskInputOptions:a}));E.value=Yd({isMasked:U,element:T,value:D,maskInputFn:u})}P&&(E.checked=P)}if(S==="option"&&(e.selected&&!a.select?E.selected=!0:delete E.selected),S==="canvas"&&h){if(e.__context==="2d")mW(e)||(E.rr_dataURL=e.toDataURL(d.type,d.quality));else if(!("__context"in e)){const T=e.toDataURL(d.type,d.quality),j=n.createElement("canvas");j.width=e.width,j.height=e.height;const D=j.toDataURL(d.type,d.quality);T!==D&&(E.rr_dataURL=T)}}if(S==="img"&&f){ml||(ml=n.createElement("canvas"),Hk=ml.getContext("2d"));const T=e,j=T.currentSrc||T.getAttribute("src")||"<unknown-src>",D=T.crossOrigin,P=()=>{T.removeEventListener("load",P);try{ml.width=T.naturalWidth,ml.height=T.naturalHeight,Hk.drawImage(T,0,0),E.rr_dataURL=ml.toDataURL(d.type,d.quality)}catch(U){if(T.crossOrigin!=="anonymous"){T.crossOrigin="anonymous",T.complete&&T.naturalWidth!==0?P():T.addEventListener("load",P);return}else console.warn(`Cannot inline img src=${j}! Error: ${U}`)}T.crossOrigin==="anonymous"&&(D?E.crossOrigin=D:T.removeAttribute("crossorigin"))};T.complete&&T.naturalWidth!==0?P():T.addEventListener("load",P)}if((S==="audio"||S==="video")&&(E.rr_mediaState=e.paused?"paused":"played",E.rr_mediaCurrentTime=e.currentTime),y||(e.scrollLeft&&(E.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(E.rr_scrollTop=e.scrollTop)),b){const{width:T,height:j}=e.getBoundingClientRect();E={class:E.class,rr_width:`${T}px`,rr_height:`${j}px`}}S==="iframe"&&!p(E.src)&&(!b&&!Sj(e)&&(E.rr_src=E.src),delete E.src);let C;try{customElements.get(S)&&(C=!0)}catch{}return{type:dn.Element,tagName:S,attributes:E,childNodes:[],isSVG:TW(e)||void 0,needBlock:b,rootId:g,isCustom:C}}function ut(e){return e==null?"":e.toLowerCase()}function MW(e,t){if(t.comment&&e.type===dn.Comment)return!0;if(e.type===dn.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&xj(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(ut(e.attributes.name).match(/^msapplication-tile(image|color)$/)||ut(e.attributes.name)==="application-name"||ut(e.attributes.rel)==="icon"||ut(e.attributes.rel)==="apple-touch-icon"||ut(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&ut(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(ut(e.attributes.property).match(/^(og|twitter|fb):/)||ut(e.attributes.name).match(/^(og|twitter):/)||ut(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(ut(e.attributes.name)==="robots"||ut(e.attributes.name)==="googlebot"||ut(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(ut(e.attributes.name)==="author"||ut(e.attributes.name)==="generator"||ut(e.attributes.name)==="framework"||ut(e.attributes.name)==="publisher"||ut(e.attributes.name)==="progid"||ut(e.attributes.property).match(/^article:/)||ut(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(ut(e.attributes.name)==="google-site-verification"||ut(e.attributes.name)==="yandex-verification"||ut(e.attributes.name)==="csrf-token"||ut(e.attributes.name)==="p:domain_verify"||ut(e.attributes.name)==="verify-v1"||ut(e.attributes.name)==="verification"||ut(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function Ul(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskTextClass:l,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:f,skipChild:h=!1,inlineStylesheet:p=!0,maskInputOptions:y={},maskAttributeFn:g,maskTextFn:w,maskInputFn:_,slimDOMOptions:v,dataURLOptions:x={},inlineImages:b=!1,recordCanvas:S=!1,onSerialize:E,onIframeLoad:k,iframeLoadTimeout:C=5e3,onStylesheetLoad:T,stylesheetLoadTimeout:j=5e3,keepIframeSrcFn:D=()=>!1,newlyAddedElement:P=!1}=t;let{preserveWhiteSpace:U=!0}=t;const B=IW(e,{doc:n,mirror:r,blockClass:s,blockSelector:o,maskAllText:a,unblockSelector:i,maskTextClass:l,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:f,inlineStylesheet:p,maskInputOptions:y,maskAttributeFn:g,maskTextFn:w,maskInputFn:_,dataURLOptions:x,inlineImages:b,recordCanvas:S,keepIframeSrcFn:D,newlyAddedElement:P});if(!B)return console.warn(e,"not serialized"),null;let L;r.hasNode(e)?L=r.getId(e):MW(B,v)||!U&&B.type===dn.Text&&!B.isStyle&&!B.textContent.replace(/^\s+|\s+$/gm,"").length?L=Qd:L=vb();const $=Object.assign(B,{id:L});if(r.add(e,$),L===Qd)return null;E&&E(e);let q=!h;if($.type===dn.Element){q=q&&!$.needBlock,delete $.needBlock;const A=e.shadowRoot;A&&pd(A)&&($.isShadowHost=!0)}if(($.type===dn.Document||$.type===dn.Element)&&q){v.headWhitespace&&$.type===dn.Element&&$.tagName==="head"&&(U=!1);const A={doc:n,mirror:r,blockClass:s,blockSelector:o,maskAllText:a,unblockSelector:i,maskTextClass:l,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:f,skipChild:h,inlineStylesheet:p,maskInputOptions:y,maskAttributeFn:g,maskTextFn:w,maskInputFn:_,slimDOMOptions:v,dataURLOptions:x,inlineImages:b,recordCanvas:S,preserveWhiteSpace:U,onSerialize:E,onIframeLoad:k,iframeLoadTimeout:C,onStylesheetLoad:T,stylesheetLoadTimeout:j,keepIframeSrcFn:D};for(const F of Array.from(e.childNodes)){const G=Ul(F,A);G&&$.childNodes.push(G)}if(aW(e)&&e.shadowRoot)for(const F of Array.from(e.shadowRoot.childNodes)){const G=Ul(F,A);G&&(pd(e.shadowRoot)&&(G.isShadow=!0),$.childNodes.push(G))}}return e.parentNode&&hd(e.parentNode)&&pd(e.parentNode)&&($.isShadow=!0),$.type===dn.Element&&$.tagName==="iframe"&&!Cj(e,s,o,i)&&RW(e,()=>{const A=Sj(e);if(A&&k){const F=Ul(A,{doc:A,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskTextClass:l,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:f,skipChild:!1,inlineStylesheet:p,maskInputOptions:y,maskAttributeFn:g,maskTextFn:w,maskInputFn:_,slimDOMOptions:v,dataURLOptions:x,inlineImages:b,recordCanvas:S,preserveWhiteSpace:U,onSerialize:E,onIframeLoad:k,iframeLoadTimeout:C,onStylesheetLoad:T,stylesheetLoadTimeout:j,keepIframeSrcFn:D});F&&k(e,F)}},C),$.type===dn.Element&&$.tagName==="link"&&typeof $.attributes.rel=="string"&&($.attributes.rel==="stylesheet"||$.attributes.rel==="preload"&&typeof $.attributes.href=="string"&&xj($.attributes.href)==="css")&&AW(e,()=>{if(T){const A=Ul(e,{doc:n,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskTextClass:l,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:f,skipChild:!1,inlineStylesheet:p,maskInputOptions:y,maskAttributeFn:g,maskTextFn:w,maskInputFn:_,slimDOMOptions:v,dataURLOptions:x,inlineImages:b,recordCanvas:S,preserveWhiteSpace:U,onSerialize:E,onIframeLoad:k,iframeLoadTimeout:C,onStylesheetLoad:T,stylesheetLoadTimeout:j,keepIframeSrcFn:D});A&&T(e,A)}},j),$}function DW(e,t){const{mirror:n=new _j,blockClass:r="rr-block",blockSelector:s=null,unblockSelector:o=null,maskAllText:i=!1,maskTextClass:a="rr-mask",unmaskTextClass:l=null,maskTextSelector:u=null,unmaskTextSelector:d=null,inlineStylesheet:f=!0,inlineImages:h=!1,recordCanvas:p=!1,maskAllInputs:y=!1,maskAttributeFn:g,maskTextFn:w,maskInputFn:_,slimDOM:v=!1,dataURLOptions:x,preserveWhiteSpace:b,onSerialize:S,onIframeLoad:E,iframeLoadTimeout:k,onStylesheetLoad:C,stylesheetLoadTimeout:T,keepIframeSrcFn:j=()=>!1}=t||{};return Ul(e,{doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,maskAllText:i,maskTextClass:a,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:f,maskInputOptions:y===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:y===!1?{}:y,maskAttributeFn:g,maskTextFn:w,maskInputFn:_,slimDOMOptions:v===!0||v==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:v==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:v===!1?{}:v,dataURLOptions:x,inlineImages:h,recordCanvas:p,preserveWhiteSpace:b,onSerialize:S,onIframeLoad:E,iframeLoadTimeout:k,onStylesheetLoad:C,stylesheetLoadTimeout:T,keepIframeSrcFn:j,newlyAddedElement:!1})}function Bn(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const bl=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let Wk={map:{},getId(){return console.error(bl),-1},getNode(){return console.error(bl),null},removeNodeFromMap(){console.error(bl)},has(){return console.error(bl),!1},reset(){console.error(bl)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Wk=new Proxy(Wk,{get(e,t,n){return t==="map"&&console.error(bl),Reflect.get(e,t,n)}}));function Xd(e,t,n={}){let r=null,s=0;return function(...o){const i=Date.now();!s&&n.leading===!1&&(s=i);const a=t-(i-s),l=this;a<=0||a>t?(r&&(HW(r),r=null),s=i,e.apply(l,o)):!r&&n.trailing!==!1&&(r=Hg(()=>{s=n.leading===!1?0:Date.now(),r=null,e.apply(l,o)},a))}}function Tj(e,t,n,r,s=window){const o=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,r?n:{set(i){Hg(()=>{n.set.call(this,i)},0),o&&o.set&&o.set.call(this,i)}}),()=>Tj(e,t,o||{},!0)}function _b(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],s=n(r);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=s,()=>{e[t]=r}}catch{return()=>{}}}let Tm=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(Tm=()=>new Date().getTime());function Nj(e){var n,r,s,o,i,a;const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:(t==null?void 0:t.documentElement.scrollLeft)||((r=(n=t==null?void 0:t.body)==null?void 0:n.parentElement)==null?void 0:r.scrollLeft)||((s=t==null?void 0:t.body)==null?void 0:s.scrollLeft)||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:(t==null?void 0:t.documentElement.scrollTop)||((i=(o=t==null?void 0:t.body)==null?void 0:o.parentElement)==null?void 0:i.scrollTop)||((a=t==null?void 0:t.body)==null?void 0:a.scrollTop)||0}}function Rj(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Aj(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Ij(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function gr(e,t,n,r,s){if(!e)return!1;const o=Ij(e);if(!o)return!1;const i=$l(t,n);if(!s){const u=r&&o.matches(r);return i(o)&&!u}const a=ya(o,i);let l=-1;return a<0?!1:(r&&(l=ya(o,$l(null,r))),a>-1&&l<0?!0:a<l)}function LW(e,t){return t.getId(e)!==-1}function Nv(e,t){return t.getId(e)===Qd}function jj(e,t){if(hd(e))return!1;const n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?jj(e.parentNode,t):!0:!0}function G_(e){return!!e.changedTouches}function FW(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function Pj(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function Oj(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function K_(e){return!!(e!=null&&e.shadowRoot)}class $W{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return this.styleIDMap.get(t)??-1}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function Mj(e){var n,r;let t=null;return((r=(n=e.getRootNode)==null?void 0:n.call(e))==null?void 0:r.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function UW(e){let t=e,n;for(;n=Mj(t);)t=n;return t}function BW(e){const t=e.ownerDocument;if(!t)return!1;const n=UW(e);return t.contains(n)}function Dj(e){const t=e.ownerDocument;return t?t.contains(e)||BW(e):!1}const qk={};function xb(e){const t=qk[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const o=s.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(s)}catch{}return qk[e]=r.bind(window)}function zW(...e){return xb("requestAnimationFrame")(...e)}function Hg(...e){return xb("setTimeout")(...e)}function HW(...e){return xb("clearTimeout")(...e)}var Ue=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(Ue||{}),Ne=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(Ne||{}),Mn=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Mn||{}),lo=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(lo||{}),Sl=(e=>(e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e))(Sl||{});function wb(e){try{return e.contentDocument}catch{}}function VW(e){try{return e.contentWindow}catch{}}function Gk(e){return"__ln"in e}class WW{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=(n==null?void 0:n.next)||null;return n}addNode(t){const n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&Gk(t.previousSibling)){const r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&Gk(t.nextSibling)&&t.nextSibling.__ln.previous){const r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){const n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const Kk=(e,t)=>`${e}@${t}`;class qW{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],n=new Set,r=new WW,s=l=>{let u=l,d=Qd;for(;d===Qd;)u=u&&u.nextSibling,d=u&&this.mirror.getId(u);return d},o=l=>{if(!l.parentNode||!Dj(l))return;const u=hd(l.parentNode)?this.mirror.getId(Mj(l)):this.mirror.getId(l.parentNode),d=s(l);if(u===-1||d===-1)return r.addNode(l);const f=Ul(l,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:h=>{Pj(h,this.mirror)&&!gr(h,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(h),Oj(h,this.mirror)&&this.stylesheetManager.trackLinkElement(h),K_(l)&&this.shadowDomManager.addShadowRoot(l.shadowRoot,this.doc)},onIframeLoad:(h,p)=>{gr(h,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(h,p),h.contentWindow&&this.canvasManager.addWindow(h.contentWindow),this.shadowDomManager.observeAttachShadow(h))},onStylesheetLoad:(h,p)=>{this.stylesheetManager.attachLinkElement(h,p)}});f&&(t.push({parentId:u,nextId:d,node:f}),n.add(f.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const l of this.movedSet)Yk(this.removes,l,this.mirror)&&!this.movedSet.has(l.parentNode)||o(l);for(const l of this.addedSet)!Qk(this.droppedSet,l)&&!Yk(this.removes,l,this.mirror)||Qk(this.movedSet,l)?o(l):this.droppedSet.add(l);let i=null;for(;r.length;){let l=null;if(i){const u=this.mirror.getId(i.value.parentNode),d=s(i.value);u!==-1&&d!==-1&&(l=i)}if(!l){let u=r.tail;for(;u;){const d=u;if(u=u.previous,d){const f=this.mirror.getId(d.value.parentNode);if(s(d.value)===-1)continue;if(f!==-1){l=d;break}else{const p=d.value;if(p.parentNode&&p.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const y=p.parentNode.host;if(this.mirror.getId(y)!==-1){l=d;break}}}}}}if(!l){for(;r.head;)r.removeNode(r.head.value);break}i=l.previous,r.removeNode(l.value),o(l.value)}const a={texts:this.texts.map(l=>({id:this.mirror.getId(l.node),value:l.value})).filter(l=>!n.has(l.id)).filter(l=>this.mirror.has(l.id)),attributes:this.attributes.map(l=>{const{attributes:u}=l;if(typeof u.style=="string"){const d=JSON.stringify(l.styleDiff),f=JSON.stringify(l._unchangedStyles);d.length<u.style.length&&(d+f).split("var(").length===u.style.split("var(").length&&(u.style=l.styleDiff)}return{id:this.mirror.getId(l.node),attributes:u}}).filter(l=>!n.has(l.id)).filter(l=>this.mirror.has(l.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=t=>{if(!Nv(t.target,this.mirror))switch(t.type){case"characterData":{const n=t.target.textContent;!gr(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:Pc(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,Ij(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{const n=t.target;let r=t.attributeName,s=t.target.getAttribute(r);if(r==="value"){const i=yb(n),a=n.tagName;s=km(n,a,i);const l=Bg({maskInputOptions:this.maskInputOptions,tagName:a,type:i}),u=Pc(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,l);s=Yd({isMasked:u,element:n,value:s,maskInputFn:this.maskInputFn})}if(gr(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||s===t.oldValue)return;let o=this.attributeMap.get(t.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(s))if(!wb(n))r="rr_src";else return;if(o||(o={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(o),this.attributeMap.set(t.target,o)),r==="type"&&n.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!kj(n.tagName,r)&&(o.attributes[r]=Ej(this.doc,jc(n.tagName),jc(r),s,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const i=this.unattachedDoc.createElement("span");t.oldValue&&i.setAttribute("style",t.oldValue);for(const a of Array.from(n.style)){const l=n.style.getPropertyValue(a),u=n.style.getPropertyPriority(a);l!==i.style.getPropertyValue(a)||u!==i.style.getPropertyPriority(a)?u===""?o.styleDiff[a]=l:o.styleDiff[a]=[l,u]:o._unchangedStyles[a]=[l,u]}for(const a of Array.from(i.style))n.style.getPropertyValue(a)===""&&(o.styleDiff[a]=!1)}break}case"childList":{if(gr(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{const r=this.mirror.getId(n),s=hd(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);gr(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Nv(n,this.mirror)||!LW(n,this.mirror)||(this.addedSet.has(n)?(Y_(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&r===-1||jj(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[Kk(r,s)]?Y_(this.movedSet,n):this.removes.push({parentId:s,id:r,isShadow:hd(t.target)&&pd(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(Nv(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[Kk(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);gr(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes.forEach(r=>this.genAdds(r)),K_(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Y_(e,t){e.delete(t),t.childNodes.forEach(n=>Y_(e,n))}function Yk(e,t,n){return e.length===0?!1:GW(e,t,n)}function GW(e,t,n){let r=t.parentNode;for(;r;){const s=n.getId(r);if(e.some(o=>o.id===s))return!0;r=r.parentNode}return!1}function Qk(e,t){return e.size===0?!1:Lj(e,t)}function Lj(e,t){const{parentNode:n}=t;return n?e.has(n)?!0:Lj(e,n):!1}let md;function KW(e){md=e}function YW(){md=void 0}const Qe=e=>md?(...n)=>{try{return e(...n)}catch(r){if(md&&md(r)===!0)return()=>{};throw r}}:e,Bl=[];function Bf(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function Fj(e,t){var i,a;const n=new qW;Bl.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const s=(a=(i=window==null?void 0:window.Zone)==null?void 0:i.__symbol__)==null?void 0:a.call(i,"MutationObserver");s&&window[s]&&(r=window[s]);const o=new r(Qe(l=>{e.onMutation&&e.onMutation(l)===!1||n.processMutations.bind(n)(l)}));return o.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),o}function QW({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};const s=typeof t.mousemove=="number"?t.mousemove:50,o=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let i=[],a;const l=Xd(Qe(f=>{const h=Date.now()-a;e(i.map(p=>(p.timeOffset-=h,p)),f),i=[],a=null}),o),u=Qe(Xd(Qe(f=>{const h=Bf(f),{clientX:p,clientY:y}=G_(f)?f.changedTouches[0]:f;a||(a=Tm()),i.push({x:p,y,id:r.getId(h),timeOffset:Tm()-a}),l(typeof DragEvent<"u"&&f instanceof DragEvent?Ne.Drag:f instanceof MouseEvent?Ne.MouseMove:Ne.TouchMove)}),s,{trailing:!1})),d=[Bn("mousemove",u,n),Bn("touchmove",u,n),Bn("drag",u,n)];return Qe(()=>{d.forEach(f=>f())})}function XW({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,sampling:i}){if(i.mouseInteraction===!1)return()=>{};const a=i.mouseInteraction===!0||i.mouseInteraction===void 0?{}:i.mouseInteraction,l=[];let u=null;const d=f=>h=>{const p=Bf(h);if(gr(p,r,s,o,!0))return;let y=null,g=f;if("pointerType"in h){switch(h.pointerType){case"mouse":y=lo.Mouse;break;case"touch":y=lo.Touch;break;case"pen":y=lo.Pen;break}y===lo.Touch?Mn[f]===Mn.MouseDown?g="TouchStart":Mn[f]===Mn.MouseUp&&(g="TouchEnd"):lo.Pen}else G_(h)&&(y=lo.Touch);y!==null?(u=y,(g.startsWith("Touch")&&y===lo.Touch||g.startsWith("Mouse")&&y===lo.Mouse)&&(y=null)):Mn[f]===Mn.Click&&(y=u,u=null);const w=G_(h)?h.changedTouches[0]:h;if(!w)return;const _=n.getId(p),{clientX:v,clientY:x}=w;Qe(e)({type:Mn[g],id:_,x:v,y:x,...y!==null&&{pointerType:y}})};return Object.keys(Mn).filter(f=>Number.isNaN(Number(f))&&!f.endsWith("_Departed")&&a[f]!==!1).forEach(f=>{let h=jc(f);const p=d(f);if(window.PointerEvent)switch(Mn[f]){case Mn.MouseDown:case Mn.MouseUp:h=h.replace("mouse","pointer");break;case Mn.TouchStart:case Mn.TouchEnd:return}l.push(Bn(h,p,t))}),Qe(()=>{l.forEach(f=>f())})}function $j({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,sampling:i}){const a=Qe(Xd(Qe(l=>{const u=Bf(l);if(!u||gr(u,r,s,o,!0))return;const d=n.getId(u);if(u===t&&t.defaultView){const f=Nj(t.defaultView);e({id:d,x:f.left,y:f.top})}else e({id:d,x:u.scrollLeft,y:u.scrollTop})}),i.scroll||100));return Bn("scroll",a,t)}function ZW({viewportResizeCb:e},{win:t}){let n=-1,r=-1;const s=Qe(Xd(Qe(()=>{const o=Rj(),i=Aj();(n!==o||r!==i)&&(e({width:Number(i),height:Number(o)}),n=o,r=i)}),200));return Bn("resize",s,t)}const JW=["INPUT","TEXTAREA","SELECT"],Xk=new WeakMap;function e9({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,ignoreClass:i,ignoreSelector:a,maskInputOptions:l,maskInputFn:u,sampling:d,userTriggeredOnInput:f,maskTextClass:h,unmaskTextClass:p,maskTextSelector:y,unmaskTextSelector:g}){function w(k){let C=Bf(k);const T=k.isTrusted,j=C&&W_(C.tagName);if(j==="OPTION"&&(C=C.parentElement),!C||!j||JW.indexOf(j)<0||gr(C,r,s,o,!0))return;const D=C;if(D.classList.contains(i)||a&&D.matches(a))return;const P=yb(C);let U=km(D,j,P),B=!1;const L=Bg({maskInputOptions:l,tagName:j,type:P}),$=Pc(C,h,y,p,g,L);(P==="radio"||P==="checkbox")&&(B=C.checked),U=Yd({isMasked:$,element:C,value:U,maskInputFn:u}),_(C,f?{text:U,isChecked:B,userTriggered:T}:{text:U,isChecked:B});const q=C.name;P==="radio"&&q&&B&&t.querySelectorAll(`input[type="radio"][name="${q}"]`).forEach(A=>{if(A!==C){const F=Yd({isMasked:$,element:A,value:km(A,j,P),maskInputFn:u});_(A,f?{text:F,isChecked:!B,userTriggered:!1}:{text:F,isChecked:!B})}})}function _(k,C){const T=Xk.get(k);if(!T||T.text!==C.text||T.isChecked!==C.isChecked){Xk.set(k,C);const j=n.getId(k);Qe(e)({...C,id:j})}}const x=(d.input==="last"?["change"]:["input","change"]).map(k=>Bn(k,Qe(w),t)),b=t.defaultView;if(!b)return()=>{x.forEach(k=>k())};const S=b.Object.getOwnPropertyDescriptor(b.HTMLInputElement.prototype,"value"),E=[[b.HTMLInputElement.prototype,"value"],[b.HTMLInputElement.prototype,"checked"],[b.HTMLSelectElement.prototype,"value"],[b.HTMLTextAreaElement.prototype,"value"],[b.HTMLSelectElement.prototype,"selectedIndex"],[b.HTMLOptionElement.prototype,"selected"]];return S&&S.set&&x.push(...E.map(k=>Tj(k[0],k[1],{set(){Qe(w)({target:this,isTrusted:!1})}},!1,b))),Qe(()=>{x.forEach(k=>k())})}function Nm(e){const t=[];function n(r,s){if(zh("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||zh("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||zh("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||zh("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const i=Array.from(r.parentRule.cssRules).indexOf(r);s.unshift(i)}else if(r.parentStyleSheet){const i=Array.from(r.parentStyleSheet.cssRules).indexOf(r);s.unshift(i)}return s}return n(e,t)}function ri(e,t,n){let r,s;return e?(e.ownerNode?r=t.getId(e.ownerNode):s=n.getId(e),{styleId:s,id:r}):{}}function t9({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const s=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(s,{apply:Qe((d,f,h)=>{const[p,y]=h,{id:g,styleId:w}=ri(f,t,n.styleMirror);return(g&&g!==-1||w&&w!==-1)&&e({id:g,styleId:w,adds:[{rule:p,index:y}]}),d.apply(f,h)})});const o=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(o,{apply:Qe((d,f,h)=>{const[p]=h,{id:y,styleId:g}=ri(f,t,n.styleMirror);return(y&&y!==-1||g&&g!==-1)&&e({id:y,styleId:g,removes:[{index:p}]}),d.apply(f,h)})});let i;r.CSSStyleSheet.prototype.replace&&(i=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(i,{apply:Qe((d,f,h)=>{const[p]=h,{id:y,styleId:g}=ri(f,t,n.styleMirror);return(y&&y!==-1||g&&g!==-1)&&e({id:y,styleId:g,replace:p}),d.apply(f,h)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:Qe((d,f,h)=>{const[p]=h,{id:y,styleId:g}=ri(f,t,n.styleMirror);return(y&&y!==-1||g&&g!==-1)&&e({id:y,styleId:g,replaceSync:p}),d.apply(f,h)})}));const l={};Hh("CSSGroupingRule")?l.CSSGroupingRule=r.CSSGroupingRule:(Hh("CSSMediaRule")&&(l.CSSMediaRule=r.CSSMediaRule),Hh("CSSConditionRule")&&(l.CSSConditionRule=r.CSSConditionRule),Hh("CSSSupportsRule")&&(l.CSSSupportsRule=r.CSSSupportsRule));const u={};return Object.entries(l).forEach(([d,f])=>{u[d]={insertRule:f.prototype.insertRule,deleteRule:f.prototype.deleteRule},f.prototype.insertRule=new Proxy(u[d].insertRule,{apply:Qe((h,p,y)=>{const[g,w]=y,{id:_,styleId:v}=ri(p.parentStyleSheet,t,n.styleMirror);return(_&&_!==-1||v&&v!==-1)&&e({id:_,styleId:v,adds:[{rule:g,index:[...Nm(p),w||0]}]}),h.apply(p,y)})}),f.prototype.deleteRule=new Proxy(u[d].deleteRule,{apply:Qe((h,p,y)=>{const[g]=y,{id:w,styleId:_}=ri(p.parentStyleSheet,t,n.styleMirror);return(w&&w!==-1||_&&_!==-1)&&e({id:w,styleId:_,removes:[{index:[...Nm(p),g]}]}),h.apply(p,y)})})}),Qe(()=>{r.CSSStyleSheet.prototype.insertRule=s,r.CSSStyleSheet.prototype.deleteRule=o,i&&(r.CSSStyleSheet.prototype.replace=i),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(l).forEach(([d,f])=>{f.prototype.insertRule=u[d].insertRule,f.prototype.deleteRule=u[d].deleteRule})})}function Uj({mirror:e,stylesheetManager:t},n){var i,a,l;let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);const s=n.nodeName==="#document"?(i=n.defaultView)==null?void 0:i.Document:(l=(a=n.ownerDocument)==null?void 0:a.defaultView)==null?void 0:l.ShadowRoot,o=s!=null&&s.prototype?Object.getOwnPropertyDescriptor(s==null?void 0:s.prototype,"adoptedStyleSheets"):void 0;return r===null||r===-1||!s||!o?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get(){var u;return(u=o.get)==null?void 0:u.call(this)},set(u){var f;const d=(f=o.set)==null?void 0:f.call(this,u);if(r!==null&&r!==-1)try{t.adoptStyleSheets(u,r)}catch{}return d}}),Qe(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get:o.get,set:o.set})}))}function n9({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:s}){const o=s.CSSStyleDeclaration.prototype.setProperty;s.CSSStyleDeclaration.prototype.setProperty=new Proxy(o,{apply:Qe((a,l,u)=>{var g;const[d,f,h]=u;if(n.has(d))return o.apply(l,[d,f,h]);const{id:p,styleId:y}=ri((g=l.parentRule)==null?void 0:g.parentStyleSheet,t,r.styleMirror);return(p&&p!==-1||y&&y!==-1)&&e({id:p,styleId:y,set:{property:d,value:f,priority:h},index:Nm(l.parentRule)}),a.apply(l,u)})});const i=s.CSSStyleDeclaration.prototype.removeProperty;return s.CSSStyleDeclaration.prototype.removeProperty=new Proxy(i,{apply:Qe((a,l,u)=>{var p;const[d]=u;if(n.has(d))return i.apply(l,[d]);const{id:f,styleId:h}=ri((p=l.parentRule)==null?void 0:p.parentStyleSheet,t,r.styleMirror);return(f&&f!==-1||h&&h!==-1)&&e({id:f,styleId:h,remove:{property:d},index:Nm(l.parentRule)}),a.apply(l,u)})}),Qe(()=>{s.CSSStyleDeclaration.prototype.setProperty=o,s.CSSStyleDeclaration.prototype.removeProperty=i})}function r9({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:s,sampling:o,doc:i}){const a=Qe(u=>Xd(Qe(d=>{const f=Bf(d);if(!f||gr(f,t,n,r,!0))return;const{currentTime:h,volume:p,muted:y,playbackRate:g}=f;e({type:u,id:s.getId(f),currentTime:h,volume:p,muted:y,playbackRate:g})}),o.media||500)),l=[Bn("play",a(Sl.Play),i),Bn("pause",a(Sl.Pause),i),Bn("seeked",a(Sl.Seeked),i),Bn("volumechange",a(Sl.VolumeChange),i),Bn("ratechange",a(Sl.RateChange),i)];return Qe(()=>{l.forEach(u=>u())})}function s9({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],s=new WeakMap,o=n.FontFace;n.FontFace=function(l,u,d){const f=new o(l,u,d);return s.set(f,{family:l,buffer:typeof u!="string",descriptors:d,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),f};const i=_b(t.fonts,"add",function(a){return function(l){return Hg(Qe(()=>{const u=s.get(l);u&&(e(u),s.delete(l))}),0),a.apply(this,[l])}});return r.push(()=>{n.FontFace=o}),r.push(i),Qe(()=>{r.forEach(a=>a())})}function o9(e){const{doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,selectionCb:i}=e;let a=!0;const l=Qe(()=>{const u=t.getSelection();if(!u||a&&(u!=null&&u.isCollapsed))return;a=u.isCollapsed||!1;const d=[],f=u.rangeCount||0;for(let h=0;h<f;h++){const p=u.getRangeAt(h),{startContainer:y,startOffset:g,endContainer:w,endOffset:_}=p;gr(y,r,s,o,!0)||gr(w,r,s,o,!0)||d.push({start:n.getId(y),startOffset:g,end:n.getId(w),endOffset:_})}i({ranges:d})});return l(),Bn("selectionchange",l)}function i9({doc:e,customElementCb:t}){const n=e.defaultView;return!n||!n.customElements?()=>{}:_b(n.customElements,"define",function(s){return function(o,i,a){try{t({define:{name:o}})}catch{}return s.apply(this,[o,i,a])}})}function a9(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};let r;e.recordDOM&&(r=Fj(e,e.doc));const s=QW(e),o=XW(e),i=$j(e),a=ZW(e,{win:n}),l=e9(e),u=r9(e);let d=()=>{},f=()=>{},h=()=>{},p=()=>{};e.recordDOM&&(d=t9(e,{win:n}),f=Uj(e,e.doc),h=n9(e,{win:n}),e.collectFonts&&(p=s9(e)));const y=o9(e),g=i9(e),w=[];for(const _ of e.plugins)w.push(_.observer(_.callback,n,_.options));return Qe(()=>{Bl.forEach(_=>_.reset()),r==null||r.disconnect(),s(),o(),i(),a(),l(),u(),d(),f(),h(),p(),y(),g(),w.forEach(_=>_())})}function zh(e){return typeof window[e]<"u"}function Hh(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class Q_{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,s){const o=r||this.getIdToRemoteIdMap(t),i=s||this.getRemoteIdToIdMap(t);let a=o.get(n);return a||(a=this.generateIdFn(),o.set(n,a),i.set(a,n)),a}getIds(t,n){const r=this.getIdToRemoteIdMap(t),s=this.getRemoteIdToIdMap(t);return n.map(o=>this.getId(t,o,r,s))}getRemoteId(t,n,r){const s=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;const o=s.get(n);return o||-1}getRemoteIds(t,n){const r=this.getRemoteIdToIdMap(t);return n.map(s=>this.getRemoteId(t,s,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}}class l9{constructor(){this.crossOriginIframeMirror=new Q_(vb),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class c9{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Q_(vb),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Q_(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){var s,o;this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&((s=t.contentWindow)==null||s.addEventListener("message",this.handleMessage.bind(this))),(o=this.loadListener)==null||o.call(this,t);const r=wb(t);r&&r.adoptedStyleSheets&&r.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(r.adoptedStyleSheets,this.mirror.getId(r))}handleMessage(t){const n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;const s=this.crossOriginIframeMap.get(t.source);if(!s)return;const o=this.transformCrossOriginEvent(s,n.data.event);o&&this.wrappedEmit(o,n.data.isCheckout)}transformCrossOriginEvent(t,n){var r;switch(n.type){case Ue.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);const s=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,s),this.patchRootIdOnNode(n.data.node,s),{timestamp:n.timestamp,type:Ue.IncrementalSnapshot,data:{source:Ne.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Ue.Meta:case Ue.Load:case Ue.DomContentLoaded:return!1;case Ue.Plugin:return n;case Ue.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case Ue.IncrementalSnapshot:switch(n.data.source){case Ne.Mutation:return n.data.adds.forEach(s=>{this.replaceIds(s,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(s.node,t);const o=this.crossOriginIframeRootIdMap.get(t);o&&this.patchRootIdOnNode(s.node,o)}),n.data.removes.forEach(s=>{this.replaceIds(s,t,["parentId","id"])}),n.data.attributes.forEach(s=>{this.replaceIds(s,t,["id"])}),n.data.texts.forEach(s=>{this.replaceIds(s,t,["id"])}),n;case Ne.Drag:case Ne.TouchMove:case Ne.MouseMove:return n.data.positions.forEach(s=>{this.replaceIds(s,t,["id"])}),n;case Ne.ViewportResize:return!1;case Ne.MediaInteraction:case Ne.MouseInteraction:case Ne.Scroll:case Ne.CanvasMutation:case Ne.Input:return this.replaceIds(n.data,t,["id"]),n;case Ne.StyleSheetRule:case Ne.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case Ne.Font:return n;case Ne.Selection:return n.data.ranges.forEach(s=>{this.replaceIds(s,t,["start","end"])}),n;case Ne.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),(r=n.data.styles)==null||r.forEach(s=>{this.replaceStyleIds(s,t,["styleId"])}),n}}return!1}replace(t,n,r,s){for(const o of s)!Array.isArray(n[o])&&typeof n[o]!="number"||(Array.isArray(n[o])?n[o]=t.getIds(r,n[o]):n[o]=t.getId(r,n[o]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==dn.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}}class u9{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class d9{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!pd(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t),this.bypassOptions.canvasManager.addShadowRoot(t);const r=Fj({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push($j({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),Hg(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(Uj({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){const n=wb(t),r=VW(t);!n||!r||this.patchAttachShadow(r.Element,n)}patchAttachShadow(t,n){const r=this;this.restoreHandlers.push(_b(t.prototype,"attachShadow",function(s){return function(o){const i=s.call(this,o);return this.shadowRoot&&Dj(this)&&r.addShadowRoot(this.shadowRoot,n),i}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}var Zk="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f9=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Vh=0;Vh<Zk.length;Vh++)f9[Zk.charCodeAt(Vh)]=Vh;class Jk{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class h9{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new $W,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;const r={id:n,styleIds:[]},s=[];for(const o of t){let i;this.styleMirror.has(o)?i=this.styleMirror.getId(o):(i=this.styleMirror.add(o),s.push({styleId:i,rules:Array.from(o.rules||CSSRule,(a,l)=>({rule:vj(a),index:l}))})),r.styleIds.push(i)}s.length>0&&(r.styles=s),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class p9{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(t,n){const r=this.nodeMap.get(t);return r&&Array.from(r).some(s=>s!==n)}add(t,n){this.active||(this.active=!0,zW(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}destroy(){}}let At,Rm;var PT;try{if(Array.from([1],e=>e*2)[0]!==2){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=((PT=e.contentWindow)==null?void 0:PT.Array.from)||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}const ss=pW();function Eo(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:s="rr-block",blockSelector:o=null,unblockSelector:i=null,ignoreClass:a="rr-ignore",ignoreSelector:l=null,maskAllText:u=!1,maskTextClass:d="rr-mask",unmaskTextClass:f=null,maskTextSelector:h=null,unmaskTextSelector:p=null,inlineStylesheet:y=!0,maskAllInputs:g,maskInputOptions:w,slimDOMOptions:_,maskAttributeFn:v,maskInputFn:x,maskTextFn:b,maxCanvasSize:S=null,packFn:E,sampling:k={},dataURLOptions:C={},mousemoveWait:T,recordDOM:j=!0,recordCanvas:D=!1,recordCrossOriginIframes:P=!1,recordAfter:U=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:B=!1,collectFonts:L=!1,inlineImages:$=!1,plugins:q,keepIframeSrcFn:A=()=>!1,ignoreCSSAttributes:F=new Set([]),errorHandler:G,onMutation:W,getCanvasManager:le}=e;KW(G);const ue=P?window.parent===window:!0;let Re=!1;if(!ue)try{window.parent.document&&(Re=!1)}catch{Re=!0}if(ue&&!t)throw new Error("emit function is required");if(!ue&&!Re)return()=>{};T!==void 0&&k.mousemove===void 0&&(k.mousemove=T),ss.reset();const xe=g===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:w!==void 0?w:{},pe=_===!0||_==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:_==="all",headMetaDescKeywords:_==="all"}:_||{};FW();let se,Ce=0;const je=M=>{for(const X of q||[])X.eventProcessor&&(M=X.eventProcessor(M));return E&&!Re&&(M=E(M)),M};At=(M,X)=>{var V;const H=M;if(H.timestamp=Tm(),(V=Bl[0])!=null&&V.isFrozen()&&H.type!==Ue.FullSnapshot&&!(H.type===Ue.IncrementalSnapshot&&H.data.source===Ne.Mutation)&&Bl.forEach(oe=>oe.unfreeze()),ue)t==null||t(je(H),X);else if(Re){const oe={type:"rrweb",event:je(H),origin:window.location.origin,isCheckout:X};window.parent.postMessage(oe,"*")}if(H.type===Ue.FullSnapshot)se=H,Ce=0;else if(H.type===Ue.IncrementalSnapshot){if(H.data.source===Ne.Mutation&&H.data.isAttachIframe)return;Ce++;const oe=r&&Ce>=r,ee=n&&se&&H.timestamp-se.timestamp>n;(oe||ee)&&O(!0)}};const Te=M=>{At({type:Ue.IncrementalSnapshot,data:{source:Ne.Mutation,...M}})},$e=M=>At({type:Ue.IncrementalSnapshot,data:{source:Ne.Scroll,...M}}),Ae=M=>At({type:Ue.IncrementalSnapshot,data:{source:Ne.CanvasMutation,...M}}),gt=M=>At({type:Ue.IncrementalSnapshot,data:{source:Ne.AdoptedStyleSheet,...M}}),et=new h9({mutationCb:Te,adoptedStyleSheetCb:gt}),Mt=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new l9:new c9({mirror:ss,mutationCb:Te,stylesheetManager:et,recordCrossOriginIframes:P,wrappedEmit:At});for(const M of q||[])M.getMirror&&M.getMirror({nodeMirror:ss,crossOriginIframeMirror:Mt.crossOriginIframeMirror,crossOriginIframeStyleMirror:Mt.crossOriginIframeStyleMirror});const Dt=new p9,Kt=g9(le,{mirror:ss,win:window,mutationCb:M=>At({type:Ue.IncrementalSnapshot,data:{source:Ne.CanvasMutation,...M}}),recordCanvas:D,blockClass:s,blockSelector:o,unblockSelector:i,maxCanvasSize:S,sampling:k.canvas,dataURLOptions:C,errorHandler:G}),N=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new u9:new d9({mutationCb:Te,scrollCb:$e,bypassOptions:{onMutation:W,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:u,maskTextClass:d,unmaskTextClass:f,maskTextSelector:h,unmaskTextSelector:p,inlineStylesheet:y,maskInputOptions:xe,dataURLOptions:C,maskAttributeFn:v,maskTextFn:b,maskInputFn:x,recordCanvas:D,inlineImages:$,sampling:k,slimDOMOptions:pe,iframeManager:Mt,stylesheetManager:et,canvasManager:Kt,keepIframeSrcFn:A,processedNodeManager:Dt},mirror:ss}),O=(M=!1)=>{if(!j)return;At({type:Ue.Meta,data:{href:window.location.href,width:Aj(),height:Rj()}},M),et.reset(),N.init(),Bl.forEach(H=>H.lock());const X=DW(document,{mirror:ss,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:u,maskTextClass:d,unmaskTextClass:f,maskTextSelector:h,unmaskTextSelector:p,inlineStylesheet:y,maskAllInputs:xe,maskAttributeFn:v,maskInputFn:x,maskTextFn:b,slimDOM:pe,dataURLOptions:C,recordCanvas:D,inlineImages:$,onSerialize:H=>{Pj(H,ss)&&Mt.addIframe(H),Oj(H,ss)&&et.trackLinkElement(H),K_(H)&&N.addShadowRoot(H.shadowRoot,document)},onIframeLoad:(H,V)=>{Mt.attachIframe(H,V),H.contentWindow&&Kt.addWindow(H.contentWindow),N.observeAttachShadow(H)},onStylesheetLoad:(H,V)=>{et.attachLinkElement(H,V)},keepIframeSrcFn:A});if(!X)return console.warn("Failed to snapshot the document");At({type:Ue.FullSnapshot,data:{node:X,initialOffset:Nj(window)}}),Bl.forEach(H=>H.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&et.adoptStyleSheets(document.adoptedStyleSheets,ss.getId(document))};Rm=O;try{const M=[],X=V=>{var oe;return Qe(a9)({onMutation:W,mutationCb:Te,mousemoveCb:(ee,Ze)=>At({type:Ue.IncrementalSnapshot,data:{source:Ze,positions:ee}}),mouseInteractionCb:ee=>At({type:Ue.IncrementalSnapshot,data:{source:Ne.MouseInteraction,...ee}}),scrollCb:$e,viewportResizeCb:ee=>At({type:Ue.IncrementalSnapshot,data:{source:Ne.ViewportResize,...ee}}),inputCb:ee=>At({type:Ue.IncrementalSnapshot,data:{source:Ne.Input,...ee}}),mediaInteractionCb:ee=>At({type:Ue.IncrementalSnapshot,data:{source:Ne.MediaInteraction,...ee}}),styleSheetRuleCb:ee=>At({type:Ue.IncrementalSnapshot,data:{source:Ne.StyleSheetRule,...ee}}),styleDeclarationCb:ee=>At({type:Ue.IncrementalSnapshot,data:{source:Ne.StyleDeclaration,...ee}}),canvasMutationCb:Ae,fontCb:ee=>At({type:Ue.IncrementalSnapshot,data:{source:Ne.Font,...ee}}),selectionCb:ee=>{At({type:Ue.IncrementalSnapshot,data:{source:Ne.Selection,...ee}})},customElementCb:ee=>{At({type:Ue.IncrementalSnapshot,data:{source:Ne.CustomElement,...ee}})},blockClass:s,ignoreClass:a,ignoreSelector:l,maskAllText:u,maskTextClass:d,unmaskTextClass:f,maskTextSelector:h,unmaskTextSelector:p,maskInputOptions:xe,inlineStylesheet:y,sampling:k,recordDOM:j,recordCanvas:D,inlineImages:$,userTriggeredOnInput:B,collectFonts:L,doc:V,maskAttributeFn:v,maskInputFn:x,maskTextFn:b,keepIframeSrcFn:A,blockSelector:o,unblockSelector:i,slimDOMOptions:pe,dataURLOptions:C,mirror:ss,iframeManager:Mt,stylesheetManager:et,shadowDomManager:N,processedNodeManager:Dt,canvasManager:Kt,ignoreCSSAttributes:F,plugins:((oe=q==null?void 0:q.filter(ee=>ee.observer))==null?void 0:oe.map(ee=>({observer:ee.observer,options:ee.options,callback:Ze=>At({type:Ue.Plugin,data:{plugin:ee.name,payload:Ze}})})))||[]},{})};Mt.addLoadListener(V=>{try{M.push(X(V.contentDocument))}catch(oe){console.warn(oe)}});const H=()=>{O(),M.push(X(document))};return document.readyState==="interactive"||document.readyState==="complete"?H():(M.push(Bn("DOMContentLoaded",()=>{At({type:Ue.DomContentLoaded,data:{}}),U==="DOMContentLoaded"&&H()})),M.push(Bn("load",()=>{At({type:Ue.Load,data:{}}),U==="load"&&H()},window))),()=>{M.forEach(V=>V()),Dt.destroy(),Rm=void 0,YW()}}catch(M){console.warn(M)}}function m9(e){if(!Rm)throw new Error("please take full snapshot after start recording");Rm(e)}Eo.mirror=ss;Eo.takeFullSnapshot=m9;function g9(e,t){try{return e?e(t):new Jk}catch{return console.warn("Unable to initialize CanvasManager"),new Jk}}var eC;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(eC||(eC={}));const y9=3,v9=5;function bb(e){return e>9999999999?e:e*1e3}function Rv(e){return e>9999999999?e/1e3:e}function zf(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:Ue.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:ds(t,10,1e3)}}),t.category==="console")))}const _9="button,a";function Bj(e){return e.closest(_9)||e}function zj(e){const t=Hj(e);return!t||!(t instanceof Element)?t:Bj(t)}function Hj(e){return x9(e)?e.target:e}function x9(e){return typeof e=="object"&&!!e&&"target"in e}let si;function w9(e){return si||(si=[],b9()),si.push(e),()=>{const t=si?si.indexOf(e):-1;t>-1&&si.splice(t,1)}}function b9(){or(ft,"open",function(e){return function(...t){if(si)try{si.forEach(n=>n())}catch{}return e.apply(ft,t)}})}const S9=new Set([Ne.Mutation,Ne.StyleSheetRule,Ne.StyleDeclaration,Ne.AdoptedStyleSheet,Ne.CanvasMutation,Ne.Selection,Ne.MediaInteraction]);function E9(e,t,n){e.handleClick(t,n)}class k9{constructor(t,n,r=zf){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scrollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){const t=w9(()=>{this._lastMutation=tC()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(T9(n,this._ignoreSelector)||!N9(t))return;const r={timestamp:Rv(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(s=>s.node===r.node&&Math.abs(s.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=Rv(t)}registerScroll(t=Date.now()){this._lastScroll=Rv(t)}registerClick(t){const n=Bj(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){const t=[],n=tC();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(const r of t){const s=this._clicks.indexOf(r);s>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(s,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){const n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scrollTimeout,s=t.mutationAfter&&t.mutationAfter<=this._threshold,o=!r&&!s,{clickCount:i,clickBreadcrumb:a}=t;if(o){const l=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,u=l<this._timeout*1e3?"mutation":"timeout",d={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:ft.location.href,route:n.getCurrentRoute(),timeAfterClickMs:l,endReason:u,clickCount:i||1}};this._addBreadcrumbEvent(n,d);return}if(i>1){const l={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:ft.location.href,route:n.getCurrentRoute(),clickCount:i,metric:!0}};this._addBreadcrumbEvent(n,l)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=Uf(()=>this._checkClicks(),1e3)}}const C9=["A","BUTTON","INPUT"];function T9(e,t){return!!(!C9.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function N9(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function tC(){return Date.now()/1e3}function R9(e,t){try{if(!A9(t))return;const{source:n}=t.data;if(S9.has(n)&&e.registerMutation(t.timestamp),n===Ne.Scroll&&e.registerScroll(t.timestamp),I9(t)){const{type:r,id:s}=t.data,o=Eo.mirror.getNode(s);o instanceof HTMLElement&&r===Mn.Click&&e.registerClick(o)}}catch{}}function A9(e){return e.type===y9}function I9(e){return e.data.source===Ne.MouseInteraction}function Us(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var Sb=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(Sb||{});const j9=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function P9(e){const t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(const n in e)if(j9.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}const O9=e=>t=>{if(!e.isEnabled())return;const n=M9(t);if(!n)return;const r=t.name==="click",s=r?t.event:void 0;r&&e.clickDetector&&s&&s.target&&!s.altKey&&!s.metaKey&&!s.ctrlKey&&!s.shiftKey&&E9(e.clickDetector,n,zj(t.event)),zf(e,n)};function Vj(e,t){const n=Eo.mirror.getId(e),r=n&&Eo.mirror.getNode(n),s=r&&Eo.mirror.getMeta(r),o=s&&L9(s)?s:null;return{message:t,data:o?{nodeId:n,node:{id:n,tagName:o.tagName,textContent:Array.from(o.childNodes).map(i=>i.type===Sb.Text&&i.textContent).filter(Boolean).map(i=>i.trim()).join(""),attributes:P9(o.attributes)}}:{}}}function M9(e){const{target:t,message:n}=D9(e);return Us({category:`ui.${e.name}`,...Vj(t,n)})}function D9(e){const t=e.name==="click";let n,r=null;try{r=t?zj(e.event):Hj(e.event),n=jo(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function L9(e){return e.type===Sb.Element}function F9(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=$9(t);n&&zf(e,n)}function $9(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:o,target:i}=e;if(!i||U9(i)||!o)return null;const a=t||r||s,l=o.length===1;if(!a&&l)return null;const u=jo(i,{maxStringLength:200})||"<unknown>",d=Vj(i,u);return Us({category:"ui.keyDown",message:u,data:{...d.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:o}})}function U9(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}const B9={resource:q9,paint:V9,navigation:W9};function Wh(e,t){return({metric:n})=>void t.replayPerformanceEntries.push(e(n))}function z9(e){return e.map(H9).filter(Boolean)}function H9(e){const t=B9[e.entryType];return t?t(e):null}function Oc(e){return((Rr()||ft.performance.timeOrigin)+e)/1e3}function V9(e){const{duration:t,entryType:n,name:r,startTime:s}=e,o=Oc(s);return{type:n,name:r,start:o,end:o+t,data:void 0}}function W9(e){const{entryType:t,name:n,decodedBodySize:r,duration:s,domComplete:o,encodedBodySize:i,domContentLoadedEventStart:a,domContentLoadedEventEnd:l,domInteractive:u,loadEventStart:d,loadEventEnd:f,redirectCount:h,startTime:p,transferSize:y,type:g}=e;return s===0?null:{type:`${t}.${g}`,start:Oc(p),end:Oc(o),name:n,data:{size:y,decodedBodySize:r,encodedBodySize:i,duration:s,domInteractive:u,domContentLoadedEventStart:a,domContentLoadedEventEnd:l,loadEventStart:d,loadEventEnd:f,domComplete:o,redirectCount:h}}}function q9(e){const{entryType:t,initiatorType:n,name:r,responseEnd:s,startTime:o,decodedBodySize:i,encodedBodySize:a,responseStatus:l,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:Oc(o),end:Oc(s),name:r,data:{size:u,statusCode:l,decodedBodySize:i,encodedBodySize:a}}}function G9(e){const t=e.entries[e.entries.length-1],n=t!=null&&t.element?[t.element]:void 0;return Vg(e,"largest-contentful-paint",n)}function K9(e){return e.sources!==void 0}function Y9(e){const t=[],n=[];for(const r of e.entries)if(K9(r)){const s=[];for(const o of r.sources)if(o.node){n.push(o.node);const i=Eo.mirror.getId(o.node);i&&s.push(i)}t.push({value:r.value,nodeIds:s.length?s:void 0})}return Vg(e,"cumulative-layout-shift",n,t)}function Q9(e){const t=e.entries[e.entries.length-1],n=t!=null&&t.target?[t.target]:void 0;return Vg(e,"first-input-delay",n)}function X9(e){const t=e.entries[e.entries.length-1],n=t!=null&&t.target?[t.target]:void 0;return Vg(e,"interaction-to-next-paint",n)}function Vg(e,t,n,r){const s=e.value,o=e.rating,i=Oc(s);return{type:"web-vital",name:t,start:i,end:i,data:{value:s,size:s,rating:o,nodeIds:n?n.map(a=>Eo.mirror.getId(a)):void 0,attributions:r}}}function Z9(e){function t(s){e.performanceEntries.includes(s)||e.performanceEntries.push(s)}function n({entries:s}){s.forEach(t)}const r=[];return["navigation","paint","resource"].forEach(s=>{r.push(Ic(s,n))}),r.push(rj(Wh(G9,e)),fb(Wh(Y9,e)),sj(Wh(Q9,e)),oj(Wh(X9,e))),()=>{r.forEach(s=>s())}}const Se=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,J9='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort((function(t,n){return p[n.s]-p[t.s]||t.f-n.f}));s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}},L=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},O=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},j=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},q=function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&j(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}},B=function(t){return 10+(t.filename?t.filename.length+1:0)},G=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(O(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();var H=function(){function t(t,n){this.c=L(),this.v=1,G.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),G.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=O(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=L();i.p(n.dictionary),j(t,2,i.d())}}(r,this.o),this.v=0),n&&j(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){G.prototype.flush.call(this)},t}(),J="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(F,{stream:!0})}catch(t){}var N=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(P(t),this.d=n||!1)},t}();function P(n,r){if(J)return J.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}function Q(t){return function(t,n){n||(n={});var r=S(),e=t.length;r.p(t);var i=O(t,n,B(n),8),s=i.length;return q(i,n),j(i,s-8,r.d()),j(i,s-4,e),i}(P(t))}const R=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new H,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new N(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},V={clear:()=>{R.clear()},addEvent:t=>R.addEvent(t),finish:()=>R.finish(),compress:t=>Q(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in V&&"function"==typeof V[n])try{const t=V[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function eq(){const e=new Blob([J9]);return URL.createObjectURL(e)}const nC=["info","warn","error","log"],Ep="[Replay] ";function Av(e,t="info"){Mo({category:"console",data:{logger:"replay"},level:t,message:`${Ep}${e}`},{level:t})}function tq(){let e=!1,t=!1;const n={exception:()=>{},infoTick:()=>{},setConfig:r=>{e=!!r.captureExceptions,t=!!r.traceInternals}};return Se?(nC.forEach(r=>{n[r]=(...s)=>{J[r](Ep,...s),t&&Av(s.join(""),FI(r))}}),n.exception=(r,...s)=>{s.length&&n.error&&n.error(...s),J.error(Ep,r),e?ma(r):t&&Av(r,"error")},n.infoTick=(...r)=>{J.info(Ep,...r),t&&setTimeout(()=>Av(r[0]),0)}):nC.forEach(r=>{n[r]=()=>{}}),n}const Ee=tq();class Eb extends Error{constructor(){super(`Event buffer exceeded maximum size of ${gb}.`)}}class Wj{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){const n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>gb)throw new Eb;this.events.push(t)}finish(){return new Promise(t=>{const n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const t=this.events.map(n=>n.timestamp).sort()[0];return t?bb(t):null}}class nq{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){Se&&Ee.info("Destroying compression worker"),this._worker.terminate()}postMessage(t,n){const r=this._getAndIncrementId();return new Promise((s,o)=>{const i=({data:a})=>{const l=a;if(l.method===t&&l.id===r){if(this._worker.removeEventListener("message",i),!l.success){Se&&Ee.error("Error in compression worker: ",l.response),o(new Error("Error in compression worker"));return}s(l.response)}};this._worker.addEventListener("message",i),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}}class rq{constructor(t){this._worker=new nq(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const n=bb(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);const r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>gb?Promise.reject(new Eb):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{Se&&Ee.exception(t,'Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){const t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}}class sq{constructor(t){this._fallback=new Wj,this._compression=new rq(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}set waitForCheckout(t){this._used.waitForCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){Se&&Ee.exception(t,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t,hasCheckout:n,waitForCheckout:r}=this._fallback,s=[];for(const o of t)s.push(this._compression.addEvent(o));this._compression.hasCheckout=n,this._compression.waitForCheckout=r,this._used=this._compression;try{await Promise.all(s),this._fallback.clear()}catch(o){Se&&Ee.exception(o,"Failed to add events when switching buffers.")}}}function oq({useCompression:e,workerUrl:t}){if(e&&window.Worker){const n=iq(t);if(n)return n}return Se&&Ee.info("Using simple buffer"),new Wj}function iq(e){try{const t=e||aq();if(!t)return;Se&&Ee.info(`Using compression worker${e?` from ${e}`:""}`);const n=new Worker(t);return new sq(n)}catch(t){Se&&Ee.exception(t,"Failed to create compression worker")}}function aq(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?eq():""}function kb(){try{return"sessionStorage"in ft&&!!ft.sessionStorage}catch{return!1}}function lq(e){cq(),e.session=void 0}function cq(){if(kb())try{ft.sessionStorage.removeItem(pb)}catch{}}function qj(e){return e===void 0?!1:Math.random()<e}function Cb(e){if(kb())try{ft.sessionStorage.setItem(pb,JSON.stringify(e))}catch{}}function Gj(e){const t=Date.now(),n=e.id||wr(),r=e.started||t,s=e.lastActivity||t,o=e.segmentId||0,i=e.sampled,a=e.previousSessionId;return{id:n,started:r,lastActivity:s,segmentId:o,sampled:i,previousSessionId:a}}function uq(e,t){return qj(e)?"session":t?"buffer":!1}function rC({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){const s=uq(e,t),o=Gj({sampled:s,previousSessionId:r});return n&&Cb(o),o}function dq(){if(!kb())return null;try{const e=ft.sessionStorage.getItem(pb);if(!e)return null;const t=JSON.parse(e);return Se&&Ee.infoTick("Loading existing session"),Gj(t)}catch{return null}}function X_(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function Kj(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return X_(e.started,t,r)||X_(e.lastActivity,n,r)}function Yj(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!Kj(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function Iv({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},r){const s=r.stickySession&&dq();return s?Yj(s,{sessionIdleExpire:e,maxReplayDuration:t})?(Se&&Ee.infoTick("Session in sessionStorage is expired, creating new one..."),rC(r,{previousSessionId:s.id})):s:(Se&&Ee.infoTick("Creating new session"),rC(r,{previousSessionId:n}))}function fq(e){return e.type===Ue.Custom}function Tb(e,t,n){return Xj(e,t)?(Qj(e,t,n),!0):!1}function hq(e,t,n){return Xj(e,t)?Qj(e,t,n):Promise.resolve(null)}async function Qj(e,t,n){const{eventBuffer:r}=e;if(!r||r.waitForCheckout&&!n)return null;const s=e.recordingMode==="buffer";try{n&&s&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);const o=e.getOptions(),i=pq(t,o.beforeAddRecordingEvent);return i?await r.addEvent(i):void 0}catch(o){const i=o&&o instanceof Eb,a=i?"addEventSizeExceeded":"addEvent";if(i&&s)return r.clear(),r.waitForCheckout=!0,null;e.handleException(o),await e.stop({reason:a});const l=ze();l&&l.recordDroppedEvent("internal_sdk_error","replay")}}function Xj(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=bb(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(Se&&Ee.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1):!0}function pq(e,t){try{if(typeof t=="function"&&fq(e))return t(e)}catch(n){return Se&&Ee.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function Nb(e){return!e.type}function Z_(e){return e.type==="transaction"}function mq(e){return e.type==="replay_event"}function sC(e){return e.type==="feedback"}function gq(e){return(t,n)=>{if(!e.isEnabled()||!Nb(t)&&!Z_(t))return;const r=n==null?void 0:n.statusCode;if(!(!r||r<200||r>=300)){if(Z_(t)){yq(e,t);return}vq(e,t)}}}function yq(e,t){var r,s;const n=e.getContext();(s=(r=t.contexts)==null?void 0:r.trace)!=null&&s.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function vq(e,t){const n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||Uf(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(s){e.handleException(s)}})}function _q(e){return t=>{!e.isEnabled()||!Nb(t)||xq(e,t)}}function xq(e,t){var r,s,o;const n=(o=(s=(r=t.exception)==null?void 0:r.values)==null?void 0:s[0])==null?void 0:o.value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const i=Us({category:"replay.hydrate-error",data:{url:eu()}});zf(e,i)}}function wq(e){const t=ze();t&&t.on("beforeAddBreadcrumb",n=>bq(e,n))}function bq(e,t){if(!e.isEnabled()||!Zj(t))return;const n=Sq(t);n&&zf(e,n)}function Sq(e){return!Zj(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?Eq(e):Us(e)}function Eq(e){var s;const t=(s=e.data)==null?void 0:s.arguments;if(!Array.isArray(t)||t.length===0)return Us(e);let n=!1;const r=t.map(o=>{if(!o)return o;if(typeof o=="string")return o.length>Bh?(n=!0,`${o.slice(0,Bh)}`):o;if(typeof o=="object")try{const i=ds(o,7);return JSON.stringify(i).length>Bh?(n=!0,`${JSON.stringify(i,null,2).slice(0,Bh)}`):i}catch{}return o});return Us({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function Zj(e){return!!e.category}function kq(e,t){var n;return e.type||!e.exception||!e.exception.values||!e.exception.values.length?!1:!!((n=t.originalException)!=null&&n.__rrweb__)}function Jj(){const e=ct().getPropagationContext().dsc;e&&delete e.replay_id;const t=Yn();if(t){const n=Po(t);delete n.replay_id}}function Cq(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:Ue.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function Tq(e,t){return e.recordingMode!=="buffer"||t.message===mb||!t.exception||t.type?!1:qj(e.getOptions().errorSampleRate)}function Nq(e){return Object.assign((t,n)=>!e.isEnabled()||e.isPaused()?t:mq(t)?(delete t.breadcrumbs,t):!Nb(t)&&!Z_(t)&&!sC(t)?t:e.checkAndHandleExpiredSession()?sC(t)?(e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),Cq(e,t),t):kq(t,n)&&!e.getOptions()._experiments.captureExceptions?(Se&&Ee.log("Ignoring error from rrweb internals",t),null):((Tq(e,t)||e.recordingMode==="session")&&(t.tags={...t.tags,replayId:e.getSessionId()}),t):(Jj(),t),{id:"Replay"})}function Wg(e,t){return t.map(({type:n,start:r,end:s,name:o,data:i})=>{const a=e.throttledAddEvent({type:Ue.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:o,startTimestamp:r,endTimestamp:s,data:i}}});return typeof a=="string"?Promise.resolve(null):a})}function Rq(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function Aq(e){return t=>{if(!e.isEnabled())return;const n=Rq(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(Wg(e,[n]),!1)))}}function Iq(e,t){return Se&&e.getOptions()._experiments.traceInternals?!1:E6(t,ze())}function eP(e,t){e.isEnabled()&&t!==null&&(Iq(e,t.name)||e.addUpdate(()=>(Wg(e,[t]),!0)))}function qg(e){if(!e)return;const t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=hj(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function tP(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function Am(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function nP(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:s,method:o,statusCode:i,request:a,response:l}=t;return{type:e,start:n/1e3,end:r/1e3,name:s,data:{method:o,statusCode:i,request:a,response:l}}}function Zd(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function Ii(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:s,warnings:o}=jq(n);return r.body=s,o!=null&&o.length&&(r._meta={warnings:o}),r}function J_(e,t){return Object.entries(e).reduce((n,[r,s])=>{const o=r.toLowerCase();return t.includes(o)&&e[r]&&(n[o]=s),n},{})}function jq(e){if(!e||typeof e!="string")return{body:e};const t=e.length>Fk,n=Pq(e);if(t){const r=e.slice(0,Fk);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function Pq(e){const t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function Im(e,t){const n=Oq(e);return So(n,t)}function Oq(e,t=ft.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(ft.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function Mq(e,t,n){try{const r=await Lq(e,t,n),s=nP("resource.fetch",r);eP(n.replay,s)}catch(r){Se&&Ee.exception(r,"Failed to capture fetch breadcrumb")}}function Dq(e,t){const{input:n,response:r}=t,s=n?mj(n):void 0,o=qg(s),i=r?tP(r.headers.get("content-length")):void 0;o!==void 0&&(e.data.request_body_size=o),i!==void 0&&(e.data.response_body_size=i)}async function Lq(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:o=r}=t,{url:i,method:a,status_code:l=0,request_body_size:u,response_body_size:d}=e.data,f=Im(i,n.networkDetailAllowUrls)&&!Im(i,n.networkDetailDenyUrls),h=f?Fq(n,t.input,u):Zd(u),p=await $q(f,n,t.response,d);return{startTimestamp:s,endTimestamp:o,url:i,method:a,statusCode:l,request:h,response:p}}function Fq({networkCaptureBodies:e,networkRequestHeaders:t},n,r){const s=n?zq(n,t):{};if(!e)return Ii(s,r,void 0);const o=mj(n),[i,a]=pj(o,Ee),l=Ii(s,r,i);return a?Am(l,a):l}async function $q(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,s){if(!e&&s!==void 0)return Zd(s);const o=r?rP(r.headers,n):{};if(!r||!t&&s!==void 0)return Ii(o,s,void 0);const[i,a]=await Bq(r),l=Uq(i,{networkCaptureBodies:t,responseBodySize:s,captureDetails:e,headers:o});return a?Am(l,a):l}function Uq(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:s}){try{const o=e!=null&&e.length&&n===void 0?qg(e):n;return r?t?Ii(s,o,e):Ii(s,o,void 0):Zd(o)}catch(o){return Se&&Ee.exception(o,"Failed to serialize response body"),Ii(s,n,void 0)}}async function Bq(e){const t=Hq(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await Vq(t)]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(Se&&Ee.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(Se&&Ee.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function rP(e,t){const n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function zq(e,t){return e.length===1&&typeof e[0]!="string"?oC(e[0],t):e.length===2?oC(e[1],t):{}}function oC(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?rP(n,t):Array.isArray(n)?{}:J_(n,t):{}}function Hq(e){try{return e.clone()}catch(t){Se&&Ee.exception(t,"Failed to clone response body")}}function Vq(e){return new Promise((t,n)=>{const r=Uf(()=>n(new Error("Timeout while trying to read response body")),500);Wq(e).then(s=>t(s),s=>n(s)).finally(()=>clearTimeout(r))})}async function Wq(e){return await e.text()}async function qq(e,t,n){try{const r=Kq(e,t,n),s=nP("resource.xhr",r);eP(n.replay,s)}catch(r){Se&&Ee.exception(r,"Failed to capture xhr breadcrumb")}}function Gq(e,t){const{xhr:n,input:r}=t;if(!n)return;const s=qg(r),o=n.getResponseHeader("content-length")?tP(n.getResponseHeader("content-length")):Zq(n.response,n.responseType);s!==void 0&&(e.data.request_body_size=s),o!==void 0&&(e.data.response_body_size=o)}function Kq(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:o=r,input:i,xhr:a}=t,{url:l,method:u,status_code:d=0,request_body_size:f,response_body_size:h}=e.data;if(!l)return null;if(!a||!Im(l,n.networkDetailAllowUrls)||Im(l,n.networkDetailDenyUrls)){const E=Zd(f),k=Zd(h);return{startTimestamp:s,endTimestamp:o,url:l,method:u,statusCode:d,request:E,response:k}}const p=a[ga],y=p?J_(p.request_headers,n.networkRequestHeaders):{},g=J_(Yq(a),n.networkResponseHeaders),[w,_]=n.networkCaptureBodies?pj(i,Ee):[void 0],[v,x]=n.networkCaptureBodies?Qq(a):[void 0],b=Ii(y,f,w),S=Ii(g,h,v);return{startTimestamp:s,endTimestamp:o,url:l,method:u,statusCode:d,request:_?Am(b,_):b,response:x?Am(S,x):S}}function Yq(e){const t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{const[s,o]=r.split(": ");return o&&(n[s.toLowerCase()]=o),n},{}):{}}function Qq(e){const t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return Xq(e.response,e.responseType)}catch(n){t.push(n)}return Se&&Ee.warn("Failed to get xhr response body",...t),[void 0]}function Xq(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return Se&&Ee.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return Se&&Ee.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Zq(e,t){try{const n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return qg(n)}catch{return}}function Jq(e){const t=ze();try{const{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:s,networkRequestHeaders:o,networkResponseHeaders:i}=e.getOptions(),a={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:s,networkRequestHeaders:o,networkResponseHeaders:i};t&&t.on("beforeAddBreadcrumb",(l,u)=>e7(a,l,u))}catch{}}function e7(e,t,n){if(t.data)try{t7(t)&&r7(n)&&(Gq(t,n),qq(t,n,e)),n7(t)&&s7(n)&&(Dq(t,n),Mq(t,n,e))}catch(r){Se&&Ee.exception(r,"Error when enriching network breadcrumb")}}function t7(e){return e.category==="xhr"}function n7(e){return e.category==="fetch"}function r7(e){return e==null?void 0:e.xhr}function s7(e){return e==null?void 0:e.response}function o7(e,{autoFlushOnFeedback:t}){const n=ze();uj(O9(e)),Ug(Aq(e)),wq(e),Jq(e);const r=Nq(e);Zz(r),n&&(n.on("beforeSendEvent",_q(e)),n.on("afterSendEvent",gq(e)),n.on("createDsc",s=>{const o=e.getSessionId();o&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(s.replay_id=o)}),n.on("spanStart",s=>{e.lastActiveSpan=s}),n.on("spanEnd",s=>{e.lastActiveSpan=s}),n.on("beforeSendFeedback",async(s,o)=>{var a;const i=e.getSessionId();o!=null&&o.includeReplay&&e.isEnabled()&&i&&((a=s.contexts)!=null&&a.feedback)&&(s.contexts.feedback.source==="api"&&t&&await e.flush(),s.contexts.feedback.replay_id=i)}),t&&n.on("openFeedbackWidget",async()=>{await e.flush()}))}async function i7(e){try{return Promise.all(Wg(e,[a7(ft.performance.memory)]))}catch{return[]}}function a7(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,s=Date.now()/1e3;return{type:"memory",name:"memory",start:s,end:s,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function l7(e,t,n){return A6(e,t,{...n,setTimeoutImpl:Uf})}const Or=Ye.navigator;function c7(){return/iPhone|iPad|iPod/i.test((Or==null?void 0:Or.userAgent)??"")||/Macintosh/i.test((Or==null?void 0:Or.userAgent)??"")&&(Or!=null&&Or.maxTouchPoints)&&(Or==null?void 0:Or.maxTouchPoints)>1?{sampling:{mousemove:!1}}:{}}function u7(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){Se&&Ee.warn("Received replay event after session expired.");return}const s=r||!t;t=!0,e.clickDetector&&R9(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&s&&e.setInitialState(),!Tb(e,n,s))return!0;if(!s)return!1;const o=e.session;if(f7(e,s),e.recordingMode==="buffer"&&o&&e.eventBuffer){const i=e.eventBuffer.getEarliestTimestamp();i&&(Se&&Ee.info(`Updating session start time to earliest event in buffer to ${new Date(i)}`),o.started=i,e.getOptions().stickySession&&Cb(o))}return o!=null&&o.previousSessionId||e.recordingMode==="session"&&e.flush(),!0})}}function d7(e){const t=e.getOptions();return{type:Ue.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function f7(e,t){!t||!e.session||e.session.segmentId!==0||Tb(e,d7(e),!1)}function h7(e,t,n,r){return nl(yI(e,ib(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function p7({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{const o=new TextEncoder().encode(r);n=new Uint8Array(o.length+e.length),n.set(o),n.set(e,o.length)}return n}async function m7({client:e,scope:t,replayId:n,event:r}){const s=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,o={event_id:n,integrations:s};e.emit("preprocessEvent",r,o);const i=await bI(e.getOptions(),r,o,t,e,Zr());if(!i)return null;e.emit("postprocessEvent",i,o),i.platform=i.platform||"javascript";const a=e.getSdkMetadata(),{name:l,version:u}=(a==null?void 0:a.sdk)||{};return i.sdk={...i.sdk,name:l||"sentry.javascript.unknown",version:u||"0.0.0"},i}async function g7({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:s,session:o}){const i=p7({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:l,traceIds:u,initialTimestamp:d}=r,f=ze(),h=ct(),p=f==null?void 0:f.getTransport(),y=f==null?void 0:f.getDsn();if(!f||!p||!y||!o.sampled)return Oo({});const g={type:GV,replay_start_timestamp:d/1e3,timestamp:s/1e3,error_ids:l,trace_ids:u,urls:a,replay_id:t,segment_id:n,replay_type:o.sampled},w=await m7({scope:h,client:f,replayId:t,event:g});if(!w)return f.recordDroppedEvent("event_processor","replay"),Se&&Ee.info("An event processor returned `null`, will not send event."),Oo({});delete w.sdkProcessingMetadata;const _=h7(w,i,y,f.getOptions().tunnel);let v;try{v=await p.send(_)}catch(b){const S=new Error(mb);try{S.cause=b}catch{}throw S}if(typeof v.statusCode=="number"&&(v.statusCode<200||v.statusCode>=300))throw new sP(v.statusCode);const x=MI({},v);if(OI(x,"replay"))throw new Rb(x);return v}class sP extends Error{constructor(t){super(`Transport returned status code ${t}`)}}class Rb extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}}async function oP(e,t={count:0,interval:JV}){const{recordingData:n,onError:r}=e;if(n.length)try{return await g7(e),!0}catch(s){if(s instanceof sP||s instanceof Rb)throw s;if(EI("Replays",{_retryCount:t.count}),r&&r(s),t.count>=eW){const o=new Error(`${mb} - max retries exceeded`);try{o.cause=s}catch{}throw o}return t.interval*=++t.count,new Promise((o,i)=>{Uf(async()=>{try{await oP(e,t),o(!0)}catch(a){i(a)}},t.interval)})}}const iP="__THROTTLED",y7="__SKIPPED";function v7(e,t,n){const r=new Map,s=a=>{const l=a-n;r.forEach((u,d)=>{d<l&&r.delete(d)})},o=()=>[...r.values()].reduce((a,l)=>a+l,0);let i=!1;return(...a)=>{const l=Math.floor(Date.now()/1e3);if(s(l),o()>=t){const d=i;return i=!0,d?y7:iP}i=!1;const u=r.get(l)||0;return r.set(l,u+1),e(...a)}}class _7{constructor({options:t,recordingOptions:n}){this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:KV,sessionIdleExpire:YV},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=l7(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=v7((i,a)=>hq(this,i,a),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:s}=this.getOptions(),o=r?{threshold:Math.min(tW,r),timeout:r,scrollTimeout:nW,ignoreSelector:s?s.join(","):""}:void 0;if(o&&(this.clickDetector=new k9(this,o)),Se){const i=t._experiments;Ee.setConfig({captureExceptions:!!i.captureExceptions,traceInternals:!!i.traceInternals})}this._handleVisibilityChange=()=>{ft.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{const i=Us({category:"ui.blur"});this._doChangeToBackgroundTasks(i)},this._handleWindowFocus=()=>{const i=Us({category:"ui.focus"});this._doChangeToForegroundTasks(i)},this._handleKeyboardEvent=i=>{F9(this,i)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(t){Se&&Ee.exception(t),this._options.onError&&this._options.onError(t)}initializeSampling(t){const{errorSampleRate:n,sessionSampleRate:r}=this._options,s=n<=0&&r<=0;if(this._requiresManualStart=s,!s){if(this._initializeSessionForSampling(t),!this.session){Se&&Ee.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",Se&&Ee.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){Se&&Ee.info("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){Se&&Ee.info("Buffering is in progress, call `flush()` to save the replay");return}Se&&Ee.infoTick("Starting replay in session mode"),this._updateUserActivity();const t=Iv({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this._initializeRecording()}startBuffering(){if(this._isEnabled){Se&&Ee.info("Buffering is in progress, call `flush()` to save the replay");return}Se&&Ee.infoTick("Starting replay in buffer mode");const t=Iv({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const t=this._canvas;this._stopRecording=Eo({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:ZV}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:u7(this),...c7(),onMutation:this._onMutationHandler.bind(this),...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this.handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this.handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){var r;if(this._isEnabled){this._isEnabled=!1;try{Se&&Ee.info(`Stopping Replay${n?` triggered by ${n}`:""}`),Jj(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),(r=this.eventBuffer)==null||r.destroy(),this.eventBuffer=null,lq(this)}catch(s){this.handleException(s)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),Se&&Ee.info("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),Se&&Ee.info("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const n=Date.now();Se&&Ee.info("Converting buffer to session"),await this.flushImmediate();const r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){const n=t();this.recordingMode!=="buffer"&&n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){var t;return(t=this.session)==null?void 0:t.id}checkAndHandleExpiredSession(){if(this._lastActivity&&X_(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const t=`${ft.location.pathname}${ft.location.hash}${ft.location.search}`,n=`${ft.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){const r=this._throttledAddEvent(t,n);if(r===iP){const s=Us({category:"replay.throttled"});this.addUpdate(()=>!Tb(this,{type:v9,timestamp:s.timestamp||0,data:{tag:"breadcrumb",payload:s,metric:!0}}))}return r}getCurrentRoute(){const t=this.lastActiveSpan||Yn(),n=t&&An(t),s=(n&&st(n).data||{})[$s];if(!(!n||!s||!["route","custom"].includes(s)))return st(n).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=oq({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(t){const n=this._options.errorSampleRate>0,r=Iv({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;const t=this.session;return Yj(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{ft.document.addEventListener("visibilitychange",this._handleVisibilityChange),ft.addEventListener("blur",this._handleWindowBlur),ft.addEventListener("focus",this._handleWindowFocus),ft.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(o7(this,{autoFlushOnFeedback:this._options._experiments.autoFlushOnFeedback}),this._hasInitializedCoreListeners=!0)}catch(t){this.handleException(t)}this._performanceCleanupCallback=Z9(this)}_removeListeners(){try{ft.document.removeEventListener("visibilitychange",this._handleVisibilityChange),ft.removeEventListener("blur",this._handleWindowBlur),ft.removeEventListener("focus",this._handleWindowFocus),ft.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this.handleException(t)}}_doChangeToBackgroundTasks(t){!this.session||Kj(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){Se&&Ee.info("Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:Ue.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=z9(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const n=this._context.initialTimestamp/1e3;t=t.filter(r=>r.start>=n)}return Promise.all(Wg(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:n}=this;if(!t||!n||this._requiresManualStart||t.segmentId)return;const r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){var n;const t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){Se&&Ee.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!!((n=this.eventBuffer)!=null&&n.hasEvents)&&(await i7(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const r=Date.now();if(r-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const s=this._popEventContext(),o=this.session.segmentId++;this._maybeSaveSession();const i=await this.eventBuffer.finish();await oP({replayId:t,recordingData:i,segmentId:o,eventContext:s,session:this.session,timestamp:r,onError:a=>this.handleException(a)})}catch(r){this.handleException(r),this.stop({reason:"sendReplay"});const s=ze();if(s){const o=r instanceof Rb?"ratelimit_backoff":"send_error";s.recordDroppedEvent(o,"replay")}}}async _flush({force:t=!1}={}){if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){Se&&Ee.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;const n=this.session.started,s=Date.now()-n;this._debouncedFlush.cancel();const o=s<this._options.minReplayDuration,i=s>this._options.maxReplayDuration+5e3;if(o||i){Se&&Ee.info(`Session duration (${Math.floor(s/1e3)}s) is too ${o?"short":"long"}, not sending replay.`),o&&this._debouncedFlush();return}const a=this.eventBuffer;a&&this.session.segmentId===0&&!a.hasCheckout&&Se&&Ee.info("Flushing initial segment without checkout.");const l=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(u){this.handleException(u)}finally{this._flushLock=void 0,l&&this._debouncedFlush()}}_maybeSaveSession(){this.session&&this._options.stickySession&&Cb(this.session)}_onMutationHandler(t){const n=t.length,r=this._options.mutationLimit,s=this._options.mutationBreadcrumbLimit,o=r&&n>r;if(n>s||o){const i=Us({category:"replay.mutations",data:{count:n,limit:o}});this._createCustomBreadcrumb(i)}return o?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}function Nu(e,t){return[...e,...t].join(",")}function x7({mask:e,unmask:t,block:n,unblock:r,ignore:s}){const o=["base","iframe[srcdoc]:not([src])"],i=Nu(e,[".sentry-mask","[data-sentry-mask]"]),a=Nu(t,[]);return{maskTextSelector:i,unmaskTextSelector:a,blockSelector:Nu(n,[".sentry-block","[data-sentry-block]",...o]),unblockSelector:Nu(r,[]),ignoreSelector:Nu(s,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function w7({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:s,value:o}){return!r||s.unmaskTextSelector&&e.matches(s.unmaskTextSelector)?o:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?o.replace(/[\S]/g,"*"):o}const iC='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',b7=["content-length","content-type","accept"];let aC=!1;const S7=e=>new E7(e);class E7{constructor({flushMinDelay:t=QV,flushMaxDelay:n=XV,minReplayDuration:r=rW,maxReplayDuration:s=$k,stickySession:o=!0,useCompression:i=!0,workerUrl:a,_experiments:l={},maskAllText:u=!0,maskAllInputs:d=!0,blockAllMedia:f=!0,mutationBreadcrumbLimit:h=750,mutationLimit:p=1e4,slowClickTimeout:y=7e3,slowClickIgnoreSelectors:g=[],networkDetailAllowUrls:w=[],networkDetailDenyUrls:_=[],networkCaptureBodies:v=!0,networkRequestHeaders:x=[],networkResponseHeaders:b=[],mask:S=[],maskAttributes:E=["title","placeholder","aria-label"],unmask:k=[],block:C=[],unblock:T=[],ignore:j=[],maskFn:D,beforeAddRecordingEvent:P,beforeErrorSampling:U,onError:B}={}){this.name="Replay";const L=x7({mask:S,unmask:k,block:C,unblock:T,ignore:j});if(this._recordingOptions={maskAllInputs:d,maskAllText:u,maskInputOptions:{password:!0},maskTextFn:D,maskInputFn:D,maskAttributeFn:($,q,A)=>w7({maskAttributes:E,maskAllText:u,privacyOptions:L,key:$,value:q,el:A}),...L,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:$=>{try{$.__rrweb__=!0}catch{}},recordCrossOriginIframes:!!l.recordCrossOriginIframes},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,sW),maxReplayDuration:Math.min(s,$k),stickySession:o,useCompression:i,workerUrl:a,blockAllMedia:f,maskAllInputs:d,maskAllText:u,mutationBreadcrumbLimit:h,mutationLimit:p,slowClickTimeout:y,slowClickIgnoreSelectors:g,networkDetailAllowUrls:w,networkDetailDenyUrls:_,networkCaptureBodies:v,networkRequestHeaders:lC(x),networkResponseHeaders:lC(b),beforeAddRecordingEvent:P,beforeErrorSampling:U,onError:B,_experiments:l},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${iC}`:iC),this._isInitialized&&Rk())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return aC}set _isInitialized(t){aC=t}afterAllSetup(t){!Rk()||this._replay||(this._setup(t),this._initialize(t))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){var t;if((t=this._replay)!=null&&t.isEnabled())return this._replay.getSessionId()}getRecordingMode(){var t;if((t=this._replay)!=null&&t.isEnabled())return this._replay.recordingMode}_initialize(t){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(t),this._replay.initializeSampling())}_setup(t){const n=k7(this._initialOptions,t);this._replay=new _7({options:n,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(t){try{const n=t.getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}}function k7(e,t){const n=t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...e},s=Ba(n.replaysSessionSampleRate),o=Ba(n.replaysOnErrorSampleRate);return s==null&&o==null&&el(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),s!=null&&(r.sessionSampleRate=s),o!=null&&(r.errorSampleRate=o),r}function lC(e){return[...b7,...e.map(t=>t.toLowerCase())]}const cC=new WeakMap,jv=new Map,aP={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function C7(e,t){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:s,shouldCreateSpanForRequest:o,enableHTTPTimings:i,tracePropagationTargets:a,onRequestSpanStart:l}={...aP,...t},u=typeof o=="function"?o:h=>!0,d=h=>R7(h,a),f={};n&&(e.addEventProcessor(h=>(h.type==="transaction"&&h.spans&&h.spans.forEach(p=>{if(p.op==="http.client"){const y=jv.get(p.span_id);y&&(p.timestamp=y/1e3,jv.delete(p.span_id))}}),h)),s&&h8(h=>{if(h.response){const p=cC.get(h.response);p&&h.endTimestamp&&jv.set(p,h.endTimestamp)}}),VI(h=>{const p=s8(h,u,d,f);if(h.response&&h.fetchData.__span&&cC.set(h.response,h.fetchData.__span),p){const y=lP(h.fetchData.url),g=y?ja(y).host:void 0;p.setAttributes({"http.url":y,"server.address":g}),i&&uC(p),l==null||l(p,{headers:h.headers})}})),r&&fj(h=>{var y;const p=A7(h,u,d,f);if(p){i&&uC(p);let g;try{g=new Headers((y=h.xhr.__sentry_xhr_v3__)==null?void 0:y.request_headers)}catch{}l==null||l(p,{headers:g})}})}function T7(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function uC(e){const{url:t}=st(e).data;if(!t||typeof t!="string")return;const n=Ic("resource",({entries:r})=>{r.forEach(s=>{T7(s)&&s.name.endsWith(t)&&(N7(s).forEach(i=>e.setAttribute(...i)),setTimeout(n))})})}function As(e=0){return((Rr()||performance.timeOrigin)+e)/1e3}function N7(e){const{name:t,version:n}=cj(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),Rr()?[...r,["http.request.redirect_start",As(e.redirectStart)],["http.request.fetch_start",As(e.fetchStart)],["http.request.domain_lookup_start",As(e.domainLookupStart)],["http.request.domain_lookup_end",As(e.domainLookupEnd)],["http.request.connect_start",As(e.connectStart)],["http.request.secure_connection_start",As(e.secureConnectionStart)],["http.request.connection_end",As(e.connectEnd)],["http.request.request_start",As(e.requestStart)],["http.request.response_start",As(e.responseStart)],["http.request.response_end",As(e.responseEnd)]]:r}function R7(e,t){const n=eu();if(n){let r,s;try{r=new URL(e,n),s=new URL(n).origin}catch{return!1}const o=r.origin===s;return t?So(r.toString(),t)||o&&So(r.pathname,t):o}else{const r=!!e.match(/^\/(?!\/)/);return t?So(e,t):r}}function A7(e,t,n,r){const s=e.xhr,o=s==null?void 0:s[ga];if(!s||s.__sentry_own_request__||!o)return;const{url:i,method:a}=o,l=Li()&&t(i);if(e.endTimestamp&&l){const g=s.__sentry_xhr_span_id__;if(!g)return;const w=r[g];w&&o.status_code!==void 0&&(tI(w,o.status_code),w.end(),delete r[g]);return}const u=lP(i),d=ja(u||i),f=r8(i),h=!!Yn(),p=l&&h?Df({name:`${a} ${f}`,attributes:{url:i,type:"xhr","http.method":a,"http.url":u,"server.address":d==null?void 0:d.host,[hn]:"auto.http.browser",[Ua]:"http.client",...(d==null?void 0:d.search)&&{"http.query":d==null?void 0:d.search},...(d==null?void 0:d.hash)&&{"http.fragment":d==null?void 0:d.hash}}}):new za;s.__sentry_xhr_span_id__=p.spanContext().spanId,r[s.__sentry_xhr_span_id__]=p,n(i)&&I7(s,Li()&&h?p:void 0);const y=ze();return y&&y.emit("beforeOutgoingRequestSpan",p,e),p}function I7(e,t){const{"sentry-trace":n,baggage:r}=LI({span:t});n&&j7(e,n,r)}function j7(e,t,n){var s;const r=(s=e.__sentry_xhr_v3__)==null?void 0:s.request_headers;if(!(r!=null&&r["sentry-trace"]))try{if(e.setRequestHeader("sentry-trace",t),n){const o=r==null?void 0:r.baggage;(!o||!P7(o))&&e.setRequestHeader("baggage",n)}}catch{}}function P7(e){return e.split(",").some(t=>t.trim().startsWith("sentry-"))}function lP(e){try{return new URL(e,We.location.origin).href}catch{return}}function O7(){We.document?We.document.addEventListener("visibilitychange",()=>{const e=Yn();if(!e)return;const t=An(e);if(We.document.hidden&&t){const n="cancelled",{op:r,status:s}=st(t);Cr&&J.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),s||t.setStatus({code:an,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):Cr&&J.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const M7=3600,cP="sentry_previous_trace",D7="sentry.previous_trace";function L7(e,{linkPreviousTrace:t,consistentTraceSampling:n}){const r=t==="session-storage";let s=r?U7():void 0;e.on("spanStart",i=>{if(An(i)!==i)return;const a=ct().getPropagationContext();s=F7(s,i,a),r&&$7(s)});let o=!0;n&&e.on("beforeSampling",i=>{if(!s)return;const a=ct(),l=a.getPropagationContext();if(o&&l.parentSpanId){o=!1;return}a.setPropagationContext({...l,dsc:{...l.dsc,sample_rate:String(s.sampleRate),sampled:String(ex(s.spanContext))},sampleRand:s.sampleRand}),i.parentSampled=ex(s.spanContext),i.parentSampleRate=s.sampleRate,i.spanAttributes={...i.spanAttributes,[JA]:s.sampleRate}})}function F7(e,t,n){const r=st(t);function s(){var a,l;try{return Number((a=n.dsc)==null?void 0:a.sample_rate)??Number((l=r.data)==null?void 0:l[tb])}catch{return 0}}const o={spanContext:t.spanContext(),startTimestamp:r.start_timestamp,sampleRate:s(),sampleRand:n.sampleRand};if(!e)return o;const i=e.spanContext;return i.traceId===r.trace_id?e:(Date.now()/1e3-e.startTimestamp<=M7&&(Cr&&J.info(`Adding previous_trace ${i} link to span ${{op:r.op,...t.spanContext()}}`),t.addLink({context:i,attributes:{[I5]:"previous_trace"}}),t.setAttribute(D7,`${i.traceId}-${i.spanId}-${ex(i)?1:0}`)),o)}function $7(e){try{We.sessionStorage.setItem(cP,JSON.stringify(e))}catch(t){Cr&&J.warn("Could not store previous trace in sessionStorage",t)}}function U7(){var e;try{const t=(e=We.sessionStorage)==null?void 0:e.getItem(cP);return JSON.parse(t)}catch{return}}function ex(e){return e.traceFlags===1}const B7="BrowserTracing",z7={...xp,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],linkPreviousTrace:"in-memory",consistentTraceSampling:!1,_experiments:{},...aP},H7=(e={})=>{const t={name:void 0,source:void 0},n=We.document,{enableInp:r,enableLongTask:s,enableLongAnimationFrame:o,_experiments:{enableInteractions:i,enableStandaloneClsSpans:a},beforeStartSpan:l,idleTimeout:u,finalTimeout:d,childSpanTimeout:f,markBackgroundSpan:h,traceFetch:p,traceXHR:y,trackFetchStreamPerformance:g,shouldCreateSpanForRequest:w,enableHTTPTimings:_,ignoreResourceSpans:v,ignorePerformanceApiSpans:x,instrumentPageLoad:b,instrumentNavigation:S,linkPreviousTrace:E,consistentTraceSampling:k,onRequestSpanStart:C}={...z7,...e};let T;function j(D,P){const U=P.op==="pageload",B=l?l(P):P,L=B.attributes||{};P.name!==B.name&&(L[$s]="custom",B.attributes=L),t.name=B.name,t.source=L[$s];const $=wI(B,{idleTimeout:u,finalTimeout:d,childSpanTimeout:f,disableAutoFinish:U,beforeSpanEnd:A=>{T==null||T(),kH(A,{recordClsOnPageloadSpan:!a,ignoreResourceSpans:v,ignorePerformanceApiSpans:x}),fC(D,void 0);const F=ct(),G=F.getPropagationContext();F.setPropagationContext({...G,traceId:$.spanContext().traceId,sampled:tl($),dsc:Po(A)})}});fC(D,$);function q(){n&&["interactive","complete"].includes(n.readyState)&&D.emit("idleSpanEnableAutoFinish",$)}U&&n&&(n.addEventListener("readystatechange",()=>{q()}),q())}return{name:B7,setup(D){Y5(),T=yH({recordClsStandaloneSpans:a||!1}),r&&WH(),o&&Ye.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?_H():s&&vH(),i&&xH();function P(){const U=Gg(D);U&&!st(U).timestamp&&(Cr&&J.log(`[Tracing] Finishing current active span with op: ${st(U).op}`),U.setAttribute(gm,"cancelled"),U.end())}D.on("startNavigationSpan",U=>{if(ze()!==D)return;P(),Zr().setPropagationContext({traceId:Di(),sampleRand:Math.random()});const B=ct();B.setPropagationContext({traceId:Di(),sampleRand:Math.random()}),B.setSDKProcessingMetadata({normalizedRequest:void 0}),j(D,{op:"navigation",...U})}),D.on("startPageLoadSpan",(U,B={})=>{if(ze()!==D)return;P();const L=B.sentryTrace||dC("sentry-trace"),$=B.baggage||dC("baggage"),q=B5(L,$),A=ct();A.setPropagationContext(q),A.setSDKProcessingMetadata({normalizedRequest:F_()}),j(D,{op:"pageload",...U})})},afterAllSetup(D){let P=eu();if(E!=="off"&&L7(D,{linkPreviousTrace:E,consistentTraceSampling:k}),We.location){if(b){const U=Rr();V7(D,{name:We.location.pathname,startTime:U?U/1e3:void 0,attributes:{[$s]:"url",[hn]:"auto.pageload.browser"}})}S&&Ug(({to:U,from:B})=>{if(B===void 0&&(P==null?void 0:P.indexOf(U))!==-1){P=void 0;return}P=void 0;const L=zI(U);W7(D,{name:(L==null?void 0:L.pathname)||We.location.pathname,attributes:{[$s]:"url",[hn]:"auto.navigation.browser"}}),ct().setSDKProcessingMetadata({normalizedRequest:{...F_(),url:U}})})}h&&O7(),i&&q7(D,u,d,f,t),r&&KH(),C7(D,{traceFetch:p,traceXHR:y,trackFetchStreamPerformance:g,tracePropagationTargets:D.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:w,enableHTTPTimings:_,onRequestSpanStart:C})}}};function V7(e,t,n){return e.emit("startPageLoadSpan",t,n),ct().setTransactionName(t.name),Gg(e)}function W7(e,t){return e.emit("startNavigationSpan",t),ct().setTransactionName(t.name),Gg(e)}function dC(e){const t=We.document,n=t==null?void 0:t.querySelector(`meta[name=${e}]`);return(n==null?void 0:n.getAttribute("content"))||void 0}function q7(e,t,n,r,s){const o=We.document;let i;const a=()=>{const l="ui.action.click",u=Gg(e);if(u){const d=st(u).op;if(["navigation","pageload"].includes(d)){Cr&&J.warn(`[Tracing] Did not create ${l} span because a pageload or navigation span is in progress.`);return}}if(i&&(i.setAttribute(gm,"interactionInterrupted"),i.end(),i=void 0),!s.name){Cr&&J.warn(`[Tracing] Did not create ${l} transaction because _latestRouteName is missing.`);return}i=wI({name:s.name,op:l,attributes:{[$s]:s.source||"url"}},{idleTimeout:t,finalTimeout:n,childSpanTimeout:r})};o&&addEventListener("click",a,{once:!1,capture:!0})}const uP="_sentry_idleSpan";function Gg(e){return e[uP]}function fC(e,t){kr(e,uP,t)}function G7(e){const t={...e};return DI(t,"react"),EI("react",{version:m.version}),qV(t)}function K7(e){const t=e.match(/^([^.]+)/);return t!==null&&parseInt(t[0])>=17}function Y7(e,t){const n=new WeakSet;function r(s,o){if(!n.has(s)){if(s.cause)return n.add(s),r(s.cause,o);s.cause=o}}r(e,t)}function Q7(e,{componentStack:t},n){if(K7(m.version)&&jg(e)&&t){const r=new Error(e.message);r.name=`React ErrorBoundary ${e.name}`,r.stack=t,Y7(e,r)}return nu(r=>(r.setContext("react",{componentStack:t}),ma(e,n)))}var dP={exports:{}},at={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pn=typeof Symbol=="function"&&Symbol.for,Ab=pn?Symbol.for("react.element"):60103,Ib=pn?Symbol.for("react.portal"):60106,Kg=pn?Symbol.for("react.fragment"):60107,Yg=pn?Symbol.for("react.strict_mode"):60108,Qg=pn?Symbol.for("react.profiler"):60114,Xg=pn?Symbol.for("react.provider"):60109,Zg=pn?Symbol.for("react.context"):60110,jb=pn?Symbol.for("react.async_mode"):60111,Jg=pn?Symbol.for("react.concurrent_mode"):60111,ey=pn?Symbol.for("react.forward_ref"):60112,ty=pn?Symbol.for("react.suspense"):60113,X7=pn?Symbol.for("react.suspense_list"):60120,ny=pn?Symbol.for("react.memo"):60115,ry=pn?Symbol.for("react.lazy"):60116,Z7=pn?Symbol.for("react.block"):60121,J7=pn?Symbol.for("react.fundamental"):60117,eG=pn?Symbol.for("react.responder"):60118,tG=pn?Symbol.for("react.scope"):60119;function Ar(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Ab:switch(e=e.type,e){case jb:case Jg:case Kg:case Qg:case Yg:case ty:return e;default:switch(e=e&&e.$$typeof,e){case Zg:case ey:case ry:case ny:case Xg:return e;default:return t}}case Ib:return t}}}function fP(e){return Ar(e)===Jg}at.AsyncMode=jb;at.ConcurrentMode=Jg;at.ContextConsumer=Zg;at.ContextProvider=Xg;at.Element=Ab;at.ForwardRef=ey;at.Fragment=Kg;at.Lazy=ry;at.Memo=ny;at.Portal=Ib;at.Profiler=Qg;at.StrictMode=Yg;at.Suspense=ty;at.isAsyncMode=function(e){return fP(e)||Ar(e)===jb};at.isConcurrentMode=fP;at.isContextConsumer=function(e){return Ar(e)===Zg};at.isContextProvider=function(e){return Ar(e)===Xg};at.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ab};at.isForwardRef=function(e){return Ar(e)===ey};at.isFragment=function(e){return Ar(e)===Kg};at.isLazy=function(e){return Ar(e)===ry};at.isMemo=function(e){return Ar(e)===ny};at.isPortal=function(e){return Ar(e)===Ib};at.isProfiler=function(e){return Ar(e)===Qg};at.isStrictMode=function(e){return Ar(e)===Yg};at.isSuspense=function(e){return Ar(e)===ty};at.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Kg||e===Jg||e===Qg||e===Yg||e===ty||e===X7||typeof e=="object"&&e!==null&&(e.$$typeof===ry||e.$$typeof===ny||e.$$typeof===Xg||e.$$typeof===Zg||e.$$typeof===ey||e.$$typeof===J7||e.$$typeof===eG||e.$$typeof===tG||e.$$typeof===Z7)};at.typeOf=Ar;dP.exports=at;var nG=dP.exports,Pb=nG,rG={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},sG={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},oG={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},hP={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Ob={};Ob[Pb.ForwardRef]=oG;Ob[Pb.Memo]=hP;function hC(e){return Pb.isMemo(e)?hP:Ob[e.$$typeof]||rG}var iG=Object.defineProperty,aG=Object.getOwnPropertyNames,pC=Object.getOwnPropertySymbols,lG=Object.getOwnPropertyDescriptor,cG=Object.getPrototypeOf,mC=Object.prototype;function pP(e,t,n){if(typeof t!="string"){if(mC){var r=cG(t);r&&r!==mC&&pP(e,r,n)}var s=aG(t);pC&&(s=s.concat(pC(t)));for(var o=hC(e),i=hC(t),a=0;a<s.length;++a){var l=s[a];if(!sG[l]&&!(n&&n[l])&&!(i&&i[l])&&!(o&&o[l])){var u=lG(t,l);try{iG(e,l,u)}catch{}}}}return e}var mP=pP;const gP=Vc(mP),uG=VT({__proto__:null,default:gP},[mP]),dG=gP||uG,fG=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,hG="unknown",Pv={componentStack:null,error:null,eventId:null};let pG=class extends m.Component{constructor(t){super(t),this.state=Pv,this._openFallbackReportDialog=!0;const n=ze();n&&t.showDialog&&(this._openFallbackReportDialog=!1,this._cleanupHook=n.on("afterSendEvent",r=>{!r.type&&this._lastEventId&&r.event_id===this._lastEventId&&Lk({...t.dialogOptions,eventId:this._lastEventId})}))}componentDidCatch(t,n){const{componentStack:r}=n,{beforeCapture:s,onError:o,showDialog:i,dialogOptions:a}=this.props;nu(l=>{s&&s(l,t,r);const u=this.props.handled!=null?this.props.handled:!!this.props.fallback,d=Q7(t,n,{mechanism:{handled:u}});o&&o(t,r,d),i&&(this._lastEventId=d,this._openFallbackReportDialog&&Lk({...a,eventId:d})),this.setState({error:t,componentStack:r,eventId:d})})}componentDidMount(){const{onMount:t}=this.props;t&&t()}componentWillUnmount(){const{error:t,componentStack:n,eventId:r}=this.state,{onUnmount:s}=this.props;s&&(this.state===Pv?s(null,null,null):s(t,n,r)),this._cleanupHook&&(this._cleanupHook(),this._cleanupHook=void 0)}resetErrorBoundary(){const{onReset:t}=this.props,{error:n,componentStack:r,eventId:s}=this.state;t&&t(n,r,s),this.setState(Pv)}render(){const{fallback:t,children:n}=this.props,r=this.state;if(r.componentStack===null)return typeof n=="function"?n():n;const s=typeof t=="function"?m.createElement(t,{error:r.error,componentStack:r.componentStack,resetError:()=>this.resetErrorBoundary(),eventId:r.eventId}):t;return m.isValidElement(s)?s:(t&&fG&&J.warn("fallback did not produce a valid ReactElement"),null)}};function mG(e,t){const n=e.displayName||e.name||hG,r=s=>m.createElement(pG,{...t},m.createElement(e,{...s}));return r.displayName=`errorBoundary(${n})`,dG(r,e),r}const gC=e=>{var t,n;Yz(e?{id:e.id,email:e.email,username:((t=e.user_metadata)==null?void 0:t.full_name)||((n=e.email)==null?void 0:n.split("@")[0])}:null)},yC=(e,t="user",n="info",r)=>{Mo({message:e,category:t,level:n,data:r,timestamp:Date.now()/1e3})},Ge=vr,Mb=!!Ge;Mb?(console.log("Supabase client initialized successfully"),Ge.from("categories").select("count").limit(1).then(({data:e,error:t})=>{t?console.error("Supabase connection test failed:",t):console.log("Supabase connection test successful")})):console.error("Supabase client could not be initialized. Please check your Supabase integration.");const gG=()=>{const[e,t]=m.useState(!1),[n,r]=m.useState(!1),[s,o]=m.useState(!1),i=m.useCallback(async u=>{console.log("useUserRoles: Fetching roles for user",u);try{const{data:d,error:f}=await Ge.from("user_roles").select("role").eq("user_id",u);if(f)return console.error("useUserRoles: Error fetching roles:",f),[];const h=(d==null?void 0:d.map(p=>p.role))||[];return console.log("useUserRoles: User roles fetched:",h),h}catch(d){return console.error("useUserRoles: Role fetch failed:",d),[]}},[]),a=m.useCallback(u=>{const d=u.includes("admin"),f=u.includes("moderator");t(d),r(f),o(d||f),console.log("useUserRoles: Role states updated",{isAdmin:d,isModerator:f,isModeratorOrAdmin:d||f})},[]),l=m.useCallback(()=>{t(!1),r(!1),o(!1)},[]);return{isAdmin:e,isModerator:n,isModeratorOrAdmin:s,fetchUserRoles:i,updateRoleStates:a,clearRoles:l}},yG=()=>{const[e,t]=m.useState(null),n=m.useCallback(async s=>{console.log("useUserProfile: Fetching profile for",s);try{const{data:o,error:i}=await Ge.from("profiles").select("*").eq("id",s).single();i?(console.error("useUserProfile: Error fetching profile:",i),t(null)):(console.log("useUserProfile: Profile fetched successfully"),t(o))}catch(o){console.error("useUserProfile: Profile fetch failed:",o),t(null)}},[]),r=m.useCallback(()=>{t(null)},[]);return{profile:e,fetchProfile:n,clearProfile:r}},vG=()=>{const[e,t]=m.useState(null),[n,r]=m.useState(!0),{isAdmin:s,isModerator:o,isModeratorOrAdmin:i,fetchUserRoles:a,updateRoleStates:l,clearRoles:u}=gG(),{profile:d,fetchProfile:f,clearProfile:h}=yG(),p=m.useCallback(async g=>{console.log("useAuthState: Fetching user data for",g),await Promise.all([f(g),a(g).then(w=>l(w))])},[f,a,l]),y=m.useCallback(async()=>{console.log("useAuthState: Refetching user data"),e&&await p(e.id)},[e,p]);return m.useEffect(()=>{console.log("useAuthState: useEffect started");let g=!0;const _=(async()=>{try{console.log("useAuthState: Getting initial session"),console.log("useAuthState: Setting up auth state listener");const{data:{subscription:v}}=Ge.auth.onAuthStateChange(async(S,E)=>{console.log("useAuthState: Auth state changed:",S,E?"Session exists":"No session"),g&&(t((E==null?void 0:E.user)??null),E!=null&&E.user?setTimeout(()=>{g&&p(E.user.id)},0):(h(),u()),g&&r(!1))}),{data:{session:x},error:b}=await Ge.auth.getSession();return b&&console.error("useAuthState: Error getting session:",b),console.log("useAuthState: Initial session:",x?"Found":"None"),g&&(t((x==null?void 0:x.user)??null),x!=null&&x.user&&setTimeout(()=>{g&&p(x.user.id)},0),r(!1)),console.log("useAuthState: Initial setup complete"),()=>{console.log("useAuthState: Cleaning up subscription"),g=!1,v.unsubscribe()}}catch(v){console.error("useAuthState: Error in initialization:",v),g&&r(!1)}})();return()=>{g=!1,_.then(v=>v&&v())}},[p,h,u]),{user:e,profile:d,loading:n,isAdmin:s,isModerator:o,isModeratorOrAdmin:i,refetchUser:y}},yP=m.createContext(void 0),_G=({children:e})=>{const[t,n]=m.useState(!1),[r,s]=m.useState("login"),[o,i]=m.useState(null),{user:a,profile:l,loading:u,isAdmin:d,isModerator:f,isModeratorOrAdmin:h,refetchUser:p}=vG();m.useEffect(()=>{gC(a),a&&yC("User session active","auth","info",{userId:a.id,email:a.email,hasProfile:!!l})},[a,l]),m.useEffect(()=>{a&&t&&n(!1)},[a,t]);const y=async T=>{const{data:j,error:D}=await vr.auth.signUp({email:T.email,password:T.password,options:T.options});if(D)throw D;return j},g=async T=>{const{data:j,error:D}=await vr.auth.signInWithPassword(T);if(D)throw D;return j},w=async()=>{const{error:T}=await vr.auth.signOut();if(T)throw console.error("Sign out error:",T),T;yC("User signed out","auth","info"),gC(null)},_=async()=>{await w()},v=(T="login")=>{console.log("Opening auth dialog in mode:",T),s(T),n(!0)},x=()=>{console.log("Closing auth dialog"),n(!1)},C={user:a,profile:l,session:null,loading:u,isAdmin:d,isModerator:f,isModeratorOrAdmin:h,signUp:y,signIn:g,signOut:w,logout:_,openLoginDialog:()=>{v("login")},closeLoginDialog:()=>{x()},loginDialogOpen:t,openAuthDialog:v,closeAuthDialog:x,authDialogOpen:t,authDialogMode:r,savePreLoginUrl:T=>{i(T)},getAndClearPreLoginUrl:()=>{const T=o;return i(null),T},refetchUser:p};return c.jsx(yP.Provider,{value:C,children:e})},Ir=()=>{const e=m.useContext(yP);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e};function vP(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=vP(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function _P(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=vP(e))&&(r&&(r+=" "),r+=t);return r}const Db="-",xG=e=>{const t=bG(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const a=i.split(Db);return a[0]===""&&a.length!==1&&a.shift(),xP(a,t)||wG(i)},getConflictingClassGroupIds:(i,a)=>{const l=n[i]||[];return a&&r[i]?[...l,...r[i]]:l}}},xP=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?xP(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(Db);return(i=t.validators.find(({validator:a})=>a(o)))==null?void 0:i.classGroupId},vC=/^\[(.+)\]$/,wG=e=>{if(vC.test(e)){const t=vC.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},bG=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return EG(Object.entries(e.classGroups),n).forEach(([o,i])=>{tx(i,r,o,t)}),r},tx=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:_C(t,s);o.classGroupId=n;return}if(typeof s=="function"){if(SG(s)){tx(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,i])=>{tx(i,_C(t,o),n,r)})})},_C=(e,t)=>{let n=e;return t.split(Db).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},SG=e=>e.isThemeGetter,EG=(e,t)=>t?e.map(([n,r])=>{const s=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,a])=>[t+i,a])):o);return[n,s]}):e,kG=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(o,i)=>{n.set(o,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let i=n.get(o);if(i!==void 0)return i;if((i=r.get(o))!==void 0)return s(o,i),i},set(o,i){n.has(o)?n.set(o,i):s(o,i)}}},wP="!",CG=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],o=t.length,i=a=>{const l=[];let u=0,d=0,f;for(let w=0;w<a.length;w++){let _=a[w];if(u===0){if(_===s&&(r||a.slice(w,w+o)===t)){l.push(a.slice(d,w)),d=w+o;continue}if(_==="/"){f=w;continue}}_==="["?u++:_==="]"&&u--}const h=l.length===0?a:a.substring(d),p=h.startsWith(wP),y=p?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:i}):i},TG=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},NG=e=>({cache:kG(e.cacheSize),parseClassName:CG(e),...xG(e)}),RG=/\s+/,AG=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split(RG);let a="";for(let l=i.length-1;l>=0;l-=1){const u=i[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=n(u);let y=!!p,g=r(y?h.substring(0,p):h);if(!g){if(!y){a=u+(a.length>0?" "+a:a);continue}if(g=r(h),!g){a=u+(a.length>0?" "+a:a);continue}y=!1}const w=TG(d).join(":"),_=f?w+wP:w,v=_+g;if(o.includes(v))continue;o.push(v);const x=s(g,y);for(let b=0;b<x.length;++b){const S=x[b];o.push(_+S)}a=u+(a.length>0?" "+a:a)}return a};function IG(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=bP(t))&&(r&&(r+=" "),r+=n);return r}const bP=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=bP(e[r]))&&(n&&(n+=" "),n+=t);return n};function jG(e,...t){let n,r,s,o=i;function i(l){const u=t.reduce((d,f)=>f(d),e());return n=NG(u),r=n.cache.get,s=n.cache.set,o=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=AG(l,n);return s(l,d),d}return function(){return o(IG.apply(null,arguments))}}const yt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},SP=/^\[(?:([a-z-]+):)?(.+)\]$/i,PG=/^\d+\/\d+$/,OG=new Set(["px","full","screen"]),MG=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,DG=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,LG=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,FG=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,$G=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,oo=e=>Ql(e)||OG.has(e)||PG.test(e),Go=e=>lu(e,"length",GG),Ql=e=>!!e&&!Number.isNaN(Number(e)),Ov=e=>lu(e,"number",Ql),Ru=e=>!!e&&Number.isInteger(Number(e)),UG=e=>e.endsWith("%")&&Ql(e.slice(0,-1)),Me=e=>SP.test(e),Ko=e=>MG.test(e),BG=new Set(["length","size","percentage"]),zG=e=>lu(e,BG,EP),HG=e=>lu(e,"position",EP),VG=new Set(["image","url"]),WG=e=>lu(e,VG,YG),qG=e=>lu(e,"",KG),Au=()=>!0,lu=(e,t,n)=>{const r=SP.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},GG=e=>DG.test(e)&&!LG.test(e),EP=()=>!1,KG=e=>FG.test(e),YG=e=>$G.test(e),QG=()=>{const e=yt("colors"),t=yt("spacing"),n=yt("blur"),r=yt("brightness"),s=yt("borderColor"),o=yt("borderRadius"),i=yt("borderSpacing"),a=yt("borderWidth"),l=yt("contrast"),u=yt("grayscale"),d=yt("hueRotate"),f=yt("invert"),h=yt("gap"),p=yt("gradientColorStops"),y=yt("gradientColorStopPositions"),g=yt("inset"),w=yt("margin"),_=yt("opacity"),v=yt("padding"),x=yt("saturate"),b=yt("scale"),S=yt("sepia"),E=yt("skew"),k=yt("space"),C=yt("translate"),T=()=>["auto","contain","none"],j=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",Me,t],P=()=>[Me,t],U=()=>["",oo,Go],B=()=>["auto",Ql,Me],L=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],A=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",Me],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[Ql,Me];return{cacheSize:500,separator:":",theme:{colors:[Au],spacing:[oo,Go],blur:["none","",Ko,Me],brightness:W(),borderColor:[e],borderRadius:["none","","full",Ko,Me],borderSpacing:P(),borderWidth:U(),contrast:W(),grayscale:F(),hueRotate:W(),invert:F(),gap:P(),gradientColorStops:[e],gradientColorStopPositions:[UG,Go],inset:D(),margin:D(),opacity:W(),padding:P(),saturate:W(),scale:W(),sepia:F(),skew:W(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",Me]}],container:["container"],columns:[{columns:[Ko]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...L(),Me]}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ru,Me]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Me]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",Ru,Me]}],"grid-cols":[{"grid-cols":[Au]}],"col-start-end":[{col:["auto",{span:["full",Ru,Me]},Me]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[Au]}],"row-start-end":[{row:["auto",{span:[Ru,Me]},Me]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Me]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...A()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...A(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...A(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Me,t]}],"min-w":[{"min-w":[Me,t,"min","max","fit"]}],"max-w":[{"max-w":[Me,t,"none","full","min","max","fit","prose",{screen:[Ko]},Ko]}],h:[{h:[Me,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Me,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Me,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Me,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ko,Go]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ov]}],"font-family":[{font:[Au]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Me]}],"line-clamp":[{"line-clamp":["none",Ql,Ov]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",oo,Me]}],"list-image":[{"list-image":["none",Me]}],"list-style-type":[{list:["none","disc","decimal",Me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",oo,Go]}],"underline-offset":[{"underline-offset":["auto",oo,Me]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...L(),HG]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",zG]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},WG]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:$()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[oo,Me]}],"outline-w":[{outline:[oo,Go]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[oo,Go]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ko,qG]}],"shadow-color":[{shadow:[Au]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ko,Me]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Me]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",Me]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",Me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[Ru,Me]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Me]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Me]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Me]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[oo,Go,Ov]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},XG=jG(QG);function ne(...e){return XG(_P(e))}function jm({className:e,...t}){return c.jsx("div",{className:ne("animate-pulse rounded-md bg-muted",e),...t})}function te(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function ZG(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function sy(...e){return t=>e.forEach(n=>ZG(n,t))}function Fe(...e){return m.useCallback(sy(...e),e)}function JG(e,t){const n=m.createContext(t),r=o=>{const{children:i,...a}=o,l=m.useMemo(()=>a,Object.values(a));return c.jsx(n.Provider,{value:l,children:i})};r.displayName=e+"Provider";function s(o){const i=m.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,s]}function Jr(e,t=[]){let n=[];function r(o,i){const a=m.createContext(i),l=n.length;n=[...n,i];const u=f=>{var _;const{scope:h,children:p,...y}=f,g=((_=h==null?void 0:h[e])==null?void 0:_[l])||a,w=m.useMemo(()=>y,Object.values(y));return c.jsx(g.Provider,{value:w,children:p})};u.displayName=o+"Provider";function d(f,h){var g;const p=((g=h==null?void 0:h[e])==null?void 0:g[l])||a,y=m.useContext(p);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=n.map(i=>m.createContext(i));return function(a){const l=(a==null?void 0:a[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[r,eK(s,...t)]}function eK(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(o)[`__scope${u}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function Gt(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Gs({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=tK({defaultProp:t,onChange:n}),o=e!==void 0,i=o?e:r,a=Gt(n),l=m.useCallback(u=>{if(o){const f=typeof u=="function"?u(e):u;f!==e&&a(f)}else s(u)},[o,e,s,a]);return[i,l]}function tK({defaultProp:e,onChange:t}){const n=m.useState(e),[r]=n,s=m.useRef(r),o=Gt(t);return m.useEffect(()=>{s.current!==r&&(o(r),s.current=r)},[r,s,o]),n}var Ks=m.forwardRef((e,t)=>{const{children:n,...r}=e,s=m.Children.toArray(n),o=s.find(nK);if(o){const i=o.props.children,a=s.map(l=>l===o?m.Children.count(i)>1?m.Children.only(null):m.isValidElement(i)?i.props.children:null:l);return c.jsx(nx,{...r,ref:t,children:m.isValidElement(i)?m.cloneElement(i,void 0,a):null})}return c.jsx(nx,{...r,ref:t,children:n})});Ks.displayName="Slot";var nx=m.forwardRef((e,t)=>{const{children:n,...r}=e;if(m.isValidElement(n)){const s=sK(n);return m.cloneElement(n,{...rK(r,n.props),ref:t?sy(t,s):s})}return m.Children.count(n)>1?m.Children.only(null):null});nx.displayName="SlotClone";var kP=({children:e})=>c.jsx(c.Fragment,{children:e});function nK(e){return m.isValidElement(e)&&e.type===kP}function rK(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{o(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function sK(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var oK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],he=oK.reduce((e,t)=>{const n=m.forwardRef((r,s)=>{const{asChild:o,...i}=r,a=o?Ks:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(a,{...i,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function CP(e,t){e&&Kc.flushSync(()=>e.dispatchEvent(t))}function iK(e,t=[]){let n=[];function r(o,i){const a=m.createContext(i),l=n.length;n=[...n,i];function u(f){const{scope:h,children:p,...y}=f,g=(h==null?void 0:h[e][l])||a,w=m.useMemo(()=>y,Object.values(y));return c.jsx(g.Provider,{value:w,children:p})}function d(f,h){const p=(h==null?void 0:h[e][l])||a,y=m.useContext(p);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const s=()=>{const o=n.map(i=>m.createContext(i));return function(a){const l=(a==null?void 0:a[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[r,aK(s,...t)]}function aK(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(o)[`__scope${u}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function Lb(e){const t=e+"CollectionProvider",[n,r]=iK(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=p=>{const{scope:y,children:g}=p,w=z.useRef(null),_=z.useRef(new Map).current;return c.jsx(s,{scope:y,itemMap:_,collectionRef:w,children:g})};i.displayName=t;const a=e+"CollectionSlot",l=z.forwardRef((p,y)=>{const{scope:g,children:w}=p,_=o(a,g),v=Fe(y,_.collectionRef);return c.jsx(Ks,{ref:v,children:w})});l.displayName=a;const u=e+"CollectionItemSlot",d="data-radix-collection-item",f=z.forwardRef((p,y)=>{const{scope:g,children:w,..._}=p,v=z.useRef(null),x=Fe(y,v),b=o(u,g);return z.useEffect(()=>(b.itemMap.set(v,{ref:v,..._}),()=>void b.itemMap.delete(v))),c.jsx(Ks,{[d]:"",ref:x,children:w})});f.displayName=u;function h(p){const y=o(e+"CollectionConsumer",p);return z.useCallback(()=>{const w=y.collectionRef.current;if(!w)return[];const _=Array.from(w.querySelectorAll(`[${d}]`));return Array.from(y.itemMap.values()).sort((b,S)=>_.indexOf(b.ref.current)-_.indexOf(S.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:i,Slot:l,ItemSlot:f},h,r]}var lK=m.createContext(void 0);function Hf(e){const t=m.useContext(lK);return e||t||"ltr"}function cK(e,t=globalThis==null?void 0:globalThis.document){const n=Gt(e);m.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var uK="DismissableLayer",rx="dismissableLayer.update",dK="dismissableLayer.pointerDownOutside",fK="dismissableLayer.focusOutside",xC,TP=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Vf=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...l}=e,u=m.useContext(TP),[d,f]=m.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=m.useState({}),y=Fe(t,k=>f(k)),g=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),_=g.indexOf(w),v=d?g.indexOf(d):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,b=v>=_,S=mK(k=>{const C=k.target,T=[...u.branches].some(j=>j.contains(C));!b||T||(s==null||s(k),i==null||i(k),k.defaultPrevented||a==null||a())},h),E=gK(k=>{const C=k.target;[...u.branches].some(j=>j.contains(C))||(o==null||o(k),i==null||i(k),k.defaultPrevented||a==null||a())},h);return cK(k=>{v===u.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&a&&(k.preventDefault(),a()))},h),m.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(xC=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),wC(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=xC)}},[d,h,n,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),wC())},[d,u]),m.useEffect(()=>{const k=()=>p({});return document.addEventListener(rx,k),()=>document.removeEventListener(rx,k)},[]),c.jsx(he.div,{...l,ref:y,style:{pointerEvents:x?b?"auto":"none":void 0,...e.style},onFocusCapture:te(e.onFocusCapture,E.onFocusCapture),onBlurCapture:te(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:te(e.onPointerDownCapture,S.onPointerDownCapture)})});Vf.displayName=uK;var hK="DismissableLayerBranch",pK=m.forwardRef((e,t)=>{const n=m.useContext(TP),r=m.useRef(null),s=Fe(t,r);return m.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),c.jsx(he.div,{...e,ref:s})});pK.displayName=hK;function mK(e,t=globalThis==null?void 0:globalThis.document){const n=Gt(e),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let l=function(){NP(dK,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function gK(e,t=globalThis==null?void 0:globalThis.document){const n=Gt(e),r=m.useRef(!1);return m.useEffect(()=>{const s=o=>{o.target&&!r.current&&NP(fK,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function wC(){const e=new CustomEvent(rx);document.dispatchEvent(e)}function NP(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?CP(s,o):s.dispatchEvent(o)}var Mv=0;function oy(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??bC()),document.body.insertAdjacentElement("beforeend",e[1]??bC()),Mv++,()=>{Mv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Mv--}},[])}function bC(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Dv="focusScope.autoFocusOnMount",Lv="focusScope.autoFocusOnUnmount",SC={bubbles:!1,cancelable:!0},yK="FocusScope",Wf=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[a,l]=m.useState(null),u=Gt(s),d=Gt(o),f=m.useRef(null),h=Fe(t,g=>l(g)),p=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let g=function(x){if(p.paused||!a)return;const b=x.target;a.contains(b)?f.current=b:Zo(f.current,{select:!0})},w=function(x){if(p.paused||!a)return;const b=x.relatedTarget;b!==null&&(a.contains(b)||Zo(f.current,{select:!0}))},_=function(x){if(document.activeElement===document.body)for(const S of x)S.removedNodes.length>0&&Zo(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",w);const v=new MutationObserver(_);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",w),v.disconnect()}}},[r,a,p.paused]),m.useEffect(()=>{if(a){kC.add(p);const g=document.activeElement;if(!a.contains(g)){const _=new CustomEvent(Dv,SC);a.addEventListener(Dv,u),a.dispatchEvent(_),_.defaultPrevented||(vK(SK(RP(a)),{select:!0}),document.activeElement===g&&Zo(a))}return()=>{a.removeEventListener(Dv,u),setTimeout(()=>{const _=new CustomEvent(Lv,SC);a.addEventListener(Lv,d),a.dispatchEvent(_),_.defaultPrevented||Zo(g??document.body,{select:!0}),a.removeEventListener(Lv,d),kC.remove(p)},0)}}},[a,u,d,p]);const y=m.useCallback(g=>{if(!n&&!r||p.paused)return;const w=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,_=document.activeElement;if(w&&_){const v=g.currentTarget,[x,b]=_K(v);x&&b?!g.shiftKey&&_===b?(g.preventDefault(),n&&Zo(x,{select:!0})):g.shiftKey&&_===x&&(g.preventDefault(),n&&Zo(b,{select:!0})):_===v&&g.preventDefault()}},[n,r,p.paused]);return c.jsx(he.div,{tabIndex:-1,...i,ref:h,onKeyDown:y})});Wf.displayName=yK;function vK(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Zo(r,{select:t}),document.activeElement!==n)return}function _K(e){const t=RP(e),n=EC(t,e),r=EC(t.reverse(),e);return[n,r]}function RP(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function EC(e,t){for(const n of e)if(!xK(n,{upTo:t}))return n}function xK(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function wK(e){return e instanceof HTMLInputElement&&"select"in e}function Zo(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&wK(e)&&t&&e.select()}}var kC=bK();function bK(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=CC(e,t),e.unshift(t)},remove(t){var n;e=CC(e,t),(n=e[0])==null||n.resume()}}}function CC(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function SK(e){return e.filter(t=>t.tagName!=="A")}var sn=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},EK=tN.useId||(()=>{}),kK=0;function qr(e){const[t,n]=m.useState(EK());return sn(()=>{n(r=>r??String(kK++))},[e]),t?`radix-${t}`:""}const CK=["top","right","bottom","left"],$i=Math.min,yr=Math.max,Pm=Math.round,qh=Math.floor,Ui=e=>({x:e,y:e}),TK={left:"right",right:"left",bottom:"top",top:"bottom"},NK={start:"end",end:"start"};function sx(e,t,n){return yr(e,$i(t,n))}function Lo(e,t){return typeof e=="function"?e(t):e}function Fo(e){return e.split("-")[0]}function cu(e){return e.split("-")[1]}function Fb(e){return e==="x"?"y":"x"}function $b(e){return e==="y"?"height":"width"}function Bi(e){return["top","bottom"].includes(Fo(e))?"y":"x"}function Ub(e){return Fb(Bi(e))}function RK(e,t,n){n===void 0&&(n=!1);const r=cu(e),s=Ub(e),o=$b(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=Om(i)),[i,Om(i)]}function AK(e){const t=Om(e);return[ox(e),t,ox(t)]}function ox(e){return e.replace(/start|end/g,t=>NK[t])}function IK(e,t,n){const r=["left","right"],s=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?o:i;default:return[]}}function jK(e,t,n,r){const s=cu(e);let o=IK(Fo(e),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(ox)))),o}function Om(e){return e.replace(/left|right|bottom|top/g,t=>TK[t])}function PK(e){return{top:0,right:0,bottom:0,left:0,...e}}function AP(e){return typeof e!="number"?PK(e):{top:e,right:e,bottom:e,left:e}}function Mm(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function TC(e,t,n){let{reference:r,floating:s}=e;const o=Bi(t),i=Ub(t),a=$b(i),l=Fo(t),u=o==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,h=r[a]/2-s[a]/2;let p;switch(l){case"top":p={x:d,y:r.y-s.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-s.width,y:f};break;default:p={x:r.x,y:r.y}}switch(cu(t)){case"start":p[i]-=h*(n&&u?-1:1);break;case"end":p[i]+=h*(n&&u?-1:1);break}return p}const OK=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,a=o.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=TC(u,r,l),h=r,p={},y=0;for(let g=0;g<a.length;g++){const{name:w,fn:_}=a[g],{x:v,y:x,data:b,reset:S}=await _({x:d,y:f,initialPlacement:r,placement:h,strategy:s,middlewareData:p,rects:u,platform:i,elements:{reference:e,floating:t}});d=v??d,f=x??f,p={...p,[w]:{...p[w],...b}},S&&y<=50&&(y++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:d,y:f}=TC(u,h,l)),g=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:p}};async function Jd(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:i,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=Lo(t,e),y=AP(p),w=a[h?f==="floating"?"reference":"floating":f],_=Mm(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(w)))==null||n?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),v=f==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,x=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),b=await(o.isElement==null?void 0:o.isElement(x))?await(o.getScale==null?void 0:o.getScale(x))||{x:1,y:1}:{x:1,y:1},S=Mm(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:x,strategy:l}):v);return{top:(_.top-S.top+y.top)/b.y,bottom:(S.bottom-_.bottom+y.bottom)/b.y,left:(_.left-S.left+y.left)/b.x,right:(S.right-_.right+y.right)/b.x}}const MK=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:i,elements:a,middlewareData:l}=t,{element:u,padding:d=0}=Lo(e,t)||{};if(u==null)return{};const f=AP(d),h={x:n,y:r},p=Ub(s),y=$b(p),g=await i.getDimensions(u),w=p==="y",_=w?"top":"left",v=w?"bottom":"right",x=w?"clientHeight":"clientWidth",b=o.reference[y]+o.reference[p]-h[p]-o.floating[y],S=h[p]-o.reference[p],E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let k=E?E[x]:0;(!k||!await(i.isElement==null?void 0:i.isElement(E)))&&(k=a.floating[x]||o.floating[y]);const C=b/2-S/2,T=k/2-g[y]/2-1,j=$i(f[_],T),D=$i(f[v],T),P=j,U=k-g[y]-D,B=k/2-g[y]/2+C,L=sx(P,B,U),$=!l.arrow&&cu(s)!=null&&B!==L&&o.reference[y]/2-(B<P?j:D)-g[y]/2<0,q=$?B<P?B-P:B-U:0;return{[p]:h[p]+q,data:{[p]:L,centerOffset:B-L-q,...$&&{alignmentOffset:q}},reset:$}}}),DK=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...w}=Lo(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const _=Fo(s),v=Bi(a),x=Fo(a)===a,b=await(l.isRTL==null?void 0:l.isRTL(u.floating)),S=h||(x||!g?[Om(a)]:AK(a)),E=y!=="none";!h&&E&&S.push(...jK(a,g,y,b));const k=[a,...S],C=await Jd(t,w),T=[];let j=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&T.push(C[_]),f){const B=RK(s,i,b);T.push(C[B[0]],C[B[1]])}if(j=[...j,{placement:s,overflows:T}],!T.every(B=>B<=0)){var D,P;const B=(((D=o.flip)==null?void 0:D.index)||0)+1,L=k[B];if(L)return{data:{index:B,overflows:j},reset:{placement:L}};let $=(P=j.filter(q=>q.overflows[0]<=0).sort((q,A)=>q.overflows[1]-A.overflows[1])[0])==null?void 0:P.placement;if(!$)switch(p){case"bestFit":{var U;const q=(U=j.filter(A=>{if(E){const F=Bi(A.placement);return F===v||F==="y"}return!0}).map(A=>[A.placement,A.overflows.filter(F=>F>0).reduce((F,G)=>F+G,0)]).sort((A,F)=>A[1]-F[1])[0])==null?void 0:U[0];q&&($=q);break}case"initialPlacement":$=a;break}if(s!==$)return{reset:{placement:$}}}return{}}}};function NC(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function RC(e){return CK.some(t=>e[t]>=0)}const LK=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=Lo(e,t);switch(r){case"referenceHidden":{const o=await Jd(t,{...s,elementContext:"reference"}),i=NC(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:RC(i)}}}case"escaped":{const o=await Jd(t,{...s,altBoundary:!0}),i=NC(o,n.floating);return{data:{escapedOffsets:i,escaped:RC(i)}}}default:return{}}}}};async function FK(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=Fo(n),a=cu(n),l=Bi(n)==="y",u=["left","top"].includes(i)?-1:1,d=o&&l?-1:1,f=Lo(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof y=="number"&&(p=a==="end"?y*-1:y),l?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const $K=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:i,middlewareData:a}=t,l=await FK(t,e);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:o+l.y,data:{...l,placement:i}}}}},UK=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:w=>{let{x:_,y:v}=w;return{x:_,y:v}}},...l}=Lo(e,t),u={x:n,y:r},d=await Jd(t,l),f=Bi(Fo(s)),h=Fb(f);let p=u[h],y=u[f];if(o){const w=h==="y"?"top":"left",_=h==="y"?"bottom":"right",v=p+d[w],x=p-d[_];p=sx(v,p,x)}if(i){const w=f==="y"?"top":"left",_=f==="y"?"bottom":"right",v=y+d[w],x=y-d[_];y=sx(v,y,x)}const g=a.fn({...t,[h]:p,[f]:y});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:o,[f]:i}}}}}},BK=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=t,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Lo(e,t),d={x:n,y:r},f=Bi(s),h=Fb(f);let p=d[h],y=d[f];const g=Lo(a,t),w=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const x=h==="y"?"height":"width",b=o.reference[h]-o.floating[x]+w.mainAxis,S=o.reference[h]+o.reference[x]-w.mainAxis;p<b?p=b:p>S&&(p=S)}if(u){var _,v;const x=h==="y"?"width":"height",b=["top","left"].includes(Fo(s)),S=o.reference[f]-o.floating[x]+(b&&((_=i.offset)==null?void 0:_[f])||0)+(b?0:w.crossAxis),E=o.reference[f]+o.reference[x]+(b?0:((v=i.offset)==null?void 0:v[f])||0)-(b?w.crossAxis:0);y<S?y=S:y>E&&(y=E)}return{[h]:p,[f]:y}}}},zK=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:i,elements:a}=t,{apply:l=()=>{},...u}=Lo(e,t),d=await Jd(t,u),f=Fo(s),h=cu(s),p=Bi(s)==="y",{width:y,height:g}=o.floating;let w,_;f==="top"||f==="bottom"?(w=f,_=h===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(_=f,w=h==="end"?"top":"bottom");const v=g-d.top-d.bottom,x=y-d.left-d.right,b=$i(g-d[w],v),S=$i(y-d[_],x),E=!t.middlewareData.shift;let k=b,C=S;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(C=x),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(k=v),E&&!h){const j=yr(d.left,0),D=yr(d.right,0),P=yr(d.top,0),U=yr(d.bottom,0);p?C=y-2*(j!==0||D!==0?j+D:yr(d.left,d.right)):k=g-2*(P!==0||U!==0?P+U:yr(d.top,d.bottom))}await l({...t,availableWidth:C,availableHeight:k});const T=await i.getDimensions(a.floating);return y!==T.width||g!==T.height?{reset:{rects:!0}}:{}}}};function iy(){return typeof window<"u"}function uu(e){return IP(e)?(e.nodeName||"").toLowerCase():"#document"}function br(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Js(e){var t;return(t=(IP(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function IP(e){return iy()?e instanceof Node||e instanceof br(e).Node:!1}function bs(e){return iy()?e instanceof Element||e instanceof br(e).Element:!1}function Ys(e){return iy()?e instanceof HTMLElement||e instanceof br(e).HTMLElement:!1}function AC(e){return!iy()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof br(e).ShadowRoot}function qf(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Ss(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function HK(e){return["table","td","th"].includes(uu(e))}function ay(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Bb(e){const t=zb(),n=bs(e)?Ss(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function VK(e){let t=zi(e);for(;Ys(t)&&!Mc(t);){if(Bb(t))return t;if(ay(t))return null;t=zi(t)}return null}function zb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Mc(e){return["html","body","#document"].includes(uu(e))}function Ss(e){return br(e).getComputedStyle(e)}function ly(e){return bs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function zi(e){if(uu(e)==="html")return e;const t=e.assignedSlot||e.parentNode||AC(e)&&e.host||Js(e);return AC(t)?t.host:t}function jP(e){const t=zi(e);return Mc(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ys(t)&&qf(t)?t:jP(t)}function ef(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=jP(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),i=br(s);if(o){const a=ix(i);return t.concat(i,i.visualViewport||[],qf(s)?s:[],a&&n?ef(a):[])}return t.concat(s,ef(s,[],n))}function ix(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function PP(e){const t=Ss(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Ys(e),o=s?e.offsetWidth:n,i=s?e.offsetHeight:r,a=Pm(n)!==o||Pm(r)!==i;return a&&(n=o,r=i),{width:n,height:r,$:a}}function Hb(e){return bs(e)?e:e.contextElement}function Xl(e){const t=Hb(e);if(!Ys(t))return Ui(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=PP(t);let i=(o?Pm(n.width):n.width)/r,a=(o?Pm(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const WK=Ui(0);function OP(e){const t=br(e);return!zb()||!t.visualViewport?WK:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function qK(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==br(e)?!1:t}function Ha(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=Hb(e);let i=Ui(1);t&&(r?bs(r)&&(i=Xl(r)):i=Xl(e));const a=qK(o,n,r)?OP(o):Ui(0);let l=(s.left+a.x)/i.x,u=(s.top+a.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(o){const h=br(o),p=r&&bs(r)?br(r):r;let y=h,g=ix(y);for(;g&&r&&p!==y;){const w=Xl(g),_=g.getBoundingClientRect(),v=Ss(g),x=_.left+(g.clientLeft+parseFloat(v.paddingLeft))*w.x,b=_.top+(g.clientTop+parseFloat(v.paddingTop))*w.y;l*=w.x,u*=w.y,d*=w.x,f*=w.y,l+=x,u+=b,y=br(g),g=ix(y)}}return Mm({width:d,height:f,x:l,y:u})}function GK(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",i=Js(r),a=t?ay(t.floating):!1;if(r===i||a&&o)return n;let l={scrollLeft:0,scrollTop:0},u=Ui(1);const d=Ui(0),f=Ys(r);if((f||!f&&!o)&&((uu(r)!=="body"||qf(i))&&(l=ly(r)),Ys(r))){const h=Ha(r);u=Xl(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x,y:n.y*u.y-l.scrollTop*u.y+d.y}}function KK(e){return Array.from(e.getClientRects())}function ax(e,t){const n=ly(e).scrollLeft;return t?t.left+n:Ha(Js(e)).left+n}function YK(e){const t=Js(e),n=ly(e),r=e.ownerDocument.body,s=yr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=yr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+ax(e);const a=-n.scrollTop;return Ss(r).direction==="rtl"&&(i+=yr(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:a}}function QK(e,t){const n=br(e),r=Js(e),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,a=0,l=0;if(s){o=s.width,i=s.height;const u=zb();(!u||u&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:o,height:i,x:a,y:l}}function XK(e,t){const n=Ha(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=Ys(e)?Xl(e):Ui(1),i=e.clientWidth*o.x,a=e.clientHeight*o.y,l=s*o.x,u=r*o.y;return{width:i,height:a,x:l,y:u}}function IC(e,t,n){let r;if(t==="viewport")r=QK(e,n);else if(t==="document")r=YK(Js(e));else if(bs(t))r=XK(t,n);else{const s=OP(e);r={...t,x:t.x-s.x,y:t.y-s.y}}return Mm(r)}function MP(e,t){const n=zi(e);return n===t||!bs(n)||Mc(n)?!1:Ss(n).position==="fixed"||MP(n,t)}function ZK(e,t){const n=t.get(e);if(n)return n;let r=ef(e,[],!1).filter(a=>bs(a)&&uu(a)!=="body"),s=null;const o=Ss(e).position==="fixed";let i=o?zi(e):e;for(;bs(i)&&!Mc(i);){const a=Ss(i),l=Bb(i);!l&&a.position==="fixed"&&(s=null),(o?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||qf(i)&&!l&&MP(e,i))?r=r.filter(d=>d!==i):s=a,i=zi(i)}return t.set(e,r),r}function JK(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?ay(t)?[]:ZK(t,this._c):[].concat(n),r],a=i[0],l=i.reduce((u,d)=>{const f=IC(t,d,s);return u.top=yr(f.top,u.top),u.right=$i(f.right,u.right),u.bottom=$i(f.bottom,u.bottom),u.left=yr(f.left,u.left),u},IC(t,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function eY(e){const{width:t,height:n}=PP(e);return{width:t,height:n}}function tY(e,t,n){const r=Ys(t),s=Js(t),o=n==="fixed",i=Ha(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=Ui(0);if(r||!r&&!o)if((uu(t)!=="body"||qf(s))&&(a=ly(t)),r){const p=Ha(t,!0,o,t);l.x=p.x+t.clientLeft,l.y=p.y+t.clientTop}else s&&(l.x=ax(s));let u=0,d=0;if(s&&!r&&!o){const p=s.getBoundingClientRect();d=p.top+a.scrollTop,u=p.left+a.scrollLeft-ax(s,p)}const f=i.left+a.scrollLeft-l.x-u,h=i.top+a.scrollTop-l.y-d;return{x:f,y:h,width:i.width,height:i.height}}function Fv(e){return Ss(e).position==="static"}function jC(e,t){if(!Ys(e)||Ss(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Js(e)===n&&(n=n.ownerDocument.body),n}function DP(e,t){const n=br(e);if(ay(e))return n;if(!Ys(e)){let s=zi(e);for(;s&&!Mc(s);){if(bs(s)&&!Fv(s))return s;s=zi(s)}return n}let r=jC(e,t);for(;r&&HK(r)&&Fv(r);)r=jC(r,t);return r&&Mc(r)&&Fv(r)&&!Bb(r)?n:r||VK(e)||n}const nY=async function(e){const t=this.getOffsetParent||DP,n=this.getDimensions,r=await n(e.floating);return{reference:tY(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function rY(e){return Ss(e).direction==="rtl"}const sY={convertOffsetParentRelativeRectToViewportRelativeRect:GK,getDocumentElement:Js,getClippingRect:JK,getOffsetParent:DP,getElementRects:nY,getClientRects:KK,getDimensions:eY,getScale:Xl,isElement:bs,isRTL:rY};function oY(e,t){let n=null,r;const s=Js(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const{left:u,top:d,width:f,height:h}=e.getBoundingClientRect();if(a||t(),!f||!h)return;const p=qh(d),y=qh(s.clientWidth-(u+f)),g=qh(s.clientHeight-(d+h)),w=qh(u),v={rootMargin:-p+"px "+-y+"px "+-g+"px "+-w+"px",threshold:yr(0,$i(1,l))||1};let x=!0;function b(S){const E=S[0].intersectionRatio;if(E!==l){if(!x)return i();E?i(!1,E):r=setTimeout(()=>{i(!1,1e-7)},1e3)}x=!1}try{n=new IntersectionObserver(b,{...v,root:s.ownerDocument})}catch{n=new IntersectionObserver(b,v)}n.observe(e)}return i(!0),o}function iY(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Hb(e),d=s||o?[...u?ef(u):[],...ef(t)]:[];d.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),o&&_.addEventListener("resize",n)});const f=u&&a?oY(u,n):null;let h=-1,p=null;i&&(p=new ResizeObserver(_=>{let[v]=_;v&&v.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var x;(x=p)==null||x.observe(t)})),n()}),u&&!l&&p.observe(u),p.observe(t));let y,g=l?Ha(e):null;l&&w();function w(){const _=Ha(e);g&&(_.x!==g.x||_.y!==g.y||_.width!==g.width||_.height!==g.height)&&n(),g=_,y=requestAnimationFrame(w)}return n(),()=>{var _;d.forEach(v=>{s&&v.removeEventListener("scroll",n),o&&v.removeEventListener("resize",n)}),f==null||f(),(_=p)==null||_.disconnect(),p=null,l&&cancelAnimationFrame(y)}}const aY=$K,lY=UK,cY=DK,uY=zK,dY=LK,PC=MK,fY=BK,hY=(e,t,n)=>{const r=new Map,s={platform:sY,...n},o={...s.platform,_c:r};return OK(e,t,{...s,platform:o})};var kp=typeof document<"u"?m.useLayoutEffect:m.useEffect;function Dm(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Dm(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!Dm(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function LP(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function OC(e,t){const n=LP(e);return Math.round(t*n)/n}function $v(e){const t=m.useRef(e);return kp(()=>{t.current=e}),t}function pY(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:l,open:u}=e,[d,f]=m.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=m.useState(r);Dm(h,r)||p(r);const[y,g]=m.useState(null),[w,_]=m.useState(null),v=m.useCallback(A=>{A!==E.current&&(E.current=A,g(A))},[]),x=m.useCallback(A=>{A!==k.current&&(k.current=A,_(A))},[]),b=o||y,S=i||w,E=m.useRef(null),k=m.useRef(null),C=m.useRef(d),T=l!=null,j=$v(l),D=$v(s),P=$v(u),U=m.useCallback(()=>{if(!E.current||!k.current)return;const A={placement:t,strategy:n,middleware:h};D.current&&(A.platform=D.current),hY(E.current,k.current,A).then(F=>{const G={...F,isPositioned:P.current!==!1};B.current&&!Dm(C.current,G)&&(C.current=G,Kc.flushSync(()=>{f(G)}))})},[h,t,n,D,P]);kp(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(A=>({...A,isPositioned:!1})))},[u]);const B=m.useRef(!1);kp(()=>(B.current=!0,()=>{B.current=!1}),[]),kp(()=>{if(b&&(E.current=b),S&&(k.current=S),b&&S){if(j.current)return j.current(b,S,U);U()}},[b,S,U,j,T]);const L=m.useMemo(()=>({reference:E,floating:k,setReference:v,setFloating:x}),[v,x]),$=m.useMemo(()=>({reference:b,floating:S}),[b,S]),q=m.useMemo(()=>{const A={position:n,left:0,top:0};if(!$.floating)return A;const F=OC($.floating,d.x),G=OC($.floating,d.y);return a?{...A,transform:"translate("+F+"px, "+G+"px)",...LP($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:G}},[n,a,$.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:U,refs:L,elements:$,floatingStyles:q}),[d,U,L,$,q])}const mY=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?PC({element:r.current,padding:s}).fn(n):{}:r?PC({element:r,padding:s}).fn(n):{}}}},gY=(e,t)=>({...aY(e),options:[e,t]}),yY=(e,t)=>({...lY(e),options:[e,t]}),vY=(e,t)=>({...fY(e),options:[e,t]}),_Y=(e,t)=>({...cY(e),options:[e,t]}),xY=(e,t)=>({...uY(e),options:[e,t]}),wY=(e,t)=>({...dY(e),options:[e,t]}),bY=(e,t)=>({...mY(e),options:[e,t]});var SY="Arrow",FP=m.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...o}=e;return c.jsx(he.svg,{...o,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});FP.displayName=SY;var EY=FP;function kY(e,t=[]){let n=[];function r(o,i){const a=m.createContext(i),l=n.length;n=[...n,i];function u(f){const{scope:h,children:p,...y}=f,g=(h==null?void 0:h[e][l])||a,w=m.useMemo(()=>y,Object.values(y));return c.jsx(g.Provider,{value:w,children:p})}function d(f,h){const p=(h==null?void 0:h[e][l])||a,y=m.useContext(p);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const s=()=>{const o=n.map(i=>m.createContext(i));return function(a){const l=(a==null?void 0:a[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[r,CY(s,...t)]}function CY(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(o)[`__scope${u}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function Vb(e){const[t,n]=m.useState(void 0);return sn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const l=o.borderBoxSize,u=Array.isArray(l)?l[0]:l;i=u.inlineSize,a=u.blockSize}else i=e.offsetWidth,a=e.offsetHeight;n({width:i,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Wb="Popper",[$P,du]=kY(Wb),[TY,UP]=$P(Wb),BP=e=>{const{__scopePopper:t,children:n}=e,[r,s]=m.useState(null);return c.jsx(TY,{scope:t,anchor:r,onAnchorChange:s,children:n})};BP.displayName=Wb;var zP="PopperAnchor",HP=m.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=UP(zP,n),i=m.useRef(null),a=Fe(t,i);return m.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:c.jsx(he.div,{...s,ref:a})});HP.displayName=zP;var qb="PopperContent",[NY,RY]=$P(qb),VP=m.forwardRef((e,t)=>{var se,Ce,je,Te,$e,Ae;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:y,...g}=e,w=UP(qb,n),[_,v]=m.useState(null),x=Fe(t,gt=>v(gt)),[b,S]=m.useState(null),E=Vb(b),k=(E==null?void 0:E.width)??0,C=(E==null?void 0:E.height)??0,T=r+(o!=="center"?"-"+o:""),j=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(u)?u:[u],P=D.length>0,U={padding:j,boundary:D.filter(IY),altBoundary:P},{refs:B,floatingStyles:L,placement:$,isPositioned:q,middlewareData:A}=pY({strategy:"fixed",placement:T,whileElementsMounted:(...gt)=>iY(...gt,{animationFrame:p==="always"}),elements:{reference:w.anchor},middleware:[gY({mainAxis:s+C,alignmentAxis:i}),l&&yY({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?vY():void 0,...U}),l&&_Y({...U}),xY({...U,apply:({elements:gt,rects:et,availableWidth:Mt,availableHeight:Dt})=>{const{width:Kt,height:N}=et.reference,O=gt.floating.style;O.setProperty("--radix-popper-available-width",`${Mt}px`),O.setProperty("--radix-popper-available-height",`${Dt}px`),O.setProperty("--radix-popper-anchor-width",`${Kt}px`),O.setProperty("--radix-popper-anchor-height",`${N}px`)}}),b&&bY({element:b,padding:a}),jY({arrowWidth:k,arrowHeight:C}),h&&wY({strategy:"referenceHidden",...U})]}),[F,G]=GP($),W=Gt(y);sn(()=>{q&&(W==null||W())},[q,W]);const le=(se=A.arrow)==null?void 0:se.x,ue=(Ce=A.arrow)==null?void 0:Ce.y,Re=((je=A.arrow)==null?void 0:je.centerOffset)!==0,[xe,pe]=m.useState();return sn(()=>{_&&pe(window.getComputedStyle(_).zIndex)},[_]),c.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...L,transform:q?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:xe,"--radix-popper-transform-origin":[(Te=A.transformOrigin)==null?void 0:Te.x,($e=A.transformOrigin)==null?void 0:$e.y].join(" "),...((Ae=A.hide)==null?void 0:Ae.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:c.jsx(NY,{scope:n,placedSide:F,onArrowChange:S,arrowX:le,arrowY:ue,shouldHideArrow:Re,children:c.jsx(he.div,{"data-side":F,"data-align":G,...g,ref:x,style:{...g.style,animation:q?void 0:"none"}})})})});VP.displayName=qb;var WP="PopperArrow",AY={top:"bottom",right:"left",bottom:"top",left:"right"},qP=m.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,o=RY(WP,r),i=AY[o.placedSide];return c.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:c.jsx(EY,{...s,ref:n,style:{...s.style,display:"block"}})})});qP.displayName=WP;function IY(e){return e!==null}var jY=e=>({name:"transformOrigin",options:e,fn(t){var w,_,v;const{placement:n,rects:r,middlewareData:s}=t,i=((w=s.arrow)==null?void 0:w.centerOffset)!==0,a=i?0:e.arrowWidth,l=i?0:e.arrowHeight,[u,d]=GP(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((_=s.arrow)==null?void 0:_.x)??0)+a/2,p=(((v=s.arrow)==null?void 0:v.y)??0)+l/2;let y="",g="";return u==="bottom"?(y=i?f:`${h}px`,g=`${-l}px`):u==="top"?(y=i?f:`${h}px`,g=`${r.floating.height+l}px`):u==="right"?(y=`${-l}px`,g=i?f:`${p}px`):u==="left"&&(y=`${r.floating.width+l}px`,g=i?f:`${p}px`),{data:{x:y,y:g}}}});function GP(e){const[t,n="center"]=e.split("-");return[t,n]}var Gb=BP,cy=HP,Kb=VP,Yb=qP,PY="Portal",Gf=m.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[s,o]=m.useState(!1);sn(()=>o(!0),[]);const i=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?sA.createPortal(c.jsx(he.div,{...r,ref:t}),i):null});Gf.displayName=PY;function OY(e,t){return m.useReducer((n,r)=>t[n][r]??n,e)}var wn=e=>{const{present:t,children:n}=e,r=MY(t),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),o=Fe(r.ref,DY(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:o}):null};wn.displayName="Presence";function MY(e){const[t,n]=m.useState(),r=m.useRef({}),s=m.useRef(e),o=m.useRef("none"),i=e?"mounted":"unmounted",[a,l]=OY(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=Gh(r.current);o.current=a==="mounted"?u:"none"},[a]),sn(()=>{const u=r.current,d=s.current;if(d!==e){const h=o.current,p=Gh(u);e?l("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),sn(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const g=Gh(r.current).includes(p.animationName);if(p.target===t&&g&&(l("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},h=p=>{p.target===t&&(o.current=Gh(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Gh(e){return(e==null?void 0:e.animationName)||"none"}function DY(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function LY(e,t=[]){let n=[];function r(o,i){const a=m.createContext(i),l=n.length;n=[...n,i];function u(f){const{scope:h,children:p,...y}=f,g=(h==null?void 0:h[e][l])||a,w=m.useMemo(()=>y,Object.values(y));return c.jsx(g.Provider,{value:w,children:p})}function d(f,h){const p=(h==null?void 0:h[e][l])||a,y=m.useContext(p);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const s=()=>{const o=n.map(i=>m.createContext(i));return function(a){const l=(a==null?void 0:a[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[r,FY(s,...t)]}function FY(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(o)[`__scope${u}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var Uv="rovingFocusGroup.onEntryFocus",$Y={bubbles:!1,cancelable:!0},uy="RovingFocusGroup",[lx,KP,UY]=Lb(uy),[BY,dy]=LY(uy,[UY]),[zY,HY]=BY(uy),YP=m.forwardRef((e,t)=>c.jsx(lx.Provider,{scope:e.__scopeRovingFocusGroup,children:c.jsx(lx.Slot,{scope:e.__scopeRovingFocusGroup,children:c.jsx(VY,{...e,ref:t})})}));YP.displayName=uy;var VY=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=m.useRef(null),p=Fe(t,h),y=Hf(o),[g=null,w]=Gs({prop:i,defaultProp:a,onChange:l}),[_,v]=m.useState(!1),x=Gt(u),b=KP(n),S=m.useRef(!1),[E,k]=m.useState(0);return m.useEffect(()=>{const C=h.current;if(C)return C.addEventListener(Uv,x),()=>C.removeEventListener(Uv,x)},[x]),c.jsx(zY,{scope:n,orientation:r,dir:y,loop:s,currentTabStopId:g,onItemFocus:m.useCallback(C=>w(C),[w]),onItemShiftTab:m.useCallback(()=>v(!0),[]),onFocusableItemAdd:m.useCallback(()=>k(C=>C+1),[]),onFocusableItemRemove:m.useCallback(()=>k(C=>C-1),[]),children:c.jsx(he.div,{tabIndex:_||E===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:te(e.onMouseDown,()=>{S.current=!0}),onFocus:te(e.onFocus,C=>{const T=!S.current;if(C.target===C.currentTarget&&T&&!_){const j=new CustomEvent(Uv,$Y);if(C.currentTarget.dispatchEvent(j),!j.defaultPrevented){const D=b().filter($=>$.focusable),P=D.find($=>$.active),U=D.find($=>$.id===g),L=[P,U,...D].filter(Boolean).map($=>$.ref.current);ZP(L,d)}}S.current=!1}),onBlur:te(e.onBlur,()=>v(!1))})})}),QP="RovingFocusGroupItem",XP=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,...i}=e,a=qr(),l=o||a,u=HY(QP,n),d=u.currentTabStopId===l,f=KP(n),{onFocusableItemAdd:h,onFocusableItemRemove:p}=u;return m.useEffect(()=>{if(r)return h(),()=>p()},[r,h,p]),c.jsx(lx.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:c.jsx(he.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...i,ref:t,onMouseDown:te(e.onMouseDown,y=>{r?u.onItemFocus(l):y.preventDefault()}),onFocus:te(e.onFocus,()=>u.onItemFocus(l)),onKeyDown:te(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const g=GY(y,u.orientation,u.dir);if(g!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let _=f().filter(v=>v.focusable).map(v=>v.ref.current);if(g==="last")_.reverse();else if(g==="prev"||g==="next"){g==="prev"&&_.reverse();const v=_.indexOf(y.currentTarget);_=u.loop?KY(_,v+1):_.slice(v+1)}setTimeout(()=>ZP(_))}})})})});XP.displayName=QP;var WY={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function qY(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function GY(e,t,n){const r=qY(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return WY[r]}function ZP(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function KY(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var JP=YP,eO=XP,YY=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},gl=new WeakMap,Kh=new WeakMap,Yh={},Bv=0,tO=function(e){return e&&(e.host||tO(e.parentNode))},QY=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=tO(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},XY=function(e,t,n,r){var s=QY(t,Array.isArray(e)?e:[e]);Yh[n]||(Yh[n]=new WeakMap);var o=Yh[n],i=[],a=new Set,l=new Set(s),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))d(h);else try{var p=h.getAttribute(r),y=p!==null&&p!=="false",g=(gl.get(h)||0)+1,w=(o.get(h)||0)+1;gl.set(h,g),o.set(h,w),i.push(h),g===1&&y&&Kh.set(h,!0),w===1&&h.setAttribute(n,"true"),y||h.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",h,_)}})};return d(t),a.clear(),Bv++,function(){i.forEach(function(f){var h=gl.get(f)-1,p=o.get(f)-1;gl.set(f,h),o.set(f,p),h||(Kh.has(f)||f.removeAttribute(r),Kh.delete(f)),p||f.removeAttribute(n)}),Bv--,Bv||(gl=new WeakMap,gl=new WeakMap,Kh=new WeakMap,Yh={})}},fy=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=YY(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),XY(r,s,n,"aria-hidden")):function(){return null}},Fs=function(){return Fs=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Fs.apply(this,arguments)};function nO(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function ZY(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Cp="right-scroll-bar-position",Tp="width-before-scroll-bar",JY="with-scroll-bars-hidden",eQ="--removed-body-scroll-bar-size";function zv(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function tQ(e,t){var n=m.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var nQ=typeof window<"u"?m.useLayoutEffect:m.useEffect,MC=new WeakMap;function rQ(e,t){var n=tQ(null,function(r){return e.forEach(function(s){return zv(s,r)})});return nQ(function(){var r=MC.get(n);if(r){var s=new Set(r),o=new Set(e),i=n.current;s.forEach(function(a){o.has(a)||zv(a,null)}),o.forEach(function(a){s.has(a)||zv(a,i)})}MC.set(n,e)},[e]),n}function sQ(e){return e}function oQ(e,t){t===void 0&&(t=sQ);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var i=t(o,r);return n.push(i),function(){n=n.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var a=n;n=[],a.forEach(o),i=n}var l=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),n}}}};return s}function iQ(e){e===void 0&&(e={});var t=oQ(null);return t.options=Fs({async:!0,ssr:!1},e),t}var rO=function(e){var t=e.sideCar,n=nO(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,Fs({},n))};rO.isSideCarExport=!0;function aQ(e,t){return e.useMedium(t),rO}var sO=iQ(),Hv=function(){},hy=m.forwardRef(function(e,t){var n=m.useRef(null),r=m.useState({onScrollCapture:Hv,onWheelCapture:Hv,onTouchMoveCapture:Hv}),s=r[0],o=r[1],i=e.forwardProps,a=e.children,l=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noIsolation,y=e.inert,g=e.allowPinchZoom,w=e.as,_=w===void 0?"div":w,v=e.gapMode,x=nO(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=h,S=rQ([n,t]),E=Fs(Fs({},x),s);return m.createElement(m.Fragment,null,d&&m.createElement(b,{sideCar:sO,removeScrollBar:u,shards:f,noIsolation:p,inert:y,setCallbacks:o,allowPinchZoom:!!g,lockRef:n,gapMode:v}),i?m.cloneElement(m.Children.only(a),Fs(Fs({},E),{ref:S})):m.createElement(_,Fs({},E,{className:l,ref:S}),a))});hy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};hy.classNames={fullWidth:Tp,zeroRight:Cp};var lQ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function cQ(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=lQ();return t&&e.setAttribute("nonce",t),e}function uQ(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function dQ(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var fQ=function(){var e=0,t=null;return{add:function(n){e==0&&(t=cQ())&&(uQ(t,n),dQ(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},hQ=function(){var e=fQ();return function(t,n){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},oO=function(){var e=hQ(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},pQ={left:0,top:0,right:0,gap:0},Vv=function(e){return parseInt(e||"",10)||0},mQ=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Vv(n),Vv(r),Vv(s)]},gQ=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return pQ;var t=mQ(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},yQ=oO(),Zl="data-scroll-locked",vQ=function(e,t,n,r){var s=e.left,o=e.top,i=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(JY,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Zl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Cp,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Tp,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Cp," .").concat(Cp,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Tp," .").concat(Tp,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Zl,`] {
    `).concat(eQ,": ").concat(a,`px;
  }
`)},DC=function(){var e=parseInt(document.body.getAttribute(Zl)||"0",10);return isFinite(e)?e:0},_Q=function(){m.useEffect(function(){return document.body.setAttribute(Zl,(DC()+1).toString()),function(){var e=DC()-1;e<=0?document.body.removeAttribute(Zl):document.body.setAttribute(Zl,e.toString())}},[])},xQ=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;_Q();var o=m.useMemo(function(){return gQ(s)},[s]);return m.createElement(yQ,{styles:vQ(o,!t,s,n?"":"!important")})},cx=!1;if(typeof window<"u")try{var Qh=Object.defineProperty({},"passive",{get:function(){return cx=!0,!0}});window.addEventListener("test",Qh,Qh),window.removeEventListener("test",Qh,Qh)}catch{cx=!1}var yl=cx?{passive:!1}:!1,wQ=function(e){return e.tagName==="TEXTAREA"},iO=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!wQ(e)&&n[t]==="visible")},bQ=function(e){return iO(e,"overflowY")},SQ=function(e){return iO(e,"overflowX")},LC=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=aO(e,r);if(s){var o=lO(e,r),i=o[1],a=o[2];if(i>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},EQ=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},kQ=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},aO=function(e,t){return e==="v"?bQ(t):SQ(t)},lO=function(e,t){return e==="v"?EQ(t):kQ(t)},CQ=function(e,t){return e==="h"&&t==="rtl"?-1:1},TQ=function(e,t,n,r,s){var o=CQ(e,window.getComputedStyle(t).direction),i=o*r,a=n.target,l=t.contains(a),u=!1,d=i>0,f=0,h=0;do{var p=lO(e,a),y=p[0],g=p[1],w=p[2],_=g-w-o*y;(y||_)&&aO(e,a)&&(f+=_,h+=y),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},Xh=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},FC=function(e){return[e.deltaX,e.deltaY]},$C=function(e){return e&&"current"in e?e.current:e},NQ=function(e,t){return e[0]===t[0]&&e[1]===t[1]},RQ=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},AQ=0,vl=[];function IQ(e){var t=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState(AQ++)[0],o=m.useState(oO)[0],i=m.useRef(e);m.useEffect(function(){i.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=ZY([e.lockRef.current],(e.shards||[]).map($C),!0).filter(Boolean);return g.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=m.useCallback(function(g,w){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!i.current.allowPinchZoom;var _=Xh(g),v=n.current,x="deltaX"in g?g.deltaX:v[0]-_[0],b="deltaY"in g?g.deltaY:v[1]-_[1],S,E=g.target,k=Math.abs(x)>Math.abs(b)?"h":"v";if("touches"in g&&k==="h"&&E.type==="range")return!1;var C=LC(k,E);if(!C)return!0;if(C?S=k:(S=k==="v"?"h":"v",C=LC(k,E)),!C)return!1;if(!r.current&&"changedTouches"in g&&(x||b)&&(r.current=S),!S)return!0;var T=r.current||S;return TQ(T,w,g,T==="h"?x:b,!0)},[]),l=m.useCallback(function(g){var w=g;if(!(!vl.length||vl[vl.length-1]!==o)){var _="deltaY"in w?FC(w):Xh(w),v=t.current.filter(function(S){return S.name===w.type&&(S.target===w.target||w.target===S.shadowParent)&&NQ(S.delta,_)})[0];if(v&&v.should){w.cancelable&&w.preventDefault();return}if(!v){var x=(i.current.shards||[]).map($C).filter(Boolean).filter(function(S){return S.contains(w.target)}),b=x.length>0?a(w,x[0]):!i.current.noIsolation;b&&w.cancelable&&w.preventDefault()}}},[]),u=m.useCallback(function(g,w,_,v){var x={name:g,delta:w,target:_,should:v,shadowParent:jQ(_)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(b){return b!==x})},1)},[]),d=m.useCallback(function(g){n.current=Xh(g),r.current=void 0},[]),f=m.useCallback(function(g){u(g.type,FC(g),g.target,a(g,e.lockRef.current))},[]),h=m.useCallback(function(g){u(g.type,Xh(g),g.target,a(g,e.lockRef.current))},[]);m.useEffect(function(){return vl.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,yl),document.addEventListener("touchmove",l,yl),document.addEventListener("touchstart",d,yl),function(){vl=vl.filter(function(g){return g!==o}),document.removeEventListener("wheel",l,yl),document.removeEventListener("touchmove",l,yl),document.removeEventListener("touchstart",d,yl)}},[]);var p=e.removeScrollBar,y=e.inert;return m.createElement(m.Fragment,null,y?m.createElement(o,{styles:RQ(s)}):null,p?m.createElement(xQ,{gapMode:e.gapMode}):null)}function jQ(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const PQ=aQ(sO,IQ);var Kf=m.forwardRef(function(e,t){return m.createElement(hy,Fs({},e,{ref:t,sideCar:PQ}))});Kf.classNames=hy.classNames;var ux=["Enter"," "],OQ=["ArrowDown","PageUp","Home"],cO=["ArrowUp","PageDown","End"],MQ=[...OQ,...cO],DQ={ltr:[...ux,"ArrowRight"],rtl:[...ux,"ArrowLeft"]},LQ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Yf="Menu",[tf,FQ,$Q]=Lb(Yf),[sl,uO]=Jr(Yf,[$Q,du,dy]),py=du(),dO=dy(),[UQ,ol]=sl(Yf),[BQ,Qf]=sl(Yf),fO=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:o,modal:i=!0}=e,a=py(t),[l,u]=m.useState(null),d=m.useRef(!1),f=Gt(o),h=Hf(s);return m.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),c.jsx(Gb,{...a,children:c.jsx(UQ,{scope:t,open:n,onOpenChange:f,content:l,onContentChange:u,children:c.jsx(BQ,{scope:t,onClose:m.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:i,children:r})})})};fO.displayName=Yf;var zQ="MenuAnchor",Qb=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=py(n);return c.jsx(cy,{...s,...r,ref:t})});Qb.displayName=zQ;var Xb="MenuPortal",[HQ,hO]=sl(Xb,{forceMount:void 0}),pO=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,o=ol(Xb,t);return c.jsx(HQ,{scope:t,forceMount:n,children:c.jsx(wn,{present:n||o.open,children:c.jsx(Gf,{asChild:!0,container:s,children:r})})})};pO.displayName=Xb;var Gr="MenuContent",[VQ,Zb]=sl(Gr),mO=m.forwardRef((e,t)=>{const n=hO(Gr,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,o=ol(Gr,e.__scopeMenu),i=Qf(Gr,e.__scopeMenu);return c.jsx(tf.Provider,{scope:e.__scopeMenu,children:c.jsx(wn,{present:r||o.open,children:c.jsx(tf.Slot,{scope:e.__scopeMenu,children:i.modal?c.jsx(WQ,{...s,ref:t}):c.jsx(qQ,{...s,ref:t})})})})}),WQ=m.forwardRef((e,t)=>{const n=ol(Gr,e.__scopeMenu),r=m.useRef(null),s=Fe(t,r);return m.useEffect(()=>{const o=r.current;if(o)return fy(o)},[]),c.jsx(Jb,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:te(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),qQ=m.forwardRef((e,t)=>{const n=ol(Gr,e.__scopeMenu);return c.jsx(Jb,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Jb=m.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:y,...g}=e,w=ol(Gr,n),_=Qf(Gr,n),v=py(n),x=dO(n),b=FQ(n),[S,E]=m.useState(null),k=m.useRef(null),C=Fe(t,k,w.onContentChange),T=m.useRef(0),j=m.useRef(""),D=m.useRef(0),P=m.useRef(null),U=m.useRef("right"),B=m.useRef(0),L=y?Kf:m.Fragment,$=y?{as:Ks,allowPinchZoom:!0}:void 0,q=F=>{var se,Ce;const G=j.current+F,W=b().filter(je=>!je.disabled),le=document.activeElement,ue=(se=W.find(je=>je.ref.current===le))==null?void 0:se.textValue,Re=W.map(je=>je.textValue),xe=sX(Re,G,ue),pe=(Ce=W.find(je=>je.textValue===xe))==null?void 0:Ce.ref.current;(function je(Te){j.current=Te,window.clearTimeout(T.current),Te!==""&&(T.current=window.setTimeout(()=>je(""),1e3))})(G),pe&&setTimeout(()=>pe.focus())};m.useEffect(()=>()=>window.clearTimeout(T.current),[]),oy();const A=m.useCallback(F=>{var W,le;return U.current===((W=P.current)==null?void 0:W.side)&&iX(F,(le=P.current)==null?void 0:le.area)},[]);return c.jsx(VQ,{scope:n,searchRef:j,onItemEnter:m.useCallback(F=>{A(F)&&F.preventDefault()},[A]),onItemLeave:m.useCallback(F=>{var G;A(F)||((G=k.current)==null||G.focus(),E(null))},[A]),onTriggerLeave:m.useCallback(F=>{A(F)&&F.preventDefault()},[A]),pointerGraceTimerRef:D,onPointerGraceIntentChange:m.useCallback(F=>{P.current=F},[]),children:c.jsx(L,{...$,children:c.jsx(Wf,{asChild:!0,trapped:s,onMountAutoFocus:te(o,F=>{var G;F.preventDefault(),(G=k.current)==null||G.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:c.jsx(Vf,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:c.jsx(JP,{asChild:!0,...x,dir:_.dir,orientation:"vertical",loop:r,currentTabStopId:S,onCurrentTabStopIdChange:E,onEntryFocus:te(l,F=>{_.isUsingKeyboardRef.current||F.preventDefault()}),preventScrollOnEntryFocus:!0,children:c.jsx(Kb,{role:"menu","aria-orientation":"vertical","data-state":IO(w.open),"data-radix-menu-content":"",dir:_.dir,...v,...g,ref:C,style:{outline:"none",...g.style},onKeyDown:te(g.onKeyDown,F=>{const W=F.target.closest("[data-radix-menu-content]")===F.currentTarget,le=F.ctrlKey||F.altKey||F.metaKey,ue=F.key.length===1;W&&(F.key==="Tab"&&F.preventDefault(),!le&&ue&&q(F.key));const Re=k.current;if(F.target!==Re||!MQ.includes(F.key))return;F.preventDefault();const pe=b().filter(se=>!se.disabled).map(se=>se.ref.current);cO.includes(F.key)&&pe.reverse(),nX(pe)}),onBlur:te(e.onBlur,F=>{F.currentTarget.contains(F.target)||(window.clearTimeout(T.current),j.current="")}),onPointerMove:te(e.onPointerMove,nf(F=>{const G=F.target,W=B.current!==F.clientX;if(F.currentTarget.contains(G)&&W){const le=F.clientX>B.current?"right":"left";U.current=le,B.current=F.clientX}}))})})})})})})});mO.displayName=Gr;var GQ="MenuGroup",eS=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return c.jsx(he.div,{role:"group",...r,ref:t})});eS.displayName=GQ;var KQ="MenuLabel",gO=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return c.jsx(he.div,{...r,ref:t})});gO.displayName=KQ;var Lm="MenuItem",UC="menu.itemSelect",my=m.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,o=m.useRef(null),i=Qf(Lm,e.__scopeMenu),a=Zb(Lm,e.__scopeMenu),l=Fe(t,o),u=m.useRef(!1),d=()=>{const f=o.current;if(!n&&f){const h=new CustomEvent(UC,{bubbles:!0,cancelable:!0});f.addEventListener(UC,p=>r==null?void 0:r(p),{once:!0}),CP(f,h),h.defaultPrevented?u.current=!1:i.onClose()}};return c.jsx(yO,{...s,ref:l,disabled:n,onClick:te(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:te(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:te(e.onKeyDown,f=>{const h=a.searchRef.current!=="";n||h&&f.key===" "||ux.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});my.displayName=Lm;var yO=m.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...o}=e,i=Zb(Lm,n),a=dO(n),l=m.useRef(null),u=Fe(t,l),[d,f]=m.useState(!1),[h,p]=m.useState("");return m.useEffect(()=>{const y=l.current;y&&p((y.textContent??"").trim())},[o.children]),c.jsx(tf.ItemSlot,{scope:n,disabled:r,textValue:s??h,children:c.jsx(eO,{asChild:!0,...a,focusable:!r,children:c.jsx(he.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:u,onPointerMove:te(e.onPointerMove,nf(y=>{r?i.onItemLeave(y):(i.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:te(e.onPointerLeave,nf(y=>i.onItemLeave(y))),onFocus:te(e.onFocus,()=>f(!0)),onBlur:te(e.onBlur,()=>f(!1))})})})}),YQ="MenuCheckboxItem",vO=m.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return c.jsx(SO,{scope:e.__scopeMenu,checked:n,children:c.jsx(my,{role:"menuitemcheckbox","aria-checked":Fm(n)?"mixed":n,...s,ref:t,"data-state":nS(n),onSelect:te(s.onSelect,()=>r==null?void 0:r(Fm(n)?!0:!n),{checkForDefaultPrevented:!1})})})});vO.displayName=YQ;var _O="MenuRadioGroup",[QQ,XQ]=sl(_O,{value:void 0,onValueChange:()=>{}}),xO=m.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,o=Gt(r);return c.jsx(QQ,{scope:e.__scopeMenu,value:n,onValueChange:o,children:c.jsx(eS,{...s,ref:t})})});xO.displayName=_O;var wO="MenuRadioItem",bO=m.forwardRef((e,t)=>{const{value:n,...r}=e,s=XQ(wO,e.__scopeMenu),o=n===s.value;return c.jsx(SO,{scope:e.__scopeMenu,checked:o,children:c.jsx(my,{role:"menuitemradio","aria-checked":o,...r,ref:t,"data-state":nS(o),onSelect:te(r.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,n)},{checkForDefaultPrevented:!1})})})});bO.displayName=wO;var tS="MenuItemIndicator",[SO,ZQ]=sl(tS,{checked:!1}),EO=m.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,o=ZQ(tS,n);return c.jsx(wn,{present:r||Fm(o.checked)||o.checked===!0,children:c.jsx(he.span,{...s,ref:t,"data-state":nS(o.checked)})})});EO.displayName=tS;var JQ="MenuSeparator",kO=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return c.jsx(he.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});kO.displayName=JQ;var eX="MenuArrow",CO=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=py(n);return c.jsx(Yb,{...s,...r,ref:t})});CO.displayName=eX;var tX="MenuSub",[Yie,TO]=sl(tX),Gu="MenuSubTrigger",NO=m.forwardRef((e,t)=>{const n=ol(Gu,e.__scopeMenu),r=Qf(Gu,e.__scopeMenu),s=TO(Gu,e.__scopeMenu),o=Zb(Gu,e.__scopeMenu),i=m.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=o,u={__scopeMenu:e.__scopeMenu},d=m.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return m.useEffect(()=>d,[d]),m.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),l(null)}},[a,l]),c.jsx(Qb,{asChild:!0,...u,children:c.jsx(yO,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":IO(n.open),...e,ref:sy(t,s.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:te(e.onPointerMove,nf(f=>{o.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:te(e.onPointerLeave,nf(f=>{var p,y;d();const h=(p=n.content)==null?void 0:p.getBoundingClientRect();if(h){const g=(y=n.content)==null?void 0:y.dataset.side,w=g==="right",_=w?-5:5,v=h[w?"left":"right"],x=h[w?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+_,y:f.clientY},{x:v,y:h.top},{x,y:h.top},{x,y:h.bottom},{x:v,y:h.bottom}],side:g}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:te(e.onKeyDown,f=>{var p;const h=o.searchRef.current!=="";e.disabled||h&&f.key===" "||DQ[r.dir].includes(f.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),f.preventDefault())})})})});NO.displayName=Gu;var RO="MenuSubContent",AO=m.forwardRef((e,t)=>{const n=hO(Gr,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,o=ol(Gr,e.__scopeMenu),i=Qf(Gr,e.__scopeMenu),a=TO(RO,e.__scopeMenu),l=m.useRef(null),u=Fe(t,l);return c.jsx(tf.Provider,{scope:e.__scopeMenu,children:c.jsx(wn,{present:r||o.open,children:c.jsx(tf.Slot,{scope:e.__scopeMenu,children:c.jsx(Jb,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;i.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:te(e.onFocusOutside,d=>{d.target!==a.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:te(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:te(e.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),h=LQ[i.dir].includes(d.key);f&&h&&(o.onOpenChange(!1),(p=a.trigger)==null||p.focus(),d.preventDefault())})})})})})});AO.displayName=RO;function IO(e){return e?"open":"closed"}function Fm(e){return e==="indeterminate"}function nS(e){return Fm(e)?"indeterminate":e?"checked":"unchecked"}function nX(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function rX(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function sX(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=rX(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==n));const l=i.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function oX(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const a=t[o].x,l=t[o].y,u=t[i].x,d=t[i].y;l>r!=d>r&&n<(u-a)*(r-l)/(d-l)+a&&(s=!s)}return s}function iX(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return oX(n,t)}function nf(e){return t=>t.pointerType==="mouse"?e(t):void 0}var aX=fO,lX=Qb,cX=pO,uX=mO,dX=eS,fX=gO,hX=my,pX=vO,mX=xO,gX=bO,yX=EO,vX=kO,_X=CO,xX=NO,wX=AO,rS="DropdownMenu",[bX,Qie]=Jr(rS,[uO]),Qn=uO(),[SX,jO]=bX(rS),PO=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:o,onOpenChange:i,modal:a=!0}=e,l=Qn(t),u=m.useRef(null),[d=!1,f]=Gs({prop:s,defaultProp:o,onChange:i});return c.jsx(SX,{scope:t,triggerId:qr(),triggerRef:u,contentId:qr(),open:d,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(h=>!h),[f]),modal:a,children:c.jsx(aX,{...l,open:d,onOpenChange:f,dir:r,modal:a,children:n})})};PO.displayName=rS;var OO="DropdownMenuTrigger",MO=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,o=jO(OO,n),i=Qn(n);return c.jsx(lX,{asChild:!0,...i,children:c.jsx(he.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:sy(t,o.triggerRef),onPointerDown:te(e.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(o.onOpenToggle(),o.open||a.preventDefault())}),onKeyDown:te(e.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&o.onOpenToggle(),a.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});MO.displayName=OO;var EX="DropdownMenuPortal",DO=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Qn(t);return c.jsx(cX,{...r,...n})};DO.displayName=EX;var LO="DropdownMenuContent",FO=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=jO(LO,n),o=Qn(n),i=m.useRef(!1);return c.jsx(uX,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...r,ref:t,onCloseAutoFocus:te(e.onCloseAutoFocus,a=>{var l;i.current||(l=s.triggerRef.current)==null||l.focus(),i.current=!1,a.preventDefault()}),onInteractOutside:te(e.onInteractOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,d=l.button===2||u;(!s.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});FO.displayName=LO;var kX="DropdownMenuGroup",CX=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qn(n);return c.jsx(dX,{...s,...r,ref:t})});CX.displayName=kX;var TX="DropdownMenuLabel",$O=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qn(n);return c.jsx(fX,{...s,...r,ref:t})});$O.displayName=TX;var NX="DropdownMenuItem",UO=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qn(n);return c.jsx(hX,{...s,...r,ref:t})});UO.displayName=NX;var RX="DropdownMenuCheckboxItem",BO=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qn(n);return c.jsx(pX,{...s,...r,ref:t})});BO.displayName=RX;var AX="DropdownMenuRadioGroup",IX=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qn(n);return c.jsx(mX,{...s,...r,ref:t})});IX.displayName=AX;var jX="DropdownMenuRadioItem",zO=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qn(n);return c.jsx(gX,{...s,...r,ref:t})});zO.displayName=jX;var PX="DropdownMenuItemIndicator",HO=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qn(n);return c.jsx(yX,{...s,...r,ref:t})});HO.displayName=PX;var OX="DropdownMenuSeparator",VO=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qn(n);return c.jsx(vX,{...s,...r,ref:t})});VO.displayName=OX;var MX="DropdownMenuArrow",DX=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qn(n);return c.jsx(_X,{...s,...r,ref:t})});DX.displayName=MX;var LX="DropdownMenuSubTrigger",WO=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qn(n);return c.jsx(xX,{...s,...r,ref:t})});WO.displayName=LX;var FX="DropdownMenuSubContent",qO=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qn(n);return c.jsx(wX,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});qO.displayName=FX;var $X=PO,UX=MO,BX=DO,GO=FO,KO=$O,YO=UO,QO=BO,XO=zO,ZO=HO,JO=VO,eM=WO,tM=qO;/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zX=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nM=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var HX={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VX=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:i,...a},l)=>m.createElement("svg",{ref:l,...HX,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:nM("lucide",s),...a},[...i.map(([u,d])=>m.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=(e,t)=>{const n=m.forwardRef(({className:r,...s},o)=>m.createElement(VX,{ref:o,iconNode:t,className:nM(`lucide-${zX(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WX=ge("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qX=ge("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GX=ge("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KX=ge("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YX=ge("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=ge("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QX=ge("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=ge("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XX=ge("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZX=ge("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=ge("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JX=ge("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eZ=ge("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tZ=ge("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nZ=ge("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rZ=ge("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sZ=ge("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lc=ge("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oZ=ge("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=ge("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=ge("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iZ=ge("FileQuestion",[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aZ=ge("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=ge("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lZ=ge("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cZ=ge("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uZ=ge("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dZ=ge("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fZ=ge("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=ge("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hZ=ge("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pZ=ge("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mZ=ge("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=ge("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gZ=ge("MessageSquareWarning",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M12 7v2",key:"stiyo7"}],["path",{d:"M12 13h.01",key:"y0uutt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yZ=ge("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=ge("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vZ=ge("Rss",[["path",{d:"M4 11a9 9 0 0 1 9 9",key:"pv89mb"}],["path",{d:"M4 4a16 16 0 0 1 16 16",key:"k0647b"}],["circle",{cx:"5",cy:"19",r:"1",key:"bfqh0e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Z=ge("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xZ=ge("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=ge("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=ge("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=ge("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wZ=ge("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=ge("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=ge("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bZ=ge("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SZ=ge("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=ge("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EZ=ge("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kZ=ge("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),fM=$X,hM=UX,CZ=m.forwardRef(({className:e,inset:t,children:n,...r},s)=>c.jsxs(eM,{ref:s,className:ne("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,c.jsx(sS,{className:"ml-auto h-4 w-4"})]}));CZ.displayName=eM.displayName;const TZ=m.forwardRef(({className:e,...t},n)=>c.jsx(tM,{ref:n,className:ne("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));TZ.displayName=tM.displayName;const aS=m.forwardRef(({className:e,sideOffset:t=4,...n},r)=>c.jsx(BX,{children:c.jsx(GO,{ref:r,sideOffset:t,className:ne("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));aS.displayName=GO.displayName;const Ds=m.forwardRef(({className:e,inset:t,...n},r)=>c.jsx(YO,{ref:r,className:ne("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));Ds.displayName=YO.displayName;const NZ=m.forwardRef(({className:e,children:t,checked:n,...r},s)=>c.jsxs(QO,{ref:s,className:ne("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(ZO,{children:c.jsx(rf,{className:"h-4 w-4"})})}),t]}));NZ.displayName=QO.displayName;const RZ=m.forwardRef(({className:e,children:t,...n},r)=>c.jsxs(XO,{ref:r,className:ne("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(ZO,{children:c.jsx(rZ,{className:"h-2 w-2 fill-current"})})}),t]}));RZ.displayName=XO.displayName;const fx=m.forwardRef(({className:e,inset:t,...n},r)=>c.jsx(KO,{ref:r,className:ne("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));fx.displayName=KO.displayName;const hx=m.forwardRef(({className:e,...t},n)=>c.jsx(JO,{ref:n,className:ne("-mx-1 my-1 h-px bg-muted",e),...t}));hx.displayName=JO.displayName;const zC=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,HC=_P,yy=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return HC(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=o==null?void 0:o[u];if(d===null)return null;const h=zC(d)||zC(f);return s[u][h]}),a=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(y=>{let[g,w]=y;return Array.isArray(w)?w.includes({...o,...a}[g]):{...o,...a}[g]===w})?[...u,f,h]:u},[]);return HC(e,i,l,n==null?void 0:n.class,n==null?void 0:n.className)},lS=yy("inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 rounded-md",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 rounded-md",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground rounded-md",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 rounded-md",ghost:"hover:bg-accent hover:text-accent-foreground rounded-md",link:"text-primary underline-offset-4 hover:underline rounded-md",cta:"bg-gradient-to-r from-fuchsia-500 to-cyan-500 font-poppins text-white rounded-lg px-6 py-2 font-semibold text-lg shadow transition-opacity hover:opacity-90 disabled:bg-gray-300 disabled:text-gray-800 disabled:shadow-none disabled:rounded-[12px] disabled:border-0 disabled:h-[36px] disabled:min-w-[58px] disabled:font-semibold disabled:opacity-100 disabled:cursor-not-allowed"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Be=m.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},o)=>{const i=r?Ks:"button";return c.jsx(i,{className:ne(lS({variant:t,size:n,className:e})),ref:o,...s})});Be.displayName="Button";var cS="Avatar",[AZ,Xie]=Jr(cS),[IZ,pM]=AZ(cS),mM=m.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,o]=m.useState("idle");return c.jsx(IZ,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:c.jsx(he.span,{...r,ref:t})})});mM.displayName=cS;var gM="AvatarImage",yM=m.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...o}=e,i=pM(gM,n),a=jZ(r,o.referrerPolicy),l=Gt(u=>{s(u),i.onImageLoadingStatusChange(u)});return sn(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?c.jsx(he.img,{...o,ref:t,src:r}):null});yM.displayName=gM;var vM="AvatarFallback",_M=m.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,o=pM(vM,n),[i,a]=m.useState(r===void 0);return m.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),i&&o.imageLoadingStatus!=="loaded"?c.jsx(he.span,{...s,ref:t}):null});_M.displayName=vM;function jZ(e,t){const[n,r]=m.useState("idle");return sn(()=>{if(!e){r("error");return}let s=!0;const o=new window.Image,i=a=>()=>{s&&r(a)};return r("loading"),o.onload=i("loaded"),o.onerror=i("error"),o.src=e,t&&(o.referrerPolicy=t),()=>{s=!1}},[e,t]),n}var xM=mM,wM=yM,bM=_M;const Xf=m.forwardRef(({className:e,...t},n)=>c.jsx(xM,{ref:n,className:ne("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Xf.displayName=xM.displayName;const Zf=m.forwardRef(({className:e,...t},n)=>c.jsx(wM,{ref:n,className:ne("aspect-square h-full w-full object-cover",e),...t}));Zf.displayName=wM.displayName;const Jf=m.forwardRef(({className:e,...t},n)=>c.jsx(bM,{ref:n,className:ne("flex h-full w-full items-center justify-center rounded-full bg-gray-600 text-white font-semibold",e),...t}));Jf.displayName=bM.displayName;const SM=()=>{var a,l,u;const{user:e,profile:t,isAdmin:n,isModerator:r,logout:s}=Ir();if(!e)return null;const o=(t==null?void 0:t.full_name)||((a=e.user_metadata)==null?void 0:a.full_name)||((l=e.email)==null?void 0:l.split("@")[0])||"User",i=(t==null?void 0:t.avatar_url)||((u=e.user_metadata)==null?void 0:u.avatar_url);return c.jsxs(fM,{children:[c.jsx(hM,{asChild:!0,children:c.jsx(Be,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:c.jsxs(Xf,{className:"h-8 w-8",children:[c.jsx(Zf,{src:i||"/placeholder.svg",alt:`${o} Avatar`}),c.jsx(Jf,{children:o.substring(0,2).toUpperCase()})]})})}),c.jsxs(aS,{align:"end",className:"w-56",children:[c.jsx(fx,{children:"My Account"}),c.jsx(Ds,{asChild:!0,children:c.jsxs(Tt,{to:"/profile",className:"cursor-pointer",children:[c.jsx(SZ,{className:"mr-2 h-4 w-4"}),"Profile"]})}),(n||r)&&c.jsxs(c.Fragment,{children:[c.jsx(hx,{}),c.jsx(fx,{children:"Admin"}),n&&c.jsxs(c.Fragment,{children:[c.jsx(Ds,{asChild:!0,children:c.jsxs(Tt,{to:"/admin/users",className:"cursor-pointer",children:[c.jsx(BC,{className:"mr-2 h-4 w-4"}),"User Management"]})}),c.jsx(Ds,{asChild:!0,children:c.jsxs(Tt,{to:"/admin/athletes",className:"cursor-pointer",children:[c.jsx(iS,{className:"mr-2 h-4 w-4"}),"Athlete Management"]})}),c.jsx(Ds,{asChild:!0,children:c.jsxs(Tt,{to:"/admin/quiz",className:"cursor-pointer",children:[c.jsx(eZ,{className:"mr-2 h-4 w-4"}),"Create Quiz"]})})]}),r&&!n&&c.jsx(Ds,{asChild:!0,children:c.jsxs(Tt,{to:"/admin/users",className:"cursor-pointer",children:[c.jsx(BC,{className:"mr-2 h-4 w-4"}),"User Management"]})}),c.jsx(hx,{})]}),c.jsx(Ds,{onClick:()=>s(),className:"cursor-pointer",children:"Log out"})]})]})},PZ=()=>{const{user:e,loading:t,openAuthDialog:n}=Ir();return t?c.jsx("div",{className:"h-8 w-20 sm:h-9 sm:w-24 lg:h-10 lg:w-28 animate-pulse rounded-md bg-white/10"}):e?c.jsx(SM,{}):c.jsxs("div",{className:"flex items-center gap-1 xs:gap-2 sm:gap-3",children:[c.jsx("button",{onClick:()=>n("signup"),className:ne("flex items-center justify-center rounded-[6px] sm:rounded-[8px] lg:rounded-[10px] border border-white bg-[#388BFF] font-bold transition-colors shadow hover:bg-[#236dda] focus:outline-none focus:ring-2 focus:ring-blue-300 text-white","text-xs sm:text-sm lg:text-base whitespace-nowrap leading-none","tracking-wide","px-2 py-1.5 min-w-[50px] min-h-[32px]","xs:px-2.5 xs:py-1.5 xs:min-w-[55px] xs:min-h-[34px]","sm:px-3 sm:py-2 sm:min-w-[70px] sm:min-h-[36px]","lg:px-6 lg:py-2.5 lg:min-w-[80px] lg:min-h-[40px]"),style:{letterSpacing:"0.5px"},children:c.jsxs("span",{className:"block font-semibold",children:[c.jsx("span",{className:"hidden xs:inline",children:"SIGN UP"}),c.jsx("span",{className:"inline xs:hidden",children:"SIGN"})]})}),c.jsx("button",{onClick:()=>n("login"),className:ne("flex items-center justify-center rounded-[6px] sm:rounded-[8px] lg:rounded-[10px] border border-[#388BFF] bg-transparent text-white font-bold transition-colors shadow hover:bg-white/10 focus:outline-none focus:ring-2 focus:ring-blue-300","text-xs sm:text-sm lg:text-base whitespace-nowrap leading-none","tracking-wide","px-2 py-1.5 min-w-[50px] min-h-[32px]","xs:px-2.5 xs:py-1.5 xs:min-w-[55px] xs:min-h-[34px]","sm:px-3 sm:py-2 sm:min-w-[70px] sm:min-h-[36px]","lg:px-6 lg:py-2.5 lg:min-w-[80px] lg:min-h-[40px]"),style:{letterSpacing:"0.5px"},children:c.jsxs("span",{className:"block font-semibold",children:[c.jsx("span",{className:"hidden xs:inline",children:"LOG IN"}),c.jsx("span",{className:"inline xs:hidden",children:"LOG"})]})})]})},OZ=()=>c.jsx(Tt,{to:"/",className:"hover:opacity-80 transition-opacity whitespace-nowrap flex-shrink-0",children:c.jsx("img",{src:"/lovable-uploads/cc43c4d7-2889-4308-bfe5-a2b57a5a8271.png",alt:"WoDaGOAT logo",className:"h-12 xs:h-14 sm:h-16 lg:h-20 xl:h-24 w-auto object-contain"})}),Wv=768;function MZ(){const[e,t]=m.useState(void 0);return m.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Wv-1}px)`),r=()=>{t(window.innerWidth<Wv)};return n.addEventListener("change",r),t(window.innerWidth<Wv),()=>n.removeEventListener("change",r)},[]),!!e}var fu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Va=typeof window>"u"||"Deno"in globalThis;function Lr(){}function DZ(e,t){return typeof e=="function"?e(t):e}function px(e){return typeof e=="number"&&e>=0&&e!==1/0}function EM(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Jl(e,t){return typeof e=="function"?e(t):e}function hs(e,t){return typeof e=="function"?e(t):e}function VC(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:i,stale:a}=e;if(i){if(r){if(t.queryHash!==uS(i,t.options))return!1}else if(!sf(t.queryKey,i))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||o&&!o(t))}function WC(e,t){const{exact:n,status:r,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(Wa(t.options.mutationKey)!==Wa(o))return!1}else if(!sf(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function uS(e,t){return((t==null?void 0:t.queryKeyHashFn)||Wa)(e)}function Wa(e){return JSON.stringify(e,(t,n)=>mx(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function sf(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!sf(e[n],t[n])):!1}function kM(e,t){if(e===t)return e;const n=qC(e)&&qC(t);if(n||mx(e)&&mx(t)){const r=n?e:Object.keys(e),s=r.length,o=n?t:Object.keys(t),i=o.length,a=n?[]:{};let l=0;for(let u=0;u<i;u++){const d=n?u:o[u];(!n&&r.includes(d)||n)&&e[d]===void 0&&t[d]===void 0?(a[d]=void 0,l++):(a[d]=kM(e[d],t[d]),a[d]===e[d]&&e[d]!==void 0&&l++)}return s===i&&l===s?e:a}return t}function $m(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function qC(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function mx(e){if(!GC(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!GC(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function GC(e){return Object.prototype.toString.call(e)==="[object Object]"}function LZ(e){return new Promise(t=>{setTimeout(t,e)})}function gx(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?kM(e,t):t}function FZ(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function $Z(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var dS=Symbol();function CM(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===dS?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var _a,ui,ic,OT,UZ=(OT=class extends fu{constructor(){super();ve(this,_a);ve(this,ui);ve(this,ic);ie(this,ic,t=>{if(!Va&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){R(this,ui)||this.setEventListener(R(this,ic))}onUnsubscribe(){var t;this.hasListeners()||((t=R(this,ui))==null||t.call(this),ie(this,ui,void 0))}setEventListener(t){var n;ie(this,ic,t),(n=R(this,ui))==null||n.call(this),ie(this,ui,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){R(this,_a)!==t&&(ie(this,_a,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof R(this,_a)=="boolean"?R(this,_a):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},_a=new WeakMap,ui=new WeakMap,ic=new WeakMap,OT),fS=new UZ,ac,di,lc,MT,BZ=(MT=class extends fu{constructor(){super();ve(this,ac,!0);ve(this,di);ve(this,lc);ie(this,lc,t=>{if(!Va&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){R(this,di)||this.setEventListener(R(this,lc))}onUnsubscribe(){var t;this.hasListeners()||((t=R(this,di))==null||t.call(this),ie(this,di,void 0))}setEventListener(t){var n;ie(this,lc,t),(n=R(this,di))==null||n.call(this),ie(this,di,t(this.setOnline.bind(this)))}setOnline(t){R(this,ac)!==t&&(ie(this,ac,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return R(this,ac)}},ac=new WeakMap,di=new WeakMap,lc=new WeakMap,MT),Um=new BZ;function yx(){let e,t;const n=new Promise((s,o)=>{e=s,t=o});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function zZ(e){return Math.min(1e3*2**e,3e4)}function TM(e){return(e??"online")==="online"?Um.isOnline():!0}var NM=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function qv(e){return e instanceof NM}function RM(e){let t=!1,n=0,r=!1,s;const o=yx(),i=g=>{var w;r||(h(new NM(g)),(w=e.abort)==null||w.call(e))},a=()=>{t=!0},l=()=>{t=!1},u=()=>fS.isFocused()&&(e.networkMode==="always"||Um.isOnline())&&e.canRun(),d=()=>TM(e.networkMode)&&e.canRun(),f=g=>{var w;r||(r=!0,(w=e.onSuccess)==null||w.call(e,g),s==null||s(),o.resolve(g))},h=g=>{var w;r||(r=!0,(w=e.onError)==null||w.call(e,g),s==null||s(),o.reject(g))},p=()=>new Promise(g=>{var w;s=_=>{(r||u())&&g(_)},(w=e.onPause)==null||w.call(e)}).then(()=>{var g;s=void 0,r||(g=e.onContinue)==null||g.call(e)}),y=()=>{if(r)return;let g;const w=n===0?e.initialPromise:void 0;try{g=w??e.fn()}catch(_){g=Promise.reject(_)}Promise.resolve(g).then(f).catch(_=>{var E;if(r)return;const v=e.retry??(Va?0:3),x=e.retryDelay??zZ,b=typeof x=="function"?x(n,_):x,S=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,_);if(t||!S){h(_);return}n++,(E=e.onFail)==null||E.call(e,n,_),LZ(b).then(()=>u()?void 0:p()).then(()=>{t?h(_):y()})})};return{promise:o,cancel:i,continue:()=>(s==null||s(),o),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?y():p().then(y),o)}}function HZ(){let e=[],t=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const o=a=>{t?e.push(a):s(()=>{n(a)})},i=()=>{const a=e;e=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||i()}return l},batchCalls:a=>(...l)=>{o(()=>{a(...l)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var nn=HZ(),xa,DT,AM=(DT=class{constructor(){ve(this,xa)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),px(this.gcTime)&&ie(this,xa,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Va?1/0:5*60*1e3))}clearGcTimeout(){R(this,xa)&&(clearTimeout(R(this,xa)),ie(this,xa,void 0))}},xa=new WeakMap,DT),cc,uc,Dr,Nn,xf,wa,ls,co,LT,VZ=(LT=class extends AM{constructor(t){super();ve(this,ls);ve(this,cc);ve(this,uc);ve(this,Dr);ve(this,Nn);ve(this,xf);ve(this,wa);ie(this,wa,!1),ie(this,xf,t.defaultOptions),this.setOptions(t.options),this.observers=[],ie(this,Dr,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ie(this,cc,WZ(this.options)),this.state=t.state??R(this,cc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=R(this,Nn))==null?void 0:t.promise}setOptions(t){this.options={...R(this,xf),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&R(this,Dr).remove(this)}setData(t,n){const r=gx(this.state.data,t,this.options);return De(this,ls,co).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){De(this,ls,co).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=R(this,Nn))==null?void 0:r.promise;return(s=R(this,Nn))==null||s.cancel(t),n?n.then(Lr).catch(Lr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(R(this,cc))}isActive(){return this.observers.some(t=>hs(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===dS||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!EM(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=R(this,Nn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=R(this,Nn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),R(this,Dr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(R(this,Nn)&&(R(this,wa)?R(this,Nn).cancel({revert:!0}):R(this,Nn).cancelRetry()),this.scheduleGc()),R(this,Dr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||De(this,ls,co).call(this,{type:"invalidate"})}fetch(t,n){var l,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(R(this,Nn))return R(this,Nn).continueRetry(),R(this,Nn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(ie(this,wa,!0),r.signal)})},o=()=>{const f=CM(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return s(h),ie(this,wa,!1),this.options.persister?this.options.persister(f,h,this):f(h)},i={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(i),(l=this.options.behavior)==null||l.onFetch(i,this),ie(this,uc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=i.fetchOptions)==null?void 0:u.meta))&&De(this,ls,co).call(this,{type:"fetch",meta:(d=i.fetchOptions)==null?void 0:d.meta});const a=f=>{var h,p,y,g;qv(f)&&f.silent||De(this,ls,co).call(this,{type:"error",error:f}),qv(f)||((p=(h=R(this,Dr).config).onError)==null||p.call(h,f,this),(g=(y=R(this,Dr).config).onSettled)==null||g.call(y,this.state.data,f,this)),this.scheduleGc()};return ie(this,Nn,RM({initialPromise:n==null?void 0:n.initialPromise,fn:i.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var h,p,y,g;if(f===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(w){a(w);return}(p=(h=R(this,Dr).config).onSuccess)==null||p.call(h,f,this),(g=(y=R(this,Dr).config).onSettled)==null||g.call(y,f,this.state.error,this),this.scheduleGc()},onError:a,onFail:(f,h)=>{De(this,ls,co).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{De(this,ls,co).call(this,{type:"pause"})},onContinue:()=>{De(this,ls,co).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),R(this,Nn).start()}},cc=new WeakMap,uc=new WeakMap,Dr=new WeakMap,Nn=new WeakMap,xf=new WeakMap,wa=new WeakMap,ls=new WeakSet,co=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...IM(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return qv(s)&&s.revert&&R(this,uc)?{...R(this,uc),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),nn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),R(this,Dr).notify({query:this,type:"updated",action:t})})},LT);function IM(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:TM(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function WZ(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var js,FT,qZ=(FT=class extends fu{constructor(t={}){super();ve(this,js);this.config=t,ie(this,js,new Map)}build(t,n,r){const s=n.queryKey,o=n.queryHash??uS(s,n);let i=this.get(o);return i||(i=new VZ({cache:this,queryKey:s,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){R(this,js).has(t.queryHash)||(R(this,js).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=R(this,js).get(t.queryHash);n&&(t.destroy(),n===t&&R(this,js).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){nn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return R(this,js).get(t)}getAll(){return[...R(this,js).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>VC(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>VC(t,r)):n}notify(t){nn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){nn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){nn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},js=new WeakMap,FT),Ps,Dn,ba,Os,Jo,$T,GZ=($T=class extends AM{constructor(t){super();ve(this,Os);ve(this,Ps);ve(this,Dn);ve(this,ba);this.mutationId=t.mutationId,ie(this,Dn,t.mutationCache),ie(this,Ps,[]),this.state=t.state||jM(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){R(this,Ps).includes(t)||(R(this,Ps).push(t),this.clearGcTimeout(),R(this,Dn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ie(this,Ps,R(this,Ps).filter(n=>n!==t)),this.scheduleGc(),R(this,Dn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){R(this,Ps).length||(this.state.status==="pending"?this.scheduleGc():R(this,Dn).remove(this))}continue(){var t;return((t=R(this,ba))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,o,i,a,l,u,d,f,h,p,y,g,w,_,v,x,b,S,E,k;ie(this,ba,RM({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(C,T)=>{De(this,Os,Jo).call(this,{type:"failed",failureCount:C,error:T})},onPause:()=>{De(this,Os,Jo).call(this,{type:"pause"})},onContinue:()=>{De(this,Os,Jo).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>R(this,Dn).canRun(this)}));const n=this.state.status==="pending",r=!R(this,ba).canStart();try{if(!n){De(this,Os,Jo).call(this,{type:"pending",variables:t,isPaused:r}),await((o=(s=R(this,Dn).config).onMutate)==null?void 0:o.call(s,t,this));const T=await((a=(i=this.options).onMutate)==null?void 0:a.call(i,t));T!==this.state.context&&De(this,Os,Jo).call(this,{type:"pending",context:T,variables:t,isPaused:r})}const C=await R(this,ba).start();return await((u=(l=R(this,Dn).config).onSuccess)==null?void 0:u.call(l,C,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,C,t,this.state.context)),await((p=(h=R(this,Dn).config).onSettled)==null?void 0:p.call(h,C,null,this.state.variables,this.state.context,this)),await((g=(y=this.options).onSettled)==null?void 0:g.call(y,C,null,t,this.state.context)),De(this,Os,Jo).call(this,{type:"success",data:C}),C}catch(C){try{throw await((_=(w=R(this,Dn).config).onError)==null?void 0:_.call(w,C,t,this.state.context,this)),await((x=(v=this.options).onError)==null?void 0:x.call(v,C,t,this.state.context)),await((S=(b=R(this,Dn).config).onSettled)==null?void 0:S.call(b,void 0,C,this.state.variables,this.state.context,this)),await((k=(E=this.options).onSettled)==null?void 0:k.call(E,void 0,C,t,this.state.context)),C}finally{De(this,Os,Jo).call(this,{type:"error",error:C})}}finally{R(this,Dn).runNext(this)}}},Ps=new WeakMap,Dn=new WeakMap,ba=new WeakMap,Os=new WeakSet,Jo=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),nn.batch(()=>{R(this,Ps).forEach(r=>{r.onMutationUpdate(t)}),R(this,Dn).notify({mutation:this,type:"updated",action:t})})},$T);function jM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var hr,wf,UT,KZ=(UT=class extends fu{constructor(t={}){super();ve(this,hr);ve(this,wf);this.config=t,ie(this,hr,new Map),ie(this,wf,Date.now())}build(t,n,r){const s=new GZ({mutationCache:this,mutationId:++ch(this,wf)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){const n=Zh(t),r=R(this,hr).get(n)??[];r.push(t),R(this,hr).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=Zh(t);if(R(this,hr).has(n)){const s=(r=R(this,hr).get(n))==null?void 0:r.filter(o=>o!==t);s&&(s.length===0?R(this,hr).delete(n):R(this,hr).set(n,s))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=R(this,hr).get(Zh(t)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=R(this,hr).get(Zh(t)))==null?void 0:r.find(s=>s!==t&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){nn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...R(this,hr).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>WC(n,r))}findAll(t={}){return this.getAll().filter(n=>WC(t,n))}notify(t){nn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return nn.batch(()=>Promise.all(t.map(n=>n.continue().catch(Lr))))}},hr=new WeakMap,wf=new WeakMap,UT);function Zh(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function KC(e){return{onFetch:(t,n)=>{var d,f,h,p,y;const r=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,o=((p=t.state.data)==null?void 0:p.pages)||[],i=((y=t.state.data)==null?void 0:y.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let g=!1;const w=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},_=CM(t.options,t.fetchOptions),v=async(x,b,S)=>{if(g)return Promise.reject();if(b==null&&x.pages.length)return Promise.resolve(x);const E={queryKey:t.queryKey,pageParam:b,direction:S?"backward":"forward",meta:t.options.meta};w(E);const k=await _(E),{maxPages:C}=t.options,T=S?$Z:FZ;return{pages:T(x.pages,k,C),pageParams:T(x.pageParams,b,C)}};if(s&&o.length){const x=s==="backward",b=x?YZ:YC,S={pages:o,pageParams:i},E=b(r,S);a=await v(S,E,x)}else{const x=e??o.length;do{const b=l===0?i[0]??r.initialPageParam:YC(r,a);if(l>0&&b==null)break;a=await v(a,b),l++}while(l<x)}return a};t.options.persister?t.fetchFn=()=>{var g,w;return(w=(g=t.options).persister)==null?void 0:w.call(g,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function YC(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function YZ(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var It,fi,hi,dc,fc,pi,hc,pc,BT,QZ=(BT=class{constructor(e={}){ve(this,It);ve(this,fi);ve(this,hi);ve(this,dc);ve(this,fc);ve(this,pi);ve(this,hc);ve(this,pc);ie(this,It,e.queryCache||new qZ),ie(this,fi,e.mutationCache||new KZ),ie(this,hi,e.defaultOptions||{}),ie(this,dc,new Map),ie(this,fc,new Map),ie(this,pi,0)}mount(){ch(this,pi)._++,R(this,pi)===1&&(ie(this,hc,fS.subscribe(async e=>{e&&(await this.resumePausedMutations(),R(this,It).onFocus())})),ie(this,pc,Um.subscribe(async e=>{e&&(await this.resumePausedMutations(),R(this,It).onOnline())})))}unmount(){var e,t;ch(this,pi)._--,R(this,pi)===0&&((e=R(this,hc))==null||e.call(this),ie(this,hc,void 0),(t=R(this,pc))==null||t.call(this),ie(this,pc,void 0))}isFetching(e){return R(this,It).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return R(this,fi).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=R(this,It).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=R(this,It).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(Jl(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return R(this,It).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=R(this,It).get(r.queryHash),o=s==null?void 0:s.state.data,i=DZ(t,o);if(i!==void 0)return R(this,It).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return nn.batch(()=>R(this,It).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=R(this,It).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=R(this,It);nn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=R(this,It),r={type:"active",...e};return nn.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=nn.batch(()=>R(this,It).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(Lr).catch(Lr)}invalidateQueries(e={},t={}){return nn.batch(()=>{if(R(this,It).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=nn.batch(()=>R(this,It).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(Lr)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Lr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=R(this,It).build(this,t);return n.isStaleByTime(Jl(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Lr).catch(Lr)}fetchInfiniteQuery(e){return e.behavior=KC(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Lr).catch(Lr)}ensureInfiniteQueryData(e){return e.behavior=KC(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Um.isOnline()?R(this,fi).resumePausedMutations():Promise.resolve()}getQueryCache(){return R(this,It)}getMutationCache(){return R(this,fi)}getDefaultOptions(){return R(this,hi)}setDefaultOptions(e){ie(this,hi,e)}setQueryDefaults(e,t){R(this,dc).set(Wa(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...R(this,dc).values()];let n={};return t.forEach(r=>{sf(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){R(this,fc).set(Wa(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...R(this,fc).values()];let n={};return t.forEach(r=>{sf(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...R(this,hi).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=uS(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===dS&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...R(this,hi).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){R(this,It).clear(),R(this,fi).clear()}},It=new WeakMap,fi=new WeakMap,hi=new WeakMap,dc=new WeakMap,fc=new WeakMap,pi=new WeakMap,hc=new WeakMap,pc=new WeakMap,BT),er,Ke,bf,Ln,Sa,mc,mi,Ms,Sf,gc,yc,Ea,ka,gi,vc,ot,Ku,vx,_x,xx,wx,bx,Sx,Ex,PM,zT,XZ=(zT=class extends fu{constructor(t,n){super();ve(this,ot);ve(this,er);ve(this,Ke);ve(this,bf);ve(this,Ln);ve(this,Sa);ve(this,mc);ve(this,mi);ve(this,Ms);ve(this,Sf);ve(this,gc);ve(this,yc);ve(this,Ea);ve(this,ka);ve(this,gi);ve(this,vc,new Set);this.options=n,ie(this,er,t),ie(this,Ms,null),ie(this,mi,yx()),this.options.experimental_prefetchInRender||R(this,mi).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(R(this,Ke).addObserver(this),QC(R(this,Ke),this.options)?De(this,ot,Ku).call(this):this.updateResult(),De(this,ot,wx).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return kx(R(this,Ke),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return kx(R(this,Ke),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,De(this,ot,bx).call(this),De(this,ot,Sx).call(this),R(this,Ke).removeObserver(this)}setOptions(t,n){const r=this.options,s=R(this,Ke);if(this.options=R(this,er).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof hs(this.options.enabled,R(this,Ke))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");De(this,ot,Ex).call(this),R(this,Ke).setOptions(this.options),r._defaulted&&!$m(this.options,r)&&R(this,er).getQueryCache().notify({type:"observerOptionsUpdated",query:R(this,Ke),observer:this});const o=this.hasListeners();o&&XC(R(this,Ke),s,this.options,r)&&De(this,ot,Ku).call(this),this.updateResult(n),o&&(R(this,Ke)!==s||hs(this.options.enabled,R(this,Ke))!==hs(r.enabled,R(this,Ke))||Jl(this.options.staleTime,R(this,Ke))!==Jl(r.staleTime,R(this,Ke)))&&De(this,ot,vx).call(this);const i=De(this,ot,_x).call(this);o&&(R(this,Ke)!==s||hs(this.options.enabled,R(this,Ke))!==hs(r.enabled,R(this,Ke))||i!==R(this,gi))&&De(this,ot,xx).call(this,i)}getOptimisticResult(t){const n=R(this,er).getQueryCache().build(R(this,er),t),r=this.createResult(n,t);return JZ(this,r)&&(ie(this,Ln,r),ie(this,mc,this.options),ie(this,Sa,R(this,Ke).state)),r}getCurrentResult(){return R(this,Ln)}trackResult(t,n){const r={};return Object.keys(t).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),t[s])})}),r}trackProp(t){R(this,vc).add(t)}getCurrentQuery(){return R(this,Ke)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=R(this,er).defaultQueryOptions(t),r=R(this,er).getQueryCache().build(R(this,er),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return De(this,ot,Ku).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),R(this,Ln)))}createResult(t,n){var C;const r=R(this,Ke),s=this.options,o=R(this,Ln),i=R(this,Sa),a=R(this,mc),u=t!==r?t.state:R(this,bf),{state:d}=t;let f={...d},h=!1,p;if(n._optimisticResults){const T=this.hasListeners(),j=!T&&QC(t,n),D=T&&XC(t,r,n,s);(j||D)&&(f={...f,...IM(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:y,errorUpdatedAt:g,status:w}=f;if(n.select&&f.data!==void 0)if(o&&f.data===(i==null?void 0:i.data)&&n.select===R(this,Sf))p=R(this,gc);else try{ie(this,Sf,n.select),p=n.select(f.data),p=gx(o==null?void 0:o.data,p,n),ie(this,gc,p),ie(this,Ms,null)}catch(T){ie(this,Ms,T)}else p=f.data;if(n.placeholderData!==void 0&&p===void 0&&w==="pending"){let T;if(o!=null&&o.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))T=o.data;else if(T=typeof n.placeholderData=="function"?n.placeholderData((C=R(this,yc))==null?void 0:C.state.data,R(this,yc)):n.placeholderData,n.select&&T!==void 0)try{T=n.select(T),ie(this,Ms,null)}catch(j){ie(this,Ms,j)}T!==void 0&&(w="success",p=gx(o==null?void 0:o.data,T,n),h=!0)}R(this,Ms)&&(y=R(this,Ms),p=R(this,gc),g=Date.now(),w="error");const _=f.fetchStatus==="fetching",v=w==="pending",x=w==="error",b=v&&_,S=p!==void 0,k={status:w,fetchStatus:f.fetchStatus,isPending:v,isSuccess:w==="success",isError:x,isInitialLoading:b,isLoading:b,data:p,dataUpdatedAt:f.dataUpdatedAt,error:y,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:_,isRefetching:_&&!v,isLoadingError:x&&!S,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:x&&S,isStale:hS(t,n),refetch:this.refetch,promise:R(this,mi)};if(this.options.experimental_prefetchInRender){const T=P=>{k.status==="error"?P.reject(k.error):k.data!==void 0&&P.resolve(k.data)},j=()=>{const P=ie(this,mi,k.promise=yx());T(P)},D=R(this,mi);switch(D.status){case"pending":t.queryHash===r.queryHash&&T(D);break;case"fulfilled":(k.status==="error"||k.data!==D.value)&&j();break;case"rejected":(k.status!=="error"||k.error!==D.reason)&&j();break}}return k}updateResult(t){const n=R(this,Ln),r=this.createResult(R(this,Ke),this.options);if(ie(this,Sa,R(this,Ke).state),ie(this,mc,this.options),R(this,Sa).data!==void 0&&ie(this,yc,R(this,Ke)),$m(r,n))return;ie(this,Ln,r);const s={},o=()=>{if(!n)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!R(this,vc).size)return!0;const l=new Set(a??R(this,vc));return this.options.throwOnError&&l.add("error"),Object.keys(R(this,Ln)).some(u=>{const d=u;return R(this,Ln)[d]!==n[d]&&l.has(d)})};(t==null?void 0:t.listeners)!==!1&&o()&&(s.listeners=!0),De(this,ot,PM).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&De(this,ot,wx).call(this)}},er=new WeakMap,Ke=new WeakMap,bf=new WeakMap,Ln=new WeakMap,Sa=new WeakMap,mc=new WeakMap,mi=new WeakMap,Ms=new WeakMap,Sf=new WeakMap,gc=new WeakMap,yc=new WeakMap,Ea=new WeakMap,ka=new WeakMap,gi=new WeakMap,vc=new WeakMap,ot=new WeakSet,Ku=function(t){De(this,ot,Ex).call(this);let n=R(this,Ke).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Lr)),n},vx=function(){De(this,ot,bx).call(this);const t=Jl(this.options.staleTime,R(this,Ke));if(Va||R(this,Ln).isStale||!px(t))return;const r=EM(R(this,Ln).dataUpdatedAt,t)+1;ie(this,Ea,setTimeout(()=>{R(this,Ln).isStale||this.updateResult()},r))},_x=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(R(this,Ke)):this.options.refetchInterval)??!1},xx=function(t){De(this,ot,Sx).call(this),ie(this,gi,t),!(Va||hs(this.options.enabled,R(this,Ke))===!1||!px(R(this,gi))||R(this,gi)===0)&&ie(this,ka,setInterval(()=>{(this.options.refetchIntervalInBackground||fS.isFocused())&&De(this,ot,Ku).call(this)},R(this,gi)))},wx=function(){De(this,ot,vx).call(this),De(this,ot,xx).call(this,De(this,ot,_x).call(this))},bx=function(){R(this,Ea)&&(clearTimeout(R(this,Ea)),ie(this,Ea,void 0))},Sx=function(){R(this,ka)&&(clearInterval(R(this,ka)),ie(this,ka,void 0))},Ex=function(){const t=R(this,er).getQueryCache().build(R(this,er),this.options);if(t===R(this,Ke))return;const n=R(this,Ke);ie(this,Ke,t),ie(this,bf,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},PM=function(t){nn.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(R(this,Ln))}),R(this,er).getQueryCache().notify({query:R(this,Ke),type:"observerResultsUpdated"})})},zT);function ZZ(e,t){return hs(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function QC(e,t){return ZZ(e,t)||e.state.data!==void 0&&kx(e,t,t.refetchOnMount)}function kx(e,t,n){if(hs(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&hS(e,t)}return!1}function XC(e,t,n,r){return(e!==t||hs(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&hS(e,n)}function hS(e,t){return hs(t.enabled,e)!==!1&&e.isStaleByTime(Jl(t.staleTime,e))}function JZ(e,t){return!$m(e.getCurrentResult(),t)}var yi,vi,tr,yo,ko,Np,Cx,HT,eJ=(HT=class extends fu{constructor(n,r){super();ve(this,ko);ve(this,yi);ve(this,vi);ve(this,tr);ve(this,yo);ie(this,yi,n),this.setOptions(r),this.bindMethods(),De(this,ko,Np).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=R(this,yi).defaultMutationOptions(n),$m(this.options,r)||R(this,yi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:R(this,tr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Wa(r.mutationKey)!==Wa(this.options.mutationKey)?this.reset():((s=R(this,tr))==null?void 0:s.state.status)==="pending"&&R(this,tr).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=R(this,tr))==null||n.removeObserver(this)}onMutationUpdate(n){De(this,ko,Np).call(this),De(this,ko,Cx).call(this,n)}getCurrentResult(){return R(this,vi)}reset(){var n;(n=R(this,tr))==null||n.removeObserver(this),ie(this,tr,void 0),De(this,ko,Np).call(this),De(this,ko,Cx).call(this)}mutate(n,r){var s;return ie(this,yo,r),(s=R(this,tr))==null||s.removeObserver(this),ie(this,tr,R(this,yi).getMutationCache().build(R(this,yi),this.options)),R(this,tr).addObserver(this),R(this,tr).execute(n)}},yi=new WeakMap,vi=new WeakMap,tr=new WeakMap,yo=new WeakMap,ko=new WeakSet,Np=function(){var r;const n=((r=R(this,tr))==null?void 0:r.state)??jM();ie(this,vi,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Cx=function(n){nn.batch(()=>{var r,s,o,i,a,l,u,d;if(R(this,yo)&&this.hasListeners()){const f=R(this,vi).variables,h=R(this,vi).context;(n==null?void 0:n.type)==="success"?((s=(r=R(this,yo)).onSuccess)==null||s.call(r,n.data,f,h),(i=(o=R(this,yo)).onSettled)==null||i.call(o,n.data,null,f,h)):(n==null?void 0:n.type)==="error"&&((l=(a=R(this,yo)).onError)==null||l.call(a,n.error,f,h),(d=(u=R(this,yo)).onSettled)==null||d.call(u,void 0,n.error,f,h))}this.listeners.forEach(f=>{f(R(this,vi))})})},HT),OM=m.createContext(void 0),eo=e=>{const t=m.useContext(OM);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},tJ=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),c.jsx(OM.Provider,{value:e,children:t})),MM=m.createContext(!1),nJ=()=>m.useContext(MM);MM.Provider;function rJ(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var sJ=m.createContext(rJ()),oJ=()=>m.useContext(sJ);function DM(e,t){return typeof e=="function"?e(...t):!!e}function LM(){}var iJ=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},aJ=e=>{m.useEffect(()=>{e.clearReset()},[e])},lJ=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&DM(n,[e.error,r]),cJ=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},uJ=(e,t)=>e.isLoading&&e.isFetching&&!t,dJ=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,ZC=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function fJ(e,t,n){var d,f,h,p,y;const r=eo(),s=nJ(),o=oJ(),i=r.defaultQueryOptions(e);(f=(d=r.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,i),i._optimisticResults=s?"isRestoring":"optimistic",cJ(i),iJ(i,o),aJ(o);const a=!r.getQueryCache().get(i.queryHash),[l]=m.useState(()=>new t(r,i)),u=l.getOptimisticResult(i);if(m.useSyncExternalStore(m.useCallback(g=>{const w=s?()=>{}:l.subscribe(nn.batchCalls(g));return l.updateResult(),w},[l,s]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),m.useEffect(()=>{l.setOptions(i,{listeners:!1})},[i,l]),dJ(i,u))throw ZC(i,l,o);if(lJ({result:u,errorResetBoundary:o,throwOnError:i.throwOnError,query:r.getQueryCache().get(i.queryHash)}))throw u.error;if((p=(h=r.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||p.call(h,i,u),i.experimental_prefetchInRender&&!Va&&uJ(u,s)){const g=a?ZC(i,l,o):(y=r.getQueryCache().get(i.queryHash))==null?void 0:y.promise;g==null||g.catch(LM).finally(()=>{l.updateResult()})}return i.notifyOnChangeProps?u:l.trackResult(u)}function Qs(e,t){return fJ(e,XZ)}function Fc(e,t){const n=eo(),[r]=m.useState(()=>new eJ(n,e));m.useEffect(()=>{r.setOptions(e)},[r,e]);const s=m.useSyncExternalStore(m.useCallback(i=>r.subscribe(nn.batchCalls(i)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=m.useCallback((i,a)=>{r.mutate(i,a).catch(LM)},[r]);if(s.error&&DM(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:o,mutateAsync:s.mutate}}const hJ=()=>Qs({queryKey:["categories","v3"],queryFn:async()=>{const{data:e,error:t}=await Ge.from("categories").select("*");if(t)throw new Error(t.message);return e||[]},staleTime:1e3*60*5,gcTime:1e3*60*10}),pJ=({item:e,isOpen:t,onClick:n})=>c.jsxs("button",{onClick:n,className:`
        flex items-center gap-2 px-3 xl:px-6 py-2 xl:py-3
        text-sm xl:text-lg font-semibold text-white 
        transition-all duration-200 rounded-lg
        hover:bg-white/10
        ${t?"bg-white/20":""}
      `,children:[c.jsx("span",{className:"whitespace-nowrap",children:e.name}),c.jsx(gy,{className:`w-4 h-4 xl:w-5 xl:h-5 transition-transform duration-200 ${t?"rotate-180":""}`})]}),mJ=({children:e,onItemClick:t})=>c.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 z-[9999] mt-2 min-w-[600px] xl:min-w-[800px]",children:c.jsx("div",{className:"bg-gray-900 border border-gray-700 rounded-lg shadow-xl overflow-hidden",children:c.jsx("div",{className:"grid grid-cols-2 xl:grid-cols-3 gap-0 p-2",children:e.map(n=>c.jsxs(Tt,{to:`/category/${n.id}`,className:"block p-3 hover:bg-gray-800 transition-colors duration-200 rounded-md m-1",onClick:t,children:[c.jsx("div",{className:"text-sm font-medium text-white leading-none mb-1",children:n.name}),c.jsx("p",{className:"text-xs text-gray-400 leading-snug line-clamp-2",children:n.description||"Rank the greatest athletes"})]},n.id))})})}),gJ=({isOpen:e,onClose:t,menuItems:n})=>c.jsx("div",{className:`fixed inset-0 z-[9999] bg-black/50 transition-opacity duration-300 ${e?"opacity-100":"opacity-0 pointer-events-none"}`,children:c.jsxs("div",{className:`fixed right-0 top-0 h-full w-80 max-w-[90vw] bg-gray-900 border-l border-gray-700 transform transition-transform duration-300 ${e?"translate-x-0":"translate-x-full"}`,children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[c.jsx("h2",{className:"text-lg font-semibold text-white",children:"Categories"}),c.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-white transition-colors",children:c.jsx(il,{className:"h-5 w-5"})})]}),c.jsx("div",{className:"p-4 space-y-4 overflow-y-auto h-full pb-20",children:n.map(r=>c.jsxs("div",{className:"space-y-2",children:[c.jsxs("h3",{className:"text-sm font-medium text-gray-300 uppercase tracking-wide flex items-center gap-2",children:[c.jsx("span",{children:r.icon}),r.name]}),c.jsx("div",{className:"space-y-1",children:r.children.map(s=>c.jsxs(Tt,{to:`/category/${s.id}`,className:"block p-3 rounded-lg hover:bg-gray-800 transition-colors",onClick:t,children:[c.jsx("div",{className:"text-sm font-medium text-white",children:s.name}),c.jsx("p",{className:"text-xs text-gray-400 mt-1 line-clamp-2",children:s.description||"Rank the greatest athletes"})]},s.id))})]},r.id))})]})}),yJ=()=>{const[e,t]=m.useState(null),[n,r]=m.useState(!1),s=m.useRef({}),o=MZ(),{data:i}=hJ(),a=z.useMemo(()=>{if(!i)return[];const u=new Map(i.map(f=>[f.id,{...f,children:[]}])),d=[];return i.forEach(f=>{if(f.parent_id){const h=u.get(f.parent_id);h&&h.children.push(u.get(f.id))}else d.push(u.get(f.id))}),d.filter(f=>["GOAT","Current GOAT","Competitions"].includes(f.name)).map(f=>({id:f.id,name:f.name,icon:"",children:f.children.map(h=>({id:h.id,name:h.name,description:h.description||void 0}))})).sort((f,h)=>{const p=["GOAT","Current GOAT","Competitions"];return p.indexOf(f.name)-p.indexOf(h.name)})},[i]);m.useEffect(()=>{const u=f=>{Object.values(s.current).some(p=>p==null?void 0:p.contains(f.target))||t(null)},d=()=>{t(null)};return document.addEventListener("mousedown",u),window.addEventListener("scroll",d),()=>{document.removeEventListener("mousedown",u),window.removeEventListener("scroll",d)}},[]);const l=u=>{if(o){r(!0);return}t(e===u?null:u)};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"w-full flex justify-center",children:[c.jsx("div",{className:"block lg:hidden",children:c.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 text-white hover:bg-white/10 rounded-lg transition-colors",children:[c.jsx(iM,{className:"h-5 w-5"}),c.jsx("span",{className:"text-sm font-medium",children:"Categories"})]})}),c.jsx("nav",{className:"hidden lg:flex items-center justify-center gap-2 xl:gap-6",children:a.map(u=>{const d=e===u.id;return c.jsxs("div",{className:"relative",ref:f=>s.current[u.id]=f,children:[c.jsx(pJ,{item:u,isOpen:d,onClick:()=>l(u.id)}),d&&c.jsx(mJ,{children:u.children,onItemClick:()=>t(null)})]},u.id)})})]}),c.jsx(gJ,{isOpen:n,onClose:()=>r(!1),menuItems:a})]})};var pS="Popover",[FM,Jie]=Jr(pS,[du]),eh=du(),[vJ,na]=FM(pS),$M=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!1}=e,a=eh(t),l=m.useRef(null),[u,d]=m.useState(!1),[f=!1,h]=Gs({prop:r,defaultProp:s,onChange:o});return c.jsx(Gb,{...a,children:c.jsx(vJ,{scope:t,contentId:qr(),triggerRef:l,open:f,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:u,onCustomAnchorAdd:m.useCallback(()=>d(!0),[]),onCustomAnchorRemove:m.useCallback(()=>d(!1),[]),modal:i,children:n})})};$M.displayName=pS;var UM="PopoverAnchor",_J=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=na(UM,n),o=eh(n),{onCustomAnchorAdd:i,onCustomAnchorRemove:a}=s;return m.useEffect(()=>(i(),()=>a()),[i,a]),c.jsx(cy,{...o,...r,ref:t})});_J.displayName=UM;var BM="PopoverTrigger",zM=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=na(BM,n),o=eh(n),i=Fe(t,s.triggerRef),a=c.jsx(he.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":GM(s.open),...r,ref:i,onClick:te(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?a:c.jsx(cy,{asChild:!0,...o,children:a})});zM.displayName=BM;var mS="PopoverPortal",[xJ,wJ]=FM(mS,{forceMount:void 0}),HM=e=>{const{__scopePopover:t,forceMount:n,children:r,container:s}=e,o=na(mS,t);return c.jsx(xJ,{scope:t,forceMount:n,children:c.jsx(wn,{present:n||o.open,children:c.jsx(Gf,{asChild:!0,container:s,children:r})})})};HM.displayName=mS;var $c="PopoverContent",VM=m.forwardRef((e,t)=>{const n=wJ($c,e.__scopePopover),{forceMount:r=n.forceMount,...s}=e,o=na($c,e.__scopePopover);return c.jsx(wn,{present:r||o.open,children:o.modal?c.jsx(bJ,{...s,ref:t}):c.jsx(SJ,{...s,ref:t})})});VM.displayName=$c;var bJ=m.forwardRef((e,t)=>{const n=na($c,e.__scopePopover),r=m.useRef(null),s=Fe(t,r),o=m.useRef(!1);return m.useEffect(()=>{const i=r.current;if(i)return fy(i)},[]),c.jsx(Kf,{as:Ks,allowPinchZoom:!0,children:c.jsx(WM,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:te(e.onCloseAutoFocus,i=>{var a;i.preventDefault(),o.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:te(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,u=a.button===2||l;o.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:te(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),SJ=m.forwardRef((e,t)=>{const n=na($c,e.__scopePopover),r=m.useRef(!1),s=m.useRef(!1);return c.jsx(WM,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),WM=m.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:d,...f}=e,h=na($c,n),p=eh(n);return oy(),c.jsx(Wf,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:c.jsx(Vf,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:c.jsx(Kb,{"data-state":GM(h.open),role:"dialog",id:h.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),qM="PopoverClose",EJ=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=na(qM,n);return c.jsx(he.button,{type:"button",...r,ref:t,onClick:te(e.onClick,()=>s.onOpenChange(!1))})});EJ.displayName=qM;var kJ="PopoverArrow",CJ=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=eh(n);return c.jsx(Yb,{...s,...r,ref:t})});CJ.displayName=kJ;function GM(e){return e?"open":"closed"}var TJ=$M,NJ=zM,RJ=HM,KM=VM;const AJ=TJ,IJ=NJ,YM=m.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},s)=>c.jsx(RJ,{children:c.jsx(KM,{ref:s,align:t,sideOffset:n,className:ne("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));YM.displayName=KM.displayName;const Rp={async fetchNotifications(e){console.log("Fetching notifications for user:",e);const{data:t,error:n}=await vr.from("notifications").select("*").eq("user_id",e).order("created_at",{ascending:!1}).limit(50);if(n)throw console.error("Error fetching notifications:",n),n;if(console.log("Raw notifications fetched:",(t==null?void 0:t.length)||0),!t||t.length===0)return console.log("No notifications found"),[];const r=await this.filterValidNotifications(t);return console.log(`Final notifications after filtering: ${r.length}`),r},async fetchUnreadCount(e){console.log("Calculating unread count for user:",e);const{data:t,error:n}=await vr.from("notifications").select("*").eq("user_id",e).eq("is_read",!1);if(n)throw console.error("Error fetching unread notification count:",n),n;if(!t||t.length===0)return console.log("No unread notifications found"),0;console.log("Raw unread notifications:",t.length);const s=(await this.filterValidNotifications(t)).length;return console.log("Final unread count:",s),s},async filterValidNotifications(e){const t=[];for(const n of e)if(n.type==="new_friend_request"){const r=n.data;if(r!=null&&r.friendship_id){console.log("Checking friendship status for notification:",n.id,"friendship:",r.friendship_id);const{data:s,error:o}=await vr.from("friendships").select("status").eq("id",r.friendship_id).maybeSingle();if(o){console.error("Error checking friendship status:",o),t.push(n);continue}console.log("Friendship status:",s==null?void 0:s.status),(s==null?void 0:s.status)==="pending"?(console.log("Keeping pending friend request notification"),t.push(n)):console.log("Filtering out non-pending friend request notification")}else t.push(n)}else t.push(n);return t},async markAllAsRead(e){const{error:t}=await vr.from("notifications").update({is_read:!0}).eq("user_id",e).eq("is_read",!1);if(t)throw t},async markAsRead(e,t){const{error:n}=await vr.from("notifications").update({is_read:!0}).eq("id",e).eq("user_id",t);if(n)throw n}},jJ=1,PJ=1e6;let Gv=0;function OJ(){return Gv=(Gv+1)%Number.MAX_SAFE_INTEGER,Gv.toString()}const Kv=new Map,JC=e=>{if(Kv.has(e))return;const t=setTimeout(()=>{Kv.delete(e),Ap({type:"REMOVE_TOAST",toastId:e})},PJ);Kv.set(e,t)},MJ=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,jJ)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?JC(n):e.toasts.forEach(r=>{JC(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},DJ=[];let Yv={toasts:[]};function Ap(e){Yv=MJ(Yv,e),DJ.forEach(t=>{t(Yv)})}function Jh({...e}){const t=OJ(),n=s=>Ap({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>Ap({type:"DISMISS_TOAST",toastId:t});return Ap({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}const eT={async acceptFriendRequest(e){const{error:t}=await vr.from("friendships").update({status:"accepted"}).eq("id",e);if(t)throw t;return e},async declineFriendRequest(e){const{error:t}=await vr.from("friendships").update({status:"declined"}).eq("id",e);if(t)throw t;return e}},LJ=()=>{const{user:e}=Ir(),t=eo(),n=Fc({mutationFn:eT.acceptFriendRequest,onSuccess:s=>{Jh({title:"Friend request accepted!",description:"You are now friends and can see each other's activity."}),t.invalidateQueries({queryKey:["notifications",e==null?void 0:e.id]}),t.invalidateQueries({queryKey:["unread-notifications-count",e==null?void 0:e.id]}),t.invalidateQueries({queryKey:["friendship-status"]}),t.invalidateQueries({queryKey:["publicFriends"]}),t.invalidateQueries({queryKey:["feed"]})},onError:s=>{Jh({title:"Failed to accept friend request",description:s.message||"Please try again later.",variant:"destructive"})}}),r=Fc({mutationFn:eT.declineFriendRequest,onSuccess:s=>{Jh({title:"Friend request declined",description:"The friend request has been declined."}),t.invalidateQueries({queryKey:["notifications",e==null?void 0:e.id]}),t.invalidateQueries({queryKey:["unread-notifications-count",e==null?void 0:e.id]}),t.invalidateQueries({queryKey:["friendship-status"]})},onError:s=>{Jh({title:"Failed to decline friend request",description:s.message||"Please try again later.",variant:"destructive"})}});return{acceptFriendRequest:n.mutate,isAccepting:n.isPending,declineFriendRequest:r.mutate,isDeclining:r.isPending}},QM=()=>{const{user:e}=Ir(),t=eo(),n=LJ(),r=Qs({queryKey:["notifications",e==null?void 0:e.id],queryFn:async()=>e!=null&&e.id?await Rp.fetchNotifications(e.id):(console.log("No user ID, returning empty notifications"),[]),enabled:!!(e!=null&&e.id),staleTime:1*60*1e3,gcTime:10*60*1e3,refetchOnWindowFocus:!1}),s=Qs({queryKey:["unread-notifications-count",e==null?void 0:e.id],queryFn:async()=>e!=null&&e.id?await Rp.fetchUnreadCount(e.id):0,enabled:!!(e!=null&&e.id),staleTime:30*1e3,gcTime:2*60*1e3,refetchOnWindowFocus:!0}),o=Fc({mutationFn:async()=>{if(!(e!=null&&e.id))throw new Error("User not authenticated");await Rp.markAllAsRead(e.id)},onSuccess:()=>{t.invalidateQueries({queryKey:["notifications",e==null?void 0:e.id]}),t.invalidateQueries({queryKey:["unread-notifications-count",e==null?void 0:e.id]})}});return{notifications:r.data||[],isLoading:r.isLoading,unreadCount:s.data||0,markAllAsRead:o.mutate,acceptFriendRequest:n.acceptFriendRequest,isAccepting:n.isAccepting,declineFriendRequest:n.declineFriendRequest,isDeclining:n.isDeclining,error:r.error,...r}},FJ=()=>{const e=eo(),{user:t}=Ir();return Fc({mutationFn:async n=>{if(!(t!=null&&t.id))throw new Error("User not authenticated");await Rp.markAsRead(n,t.id)},onSuccess:()=>{e.invalidateQueries({queryKey:["notifications",t==null?void 0:t.id]}),e.invalidateQueries({queryKey:["unread-notifications-count",t==null?void 0:t.id]})}})};function vn(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function $J(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const eae=6048e5,tae=864e5,nae=6e4,rae=36e5,ep=43200,tT=1440;let UJ={};function BJ(){return UJ}function nT(e){const t=vn(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Ip(e,t){const n=vn(e),r=vn(t),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function zJ(e){return $J(e,Date.now())}function HJ(e,t){const n=vn(e),r=vn(t),s=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return s*12+o}function VJ(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function WJ(e,t){return+vn(e)-+vn(t)}function qJ(e){const t=vn(e);return t.setHours(23,59,59,999),t}function GJ(e){const t=vn(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function KJ(e){const t=vn(e);return+qJ(t)==+GJ(t)}function YJ(e,t){const n=vn(e),r=vn(t),s=Ip(n,r),o=Math.abs(HJ(n,r));let i;if(o<1)i=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*o);let a=Ip(n,r)===-s;KJ(vn(e))&&o===1&&Ip(e,r)===1&&(a=!1),i=s*(o-Number(a))}return i===0?0:i}function QJ(e,t,n){const r=WJ(e,t)/1e3;return VJ(n==null?void 0:n.roundingMethod)(r)}const XJ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ZJ=(e,t,n)=>{let r;const s=XJ[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Qv(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const JJ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},eee={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},tee={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},nee={date:Qv({formats:JJ,defaultWidth:"full"}),time:Qv({formats:eee,defaultWidth:"full"}),dateTime:Qv({formats:tee,defaultWidth:"full"})},ree={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},see=(e,t,n,r)=>ree[e];function Iu(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,a=n!=null&&n.width?String(n.width):i;s=e.formattingValues[a]||e.formattingValues[i]}else{const i=e.defaultWidth,a=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[a]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return s[o]}}const oee={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},iee={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},aee={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},lee={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},cee={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},uee={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},dee=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},fee={ordinalNumber:dee,era:Iu({values:oee,defaultWidth:"wide"}),quarter:Iu({values:iee,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Iu({values:aee,defaultWidth:"wide"}),day:Iu({values:lee,defaultWidth:"wide"}),dayPeriod:Iu({values:cee,defaultWidth:"wide",formattingValues:uee,defaultFormattingWidth:"wide"})};function ju(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;const i=o[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?pee(a,f=>f.test(i)):hee(a,f=>f.test(i));let u;u=e.valueCallback?e.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(i.length);return{value:u,rest:d}}}function hee(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function pee(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function mee(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=n.valueCallback?n.valueCallback(i):i;const a=t.slice(s.length);return{value:i,rest:a}}}const gee=/^(\d+)(th|st|nd|rd)?/i,yee=/\d+/i,vee={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},_ee={any:[/^b/i,/^(a|c)/i]},xee={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},wee={any:[/1/i,/2/i,/3/i,/4/i]},bee={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},See={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Eee={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},kee={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Cee={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Tee={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Nee={ordinalNumber:mee({matchPattern:gee,parsePattern:yee,valueCallback:e=>parseInt(e,10)}),era:ju({matchPatterns:vee,defaultMatchWidth:"wide",parsePatterns:_ee,defaultParseWidth:"any"}),quarter:ju({matchPatterns:xee,defaultMatchWidth:"wide",parsePatterns:wee,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ju({matchPatterns:bee,defaultMatchWidth:"wide",parsePatterns:See,defaultParseWidth:"any"}),day:ju({matchPatterns:Eee,defaultMatchWidth:"wide",parsePatterns:kee,defaultParseWidth:"any"}),dayPeriod:ju({matchPatterns:Cee,defaultMatchWidth:"any",parsePatterns:Tee,defaultParseWidth:"any"})},Ree={code:"en-US",formatDistance:ZJ,formatLong:nee,formatRelative:see,localize:fee,match:Nee,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Aee(e,t,n){const r=BJ(),s=(n==null?void 0:n.locale)??r.locale??Ree,o=2520,i=Ip(e,t);if(isNaN(i))throw new RangeError("Invalid time value");const a=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:i});let l,u;i>0?(l=vn(t),u=vn(e)):(l=vn(e),u=vn(t));const d=QJ(u,l),f=(nT(u)-nT(l))/1e3,h=Math.round((d-f)/60);let p;if(h<2)return n!=null&&n.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,a):d<10?s.formatDistance("lessThanXSeconds",10,a):d<20?s.formatDistance("lessThanXSeconds",20,a):d<40?s.formatDistance("halfAMinute",0,a):d<60?s.formatDistance("lessThanXMinutes",1,a):s.formatDistance("xMinutes",1,a):h===0?s.formatDistance("lessThanXMinutes",1,a):s.formatDistance("xMinutes",h,a);if(h<45)return s.formatDistance("xMinutes",h,a);if(h<90)return s.formatDistance("aboutXHours",1,a);if(h<tT){const y=Math.round(h/60);return s.formatDistance("aboutXHours",y,a)}else{if(h<o)return s.formatDistance("xDays",1,a);if(h<ep){const y=Math.round(h/tT);return s.formatDistance("xDays",y,a)}else if(h<ep*2)return p=Math.round(h/ep),s.formatDistance("aboutXMonths",p,a)}if(p=YJ(u,l),p<12){const y=Math.round(h/ep);return s.formatDistance("xMonths",y,a)}else{const y=p%12,g=Math.trunc(p/12);return y<3?s.formatDistance("aboutXYears",g,a):y<9?s.formatDistance("overXYears",g,a):s.formatDistance("almostXYears",g+1,a)}}function XM(e,t){return Aee(e,zJ(e),t)}const Iee=({notification:e,acceptFriendRequest:t,declineFriendRequest:n,isAccepting:r,isDeclining:s})=>{const o=FJ(),i=()=>{e.is_read||o.mutate(e.id)},a=()=>{switch(e.type){case"new_friend_request":return c.jsx(rf,{className:"h-4 w-4 text-green-400"});case"friend_request_accepted":return c.jsx(rf,{className:"h-4 w-4 text-green-400"});case"new_comment_reply":return c.jsx(yZ,{className:"h-4 w-4 text-blue-400"});case"badge_earned":return c.jsx(uM,{className:"h-4 w-4 text-yellow-400"});case"ranking_reaction":return c.jsx(cZ,{className:"h-4 w-4 text-red-400"});case"new_category":return c.jsx(lZ,{className:"h-4 w-4 text-purple-400"});default:return c.jsx(sZ,{className:"h-4 w-4 text-gray-400"})}},l=p=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(p),d=(()=>{const p=e.data;switch(e.type){case"new_friend_request":return{title:"New Friend Request",message:`${(p==null?void 0:p.requester_name)||"Someone"} sent you a friend request`,actions:c.jsxs("div",{className:"flex gap-2 mt-2",children:[c.jsx(Be,{size:"sm",onClick:y=>{y.stopPropagation(),t(p==null?void 0:p.friendship_id),i()},disabled:r,className:"bg-green-600 hover:bg-green-700 h-7 px-3 text-xs",children:"Accept"}),c.jsx(Be,{size:"sm",variant:"outline",onClick:y=>{y.stopPropagation(),n(p==null?void 0:p.friendship_id),i()},disabled:s,className:"border-gray-600 text-gray-300 hover:bg-gray-700 h-7 px-3 text-xs",children:"Decline"})]})};case"friend_request_accepted":return{title:"Friend Request Accepted",message:`${(p==null?void 0:p.receiver_name)||"Someone"} accepted your friend request`,link:p!=null&&p.receiver_id&&l(p.receiver_id)?`/users/${p.receiver_id}`:void 0};case"new_comment_reply":return{title:"New Comment Reply",message:`${(p==null?void 0:p.commenter_name)||"Someone"} replied to your comment`,link:p!=null&&p.ranking_id&&l(p.ranking_id)?`/ranking/${p.ranking_id}`:void 0};case"badge_earned":return{title:"Badge Earned!",message:`You earned the "${(p==null?void 0:p.badge_name)||"Achievement"}" badge`,link:"/profile"};case"ranking_reaction":return{title:"Ranking Reaction",message:`${(p==null?void 0:p.user_name)||"Someone"} ${(p==null?void 0:p.reaction_type)||"reacted to"} your ranking "${(p==null?void 0:p.ranking_title)||"your ranking"}"`,link:p!=null&&p.ranking_id&&l(p.ranking_id)?`/ranking/${p.ranking_id}`:void 0};case"new_category":return{title:"New Category Available",message:`New category "${(p==null?void 0:p.category_name)||"category"}" is now available for ranking`,link:p!=null&&p.category_id&&l(p.category_id)?`/category/${p.category_id}`:void 0};default:return{title:"Notification",message:(p==null?void 0:p.message)||"You have a new notification"}}})(),f=ne("block p-3 border-b border-gray-700/50 hover:bg-gray-800/50 transition-colors cursor-pointer",!e.is_read&&"bg-blue-900/20 border-l-4 border-l-blue-500"),h=c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"flex-shrink-0 mt-1",children:a()}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h4",{className:"text-sm font-medium text-white truncate",children:d.title}),!e.is_read&&c.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0 ml-2"})]}),c.jsx("p",{className:"text-sm text-gray-400 mt-1 break-words",children:d.message}),c.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[XM(new Date(e.created_at))," ago"]}),d.actions&&d.actions]})]});return d.link?c.jsx(Tt,{to:d.link,onClick:i,className:f,children:h}):c.jsx("div",{onClick:i,className:f,children:h})};function Tx(e,[t,n]){return Math.min(n,Math.max(t,e))}function jee(e,t){return m.useReducer((n,r)=>t[n][r]??n,e)}var gS="ScrollArea",[ZM,sae]=Jr(gS),[Pee,es]=ZM(gS),JM=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:o=600,...i}=e,[a,l]=m.useState(null),[u,d]=m.useState(null),[f,h]=m.useState(null),[p,y]=m.useState(null),[g,w]=m.useState(null),[_,v]=m.useState(0),[x,b]=m.useState(0),[S,E]=m.useState(!1),[k,C]=m.useState(!1),T=Fe(t,D=>l(D)),j=Hf(s);return c.jsx(Pee,{scope:n,type:r,dir:j,scrollHideDelay:o,scrollArea:a,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:y,scrollbarXEnabled:S,onScrollbarXEnabledChange:E,scrollbarY:g,onScrollbarYChange:w,scrollbarYEnabled:k,onScrollbarYEnabledChange:C,onCornerWidthChange:v,onCornerHeightChange:b,children:c.jsx(he.div,{dir:j,...i,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":_+"px","--radix-scroll-area-corner-height":x+"px",...e.style}})})});JM.displayName=gS;var eD="ScrollAreaViewport",tD=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,asChild:s,nonce:o,...i}=e,a=es(eD,n),l=m.useRef(null),u=Fe(t,l,a.onViewportChange);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:o}),c.jsx(he.div,{"data-radix-scroll-area-viewport":"",...i,asChild:s,ref:u,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:Hee({asChild:s,children:r},d=>c.jsx("div",{"data-radix-scroll-area-content":"",ref:a.onContentChange,style:{minWidth:a.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});tD.displayName=eD;var to="ScrollAreaScrollbar",yS=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=es(to,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=s,a=e.orientation==="horizontal";return m.useEffect(()=>(a?o(!0):i(!0),()=>{a?o(!1):i(!1)}),[a,o,i]),s.type==="hover"?c.jsx(Oee,{...r,ref:t,forceMount:n}):s.type==="scroll"?c.jsx(Mee,{...r,ref:t,forceMount:n}):s.type==="auto"?c.jsx(nD,{...r,ref:t,forceMount:n}):s.type==="always"?c.jsx(vS,{...r,ref:t}):null});yS.displayName=to;var Oee=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=es(to,e.__scopeScrollArea),[o,i]=m.useState(!1);return m.useEffect(()=>{const a=s.scrollArea;let l=0;if(a){const u=()=>{window.clearTimeout(l),i(!0)},d=()=>{l=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),c.jsx(wn,{present:n||o,children:c.jsx(nD,{"data-state":o?"visible":"hidden",...r,ref:t})})}),Mee=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=es(to,e.__scopeScrollArea),o=e.orientation==="horizontal",i=_y(()=>l("SCROLL_END"),100),[a,l]=jee("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,s.scrollHideDelay,l]),m.useEffect(()=>{const u=s.viewport,d=o?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const p=u[d];f!==p&&(l("SCROLL"),i()),f=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,o,l,i]),c.jsx(wn,{present:n||a!=="hidden",children:c.jsx(vS,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:te(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:te(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),nD=m.forwardRef((e,t)=>{const n=es(to,e.__scopeScrollArea),{forceMount:r,...s}=e,[o,i]=m.useState(!1),a=e.orientation==="horizontal",l=_y(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;i(a?u:d)}},10);return Uc(n.viewport,l),Uc(n.content,l),c.jsx(wn,{present:r||o,children:c.jsx(vS,{"data-state":o?"visible":"hidden",...s,ref:t})})}),vS=m.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=es(to,e.__scopeScrollArea),o=m.useRef(null),i=m.useRef(0),[a,l]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=aD(a.viewport,a.content),d={...r,sizes:a,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:h=>o.current=h,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:h=>i.current=h};function f(h,p){return Bee(h,i.current,a,p)}return n==="horizontal"?c.jsx(Dee,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const h=s.viewport.scrollLeft,p=rT(h,a,s.dir);o.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):n==="vertical"?c.jsx(Lee,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const h=s.viewport.scrollTop,p=rT(h,a);o.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),Dee=m.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,o=es(to,e.__scopeScrollArea),[i,a]=m.useState(),l=m.useRef(null),u=Fe(t,l,o.onScrollbarXChange);return m.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),c.jsx(sD,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":vy(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(o.viewport){const h=o.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),cD(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&o.viewport&&i&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:zm(i.paddingLeft),paddingEnd:zm(i.paddingRight)}})}})}),Lee=m.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,o=es(to,e.__scopeScrollArea),[i,a]=m.useState(),l=m.useRef(null),u=Fe(t,l,o.onScrollbarYChange);return m.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),c.jsx(sD,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":vy(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(o.viewport){const h=o.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),cD(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&o.viewport&&i&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:zm(i.paddingTop),paddingEnd:zm(i.paddingBottom)}})}})}),[Fee,rD]=ZM(to),sD=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,p=es(to,n),[y,g]=m.useState(null),w=Fe(t,T=>g(T)),_=m.useRef(null),v=m.useRef(""),x=p.viewport,b=r.content-r.viewport,S=Gt(d),E=Gt(l),k=_y(f,10);function C(T){if(_.current){const j=T.clientX-_.current.left,D=T.clientY-_.current.top;u({x:j,y:D})}}return m.useEffect(()=>{const T=j=>{const D=j.target;(y==null?void 0:y.contains(D))&&S(j,b)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[x,y,b,S]),m.useEffect(E,[r,E]),Uc(y,k),Uc(p.content,k),c.jsx(Fee,{scope:n,scrollbar:y,hasThumb:s,onThumbChange:Gt(o),onThumbPointerUp:Gt(i),onThumbPositionChange:E,onThumbPointerDown:Gt(a),children:c.jsx(he.div,{...h,ref:w,style:{position:"absolute",...h.style},onPointerDown:te(e.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),_.current=y.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),C(T))}),onPointerMove:te(e.onPointerMove,C),onPointerUp:te(e.onPointerUp,T=>{const j=T.target;j.hasPointerCapture(T.pointerId)&&j.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=v.current,p.viewport&&(p.viewport.style.scrollBehavior=""),_.current=null})})})}),Bm="ScrollAreaThumb",oD=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=rD(Bm,e.__scopeScrollArea);return c.jsx(wn,{present:n||s.hasThumb,children:c.jsx($ee,{ref:t,...r})})}),$ee=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,o=es(Bm,n),i=rD(Bm,n),{onThumbPositionChange:a}=i,l=Fe(t,f=>i.onThumbChange(f)),u=m.useRef(),d=_y(()=>{u.current&&(u.current(),u.current=void 0)},100);return m.useEffect(()=>{const f=o.viewport;if(f){const h=()=>{if(d(),!u.current){const p=zee(f,a);u.current=p,a()}};return a(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[o.viewport,d,a]),c.jsx(he.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:te(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),y=f.clientX-p.left,g=f.clientY-p.top;i.onThumbPointerDown({x:y,y:g})}),onPointerUp:te(e.onPointerUp,i.onThumbPointerUp)})});oD.displayName=Bm;var _S="ScrollAreaCorner",iD=m.forwardRef((e,t)=>{const n=es(_S,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?c.jsx(Uee,{...e,ref:t}):null});iD.displayName=_S;var Uee=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=es(_S,n),[o,i]=m.useState(0),[a,l]=m.useState(0),u=!!(o&&a);return Uc(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),l(d)}),Uc(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),i(d)}),u?c.jsx(he.div,{...r,ref:t,style:{width:o,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function zm(e){return e?parseInt(e,10):0}function aD(e,t){const n=e/t;return isNaN(n)?0:n}function vy(e){const t=aD(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function Bee(e,t,n,r="ltr"){const s=vy(n),o=s/2,i=t||o,a=s-i,l=n.scrollbar.paddingStart+i,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return lD([l,u],f)(e)}function rT(e,t,n="ltr"){const r=vy(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-s,i=t.content-t.viewport,a=o-r,l=n==="ltr"?[0,i]:[i*-1,0],u=Tx(e,l);return lD([0,i],[0,a])(u)}function lD(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function cD(e,t){return e>0&&e<t}var zee=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const o={left:e.scrollLeft,top:e.scrollTop},i=n.left!==o.left,a=n.top!==o.top;(i||a)&&t(),n=o,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function _y(e,t){const n=Gt(e),r=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),m.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Uc(e,t){const n=Gt(t);sn(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}function Hee(e,t){const{asChild:n,children:r}=e;if(!n)return typeof t=="function"?t(r):t;const s=m.Children.only(r);return m.cloneElement(s,{children:typeof t=="function"?t(s.props.children):t})}var uD=JM,Vee=tD,Wee=iD;const dD=m.forwardRef(({className:e,children:t,...n},r)=>c.jsxs(uD,{ref:r,className:ne("relative overflow-hidden",e),...n,children:[c.jsx(Vee,{className:"h-full w-full rounded-[inherit]",children:t}),c.jsx(fD,{}),c.jsx(Wee,{})]}));dD.displayName=uD.displayName;const fD=m.forwardRef(({className:e,orientation:t="vertical",...n},r)=>c.jsx(yS,{ref:r,orientation:t,className:ne("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:c.jsx(oD,{className:"relative flex-1 rounded-full bg-border"})}));fD.displayName=yS.displayName;function xS(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var qee="VisuallyHidden",wS=m.forwardRef((e,t)=>c.jsx(he.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));wS.displayName=qee;var oae=wS,Gee=[" ","Enter","ArrowUp","ArrowDown"],Kee=[" ","Enter"],th="Select",[xy,wy,Yee]=Lb(th),[hu,iae]=Jr(th,[Yee,du]),by=du(),[Qee,ra]=hu(th),[Xee,Zee]=hu(th),hD=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:o,value:i,defaultValue:a,onValueChange:l,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:y}=e,g=by(t),[w,_]=m.useState(null),[v,x]=m.useState(null),[b,S]=m.useState(!1),E=Hf(u),[k=!1,C]=Gs({prop:r,defaultProp:s,onChange:o}),[T,j]=Gs({prop:i,defaultProp:a,onChange:l}),D=m.useRef(null),P=w?y||!!w.closest("form"):!0,[U,B]=m.useState(new Set),L=Array.from(U).map($=>$.props.value).join(";");return c.jsx(Gb,{...g,children:c.jsxs(Qee,{required:p,scope:t,trigger:w,onTriggerChange:_,valueNode:v,onValueNodeChange:x,valueNodeHasChildren:b,onValueNodeHasChildrenChange:S,contentId:qr(),value:T,onValueChange:j,open:k,onOpenChange:C,dir:E,triggerPointerDownPosRef:D,disabled:h,children:[c.jsx(xy.Provider,{scope:t,children:c.jsx(Xee,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback($=>{B(q=>new Set(q).add($))},[]),onNativeOptionRemove:m.useCallback($=>{B(q=>{const A=new Set(q);return A.delete($),A})},[]),children:n})}),P?c.jsxs(FD,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:T,onChange:$=>j($.target.value),disabled:h,form:y,children:[T===void 0?c.jsx("option",{value:""}):null,Array.from(U)]},L):null]})})};hD.displayName=th;var pD="SelectTrigger",mD=m.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,o=by(n),i=ra(pD,n),a=i.disabled||r,l=Fe(t,i.onTriggerChange),u=wy(n),d=m.useRef("touch"),[f,h,p]=$D(g=>{const w=u().filter(x=>!x.disabled),_=w.find(x=>x.value===i.value),v=UD(w,g,_);v!==void 0&&i.onValueChange(v.value)}),y=g=>{a||(i.onOpenChange(!0),p()),g&&(i.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return c.jsx(cy,{asChild:!0,...o,children:c.jsx(he.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":LD(i.value)?"":void 0,...s,ref:l,onClick:te(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&y(g)}),onPointerDown:te(s.onPointerDown,g=>{d.current=g.pointerType;const w=g.target;w.hasPointerCapture(g.pointerId)&&w.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(y(g),g.preventDefault())}),onKeyDown:te(s.onKeyDown,g=>{const w=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(w&&g.key===" ")&&Gee.includes(g.key)&&(y(),g.preventDefault())})})})});mD.displayName=pD;var gD="SelectValue",yD=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:i="",...a}=e,l=ra(gD,n),{onValueNodeHasChildrenChange:u}=l,d=o!==void 0,f=Fe(t,l.onValueNodeChange);return sn(()=>{u(d)},[u,d]),c.jsx(he.span,{...a,ref:f,style:{pointerEvents:"none"},children:LD(l.value)?c.jsx(c.Fragment,{children:i}):o})});yD.displayName=gD;var Jee="SelectIcon",vD=m.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return c.jsx(he.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});vD.displayName=Jee;var ete="SelectPortal",_D=e=>c.jsx(Gf,{asChild:!0,...e});_D.displayName=ete;var qa="SelectContent",xD=m.forwardRef((e,t)=>{const n=ra(qa,e.__scopeSelect),[r,s]=m.useState();if(sn(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?Kc.createPortal(c.jsx(wD,{scope:e.__scopeSelect,children:c.jsx(xy.Slot,{scope:e.__scopeSelect,children:c.jsx("div",{children:e.children})})}),o):null}return c.jsx(bD,{...e,ref:t})});xD.displayName=qa;var os=10,[wD,sa]=hu(qa),tte="SelectContentImpl",bD=m.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:g,avoidCollisions:w,..._}=e,v=ra(qa,n),[x,b]=m.useState(null),[S,E]=m.useState(null),k=Fe(t,se=>b(se)),[C,T]=m.useState(null),[j,D]=m.useState(null),P=wy(n),[U,B]=m.useState(!1),L=m.useRef(!1);m.useEffect(()=>{if(x)return fy(x)},[x]),oy();const $=m.useCallback(se=>{const[Ce,...je]=P().map(Ae=>Ae.ref.current),[Te]=je.slice(-1),$e=document.activeElement;for(const Ae of se)if(Ae===$e||(Ae==null||Ae.scrollIntoView({block:"nearest"}),Ae===Ce&&S&&(S.scrollTop=0),Ae===Te&&S&&(S.scrollTop=S.scrollHeight),Ae==null||Ae.focus(),document.activeElement!==$e))return},[P,S]),q=m.useCallback(()=>$([C,x]),[$,C,x]);m.useEffect(()=>{U&&q()},[U,q]);const{onOpenChange:A,triggerPointerDownPosRef:F}=v;m.useEffect(()=>{if(x){let se={x:0,y:0};const Ce=Te=>{var $e,Ae;se={x:Math.abs(Math.round(Te.pageX)-((($e=F.current)==null?void 0:$e.x)??0)),y:Math.abs(Math.round(Te.pageY)-(((Ae=F.current)==null?void 0:Ae.y)??0))}},je=Te=>{se.x<=10&&se.y<=10?Te.preventDefault():x.contains(Te.target)||A(!1),document.removeEventListener("pointermove",Ce),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",Ce),document.addEventListener("pointerup",je,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ce),document.removeEventListener("pointerup",je,{capture:!0})}}},[x,A,F]),m.useEffect(()=>{const se=()=>A(!1);return window.addEventListener("blur",se),window.addEventListener("resize",se),()=>{window.removeEventListener("blur",se),window.removeEventListener("resize",se)}},[A]);const[G,W]=$D(se=>{const Ce=P().filter($e=>!$e.disabled),je=Ce.find($e=>$e.ref.current===document.activeElement),Te=UD(Ce,se,je);Te&&setTimeout(()=>Te.ref.current.focus())}),le=m.useCallback((se,Ce,je)=>{const Te=!L.current&&!je;(v.value!==void 0&&v.value===Ce||Te)&&(T(se),Te&&(L.current=!0))},[v.value]),ue=m.useCallback(()=>x==null?void 0:x.focus(),[x]),Re=m.useCallback((se,Ce,je)=>{const Te=!L.current&&!je;(v.value!==void 0&&v.value===Ce||Te)&&D(se)},[v.value]),xe=r==="popper"?Nx:SD,pe=xe===Nx?{side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:g,avoidCollisions:w}:{};return c.jsx(wD,{scope:n,content:x,viewport:S,onViewportChange:E,itemRefCallback:le,selectedItem:C,onItemLeave:ue,itemTextRefCallback:Re,focusSelectedItem:q,selectedItemText:j,position:r,isPositioned:U,searchRef:G,children:c.jsx(Kf,{as:Ks,allowPinchZoom:!0,children:c.jsx(Wf,{asChild:!0,trapped:v.open,onMountAutoFocus:se=>{se.preventDefault()},onUnmountAutoFocus:te(s,se=>{var Ce;(Ce=v.trigger)==null||Ce.focus({preventScroll:!0}),se.preventDefault()}),children:c.jsx(Vf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:se=>se.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:c.jsx(xe,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:se=>se.preventDefault(),..._,...pe,onPlaced:()=>B(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:te(_.onKeyDown,se=>{const Ce=se.ctrlKey||se.altKey||se.metaKey;if(se.key==="Tab"&&se.preventDefault(),!Ce&&se.key.length===1&&W(se.key),["ArrowUp","ArrowDown","Home","End"].includes(se.key)){let Te=P().filter($e=>!$e.disabled).map($e=>$e.ref.current);if(["ArrowUp","End"].includes(se.key)&&(Te=Te.slice().reverse()),["ArrowUp","ArrowDown"].includes(se.key)){const $e=se.target,Ae=Te.indexOf($e);Te=Te.slice(Ae+1)}setTimeout(()=>$(Te)),se.preventDefault()}})})})})})})});bD.displayName=tte;var nte="SelectItemAlignedPosition",SD=m.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,o=ra(qa,n),i=sa(qa,n),[a,l]=m.useState(null),[u,d]=m.useState(null),f=Fe(t,k=>d(k)),h=wy(n),p=m.useRef(!1),y=m.useRef(!0),{viewport:g,selectedItem:w,selectedItemText:_,focusSelectedItem:v}=i,x=m.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&u&&g&&w&&_){const k=o.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),T=o.valueNode.getBoundingClientRect(),j=_.getBoundingClientRect();if(o.dir!=="rtl"){const $e=j.left-C.left,Ae=T.left-$e,gt=k.left-Ae,et=k.width+gt,Mt=Math.max(et,C.width),Dt=window.innerWidth-os,Kt=Tx(Ae,[os,Math.max(os,Dt-Mt)]);a.style.minWidth=et+"px",a.style.left=Kt+"px"}else{const $e=C.right-j.right,Ae=window.innerWidth-T.right-$e,gt=window.innerWidth-k.right-Ae,et=k.width+gt,Mt=Math.max(et,C.width),Dt=window.innerWidth-os,Kt=Tx(Ae,[os,Math.max(os,Dt-Mt)]);a.style.minWidth=et+"px",a.style.right=Kt+"px"}const D=h(),P=window.innerHeight-os*2,U=g.scrollHeight,B=window.getComputedStyle(u),L=parseInt(B.borderTopWidth,10),$=parseInt(B.paddingTop,10),q=parseInt(B.borderBottomWidth,10),A=parseInt(B.paddingBottom,10),F=L+$+U+A+q,G=Math.min(w.offsetHeight*5,F),W=window.getComputedStyle(g),le=parseInt(W.paddingTop,10),ue=parseInt(W.paddingBottom,10),Re=k.top+k.height/2-os,xe=P-Re,pe=w.offsetHeight/2,se=w.offsetTop+pe,Ce=L+$+se,je=F-Ce;if(Ce<=Re){const $e=D.length>0&&w===D[D.length-1].ref.current;a.style.bottom="0px";const Ae=u.clientHeight-g.offsetTop-g.offsetHeight,gt=Math.max(xe,pe+($e?ue:0)+Ae+q),et=Ce+gt;a.style.height=et+"px"}else{const $e=D.length>0&&w===D[0].ref.current;a.style.top="0px";const gt=Math.max(Re,L+g.offsetTop+($e?le:0)+pe)+je;a.style.height=gt+"px",g.scrollTop=Ce-Re+g.offsetTop}a.style.margin=`${os}px 0`,a.style.minHeight=G+"px",a.style.maxHeight=P+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[h,o.trigger,o.valueNode,a,u,g,w,_,o.dir,r]);sn(()=>x(),[x]);const[b,S]=m.useState();sn(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const E=m.useCallback(k=>{k&&y.current===!0&&(x(),v==null||v(),y.current=!1)},[x,v]);return c.jsx(ste,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:p,onScrollButtonChange:E,children:c.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:c.jsx(he.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});SD.displayName=nte;var rte="SelectPopperPosition",Nx=m.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=os,...o}=e,i=by(n);return c.jsx(Kb,{...i,...o,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Nx.displayName=rte;var[ste,bS]=hu(qa,{}),Rx="SelectViewport",ED=m.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,o=sa(Rx,n),i=bS(Rx,n),a=Fe(t,o.onViewportChange),l=m.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),c.jsx(xy.Slot,{scope:n,children:c.jsx(he.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:te(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&f){const p=Math.abs(l.current-d.scrollTop);if(p>0){const y=window.innerHeight-os*2,g=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),_=Math.max(g,w);if(_<y){const v=_+p,x=Math.min(y,v),b=v-x;f.style.height=x+"px",f.style.bottom==="0px"&&(d.scrollTop=b>0?b:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});ED.displayName=Rx;var kD="SelectGroup",[ote,ite]=hu(kD),ate=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=qr();return c.jsx(ote,{scope:n,id:s,children:c.jsx(he.div,{role:"group","aria-labelledby":s,...r,ref:t})})});ate.displayName=kD;var CD="SelectLabel",TD=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=ite(CD,n);return c.jsx(he.div,{id:s.id,...r,ref:t})});TD.displayName=CD;var Hm="SelectItem",[lte,ND]=hu(Hm),RD=m.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...i}=e,a=ra(Hm,n),l=sa(Hm,n),u=a.value===r,[d,f]=m.useState(o??""),[h,p]=m.useState(!1),y=Fe(t,v=>{var x;return(x=l.itemRefCallback)==null?void 0:x.call(l,v,r,s)}),g=qr(),w=m.useRef("touch"),_=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(lte,{scope:n,value:r,disabled:s,textId:g,isSelected:u,onItemTextChange:m.useCallback(v=>{f(x=>x||((v==null?void 0:v.textContent)??"").trim())},[]),children:c.jsx(xy.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:c.jsx(he.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:y,onFocus:te(i.onFocus,()=>p(!0)),onBlur:te(i.onBlur,()=>p(!1)),onClick:te(i.onClick,()=>{w.current!=="mouse"&&_()}),onPointerUp:te(i.onPointerUp,()=>{w.current==="mouse"&&_()}),onPointerDown:te(i.onPointerDown,v=>{w.current=v.pointerType}),onPointerMove:te(i.onPointerMove,v=>{var x;w.current=v.pointerType,s?(x=l.onItemLeave)==null||x.call(l):w.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:te(i.onPointerLeave,v=>{var x;v.currentTarget===document.activeElement&&((x=l.onItemLeave)==null||x.call(l))}),onKeyDown:te(i.onKeyDown,v=>{var b;((b=l.searchRef)==null?void 0:b.current)!==""&&v.key===" "||(Kee.includes(v.key)&&_(),v.key===" "&&v.preventDefault())})})})})});RD.displayName=Hm;var Yu="SelectItemText",AD=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...o}=e,i=ra(Yu,n),a=sa(Yu,n),l=ND(Yu,n),u=Zee(Yu,n),[d,f]=m.useState(null),h=Fe(t,_=>f(_),l.onItemTextChange,_=>{var v;return(v=a.itemTextRefCallback)==null?void 0:v.call(a,_,l.value,l.disabled)}),p=d==null?void 0:d.textContent,y=m.useMemo(()=>c.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:w}=u;return sn(()=>(g(y),()=>w(y)),[g,w,y]),c.jsxs(c.Fragment,{children:[c.jsx(he.span,{id:l.textId,...o,ref:h}),l.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Kc.createPortal(o.children,i.valueNode):null]})});AD.displayName=Yu;var ID="SelectItemIndicator",jD=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return ND(ID,n).isSelected?c.jsx(he.span,{"aria-hidden":!0,...r,ref:t}):null});jD.displayName=ID;var Ax="SelectScrollUpButton",PD=m.forwardRef((e,t)=>{const n=sa(Ax,e.__scopeSelect),r=bS(Ax,e.__scopeSelect),[s,o]=m.useState(!1),i=Fe(t,r.onScrollButtonChange);return sn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollTop>0;o(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?c.jsx(MD,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});PD.displayName=Ax;var Ix="SelectScrollDownButton",OD=m.forwardRef((e,t)=>{const n=sa(Ix,e.__scopeSelect),r=bS(Ix,e.__scopeSelect),[s,o]=m.useState(!1),i=Fe(t,r.onScrollButtonChange);return sn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;o(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?c.jsx(MD,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});OD.displayName=Ix;var MD=m.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,o=sa("SelectScrollButton",n),i=m.useRef(null),a=wy(n),l=m.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return m.useEffect(()=>()=>l(),[l]),sn(()=>{var d;const u=a().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),c.jsx(he.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:te(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:te(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:te(s.onPointerLeave,()=>{l()})})}),cte="SelectSeparator",DD=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return c.jsx(he.div,{"aria-hidden":!0,...r,ref:t})});DD.displayName=cte;var jx="SelectArrow",ute=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=by(n),o=ra(jx,n),i=sa(jx,n);return o.open&&i.position==="popper"?c.jsx(Yb,{...s,...r,ref:t}):null});ute.displayName=jx;function LD(e){return e===""||e===void 0}var FD=m.forwardRef((e,t)=>{const{value:n,...r}=e,s=m.useRef(null),o=Fe(t,s),i=xS(n);return m.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(i!==n&&d){const f=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(f)}},[i,n]),c.jsx(wS,{asChild:!0,children:c.jsx("select",{...r,ref:o,defaultValue:n})})});FD.displayName="BubbleSelect";function $D(e){const t=Gt(e),n=m.useRef(""),r=m.useRef(0),s=m.useCallback(i=>{const a=n.current+i;t(a),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[t]),o=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function UD(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=dte(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==n));const l=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function dte(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var fte=hD,BD=mD,hte=yD,pte=vD,mte=_D,zD=xD,gte=ED,HD=TD,VD=RD,yte=AD,vte=jD,WD=PD,qD=OD,GD=DD;const Hi=fte,Vi=hte,$o=m.forwardRef(({className:e,children:t,...n},r)=>c.jsxs(BD,{ref:r,className:ne("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,c.jsx(pte,{asChild:!0,children:c.jsx(gy,{className:"h-4 w-4 opacity-50"})})]}));$o.displayName=BD.displayName;const KD=m.forwardRef(({className:e,...t},n)=>c.jsx(WD,{ref:n,className:ne("flex cursor-default items-center justify-center py-1",e),...t,children:c.jsx(XX,{className:"h-4 w-4"})}));KD.displayName=WD.displayName;const YD=m.forwardRef(({className:e,...t},n)=>c.jsx(qD,{ref:n,className:ne("flex cursor-default items-center justify-center py-1",e),...t,children:c.jsx(gy,{className:"h-4 w-4"})}));YD.displayName=qD.displayName;const Uo=m.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>c.jsx(mte,{children:c.jsxs(zD,{ref:s,className:ne("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[c.jsx(KD,{}),c.jsx(gte,{className:ne("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),c.jsx(YD,{})]})}));Uo.displayName=zD.displayName;const _te=m.forwardRef(({className:e,...t},n)=>c.jsx(HD,{ref:n,className:ne("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));_te.displayName=HD.displayName;const Wt=m.forwardRef(({className:e,children:t,...n},r)=>c.jsxs(VD,{ref:r,className:ne("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(vte,{children:c.jsx(rf,{className:"h-4 w-4"})})}),c.jsx(yte,{children:t})]}));Wt.displayName=VD.displayName;const xte=m.forwardRef(({className:e,...t},n)=>c.jsx(GD,{ref:n,className:ne("-mx-1 my-1 h-px bg-muted",e),...t}));xte.displayName=GD.displayName;const wte=({variant:e="page",maxHeight:t="400px"})=>{const{notifications:n,isLoading:r,markAllAsRead:s,acceptFriendRequest:o,declineFriendRequest:i,isAccepting:a,isDeclining:l}=QM(),[u,d]=m.useState("all"),f=n.filter(p=>u==="unread"?!p.is_read:u==="friend_requests"?p.type==="new_friend_request":u==="comments"?p.type==="new_comment_reply":u==="badges"?p.type==="badge_earned":u==="quizzes"?p.type==="quiz_completed":!0),h=n.filter(p=>!p.is_read).length;return r?c.jsx("div",{className:"space-y-2 p-2",children:Array.from({length:e==="dropdown"?3:8}).map((p,y)=>c.jsx(jm,{className:"h-16 w-full bg-gray-700"},y))}):c.jsxs("div",{className:"flex flex-col h-full",children:[e==="page"&&c.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-white",children:"Notifications"}),h>0&&c.jsxs("span",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:[h," unread"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(Hi,{value:u,onValueChange:d,children:[c.jsxs($o,{className:"w-40 bg-gray-800 border-gray-600 text-white",children:[c.jsx(oS,{className:"h-4 w-4 mr-2"}),c.jsx(Vi,{})]}),c.jsxs(Uo,{className:"bg-gray-800 border-gray-600",children:[c.jsx(Wt,{value:"all",children:"All"}),c.jsx(Wt,{value:"unread",children:"Unread"}),c.jsx(Wt,{value:"friend_requests",children:"Friend Requests"}),c.jsx(Wt,{value:"comments",children:"Comments"}),c.jsx(Wt,{value:"badges",children:"Badges"}),c.jsx(Wt,{value:"quizzes",children:"Quizzes"})]})]}),h>0&&c.jsxs(Be,{onClick:()=>s(),variant:"outline",size:"sm",className:"border-gray-600 text-white hover:bg-gray-700",children:[c.jsx(YX,{className:"h-4 w-4 mr-2"}),"Mark all read"]})]})]}),c.jsx(dD,{className:`flex-1 ${e==="dropdown"?"h-full":""}`,style:{height:e==="dropdown"?t:"calc(100vh - 200px)",minHeight:e==="dropdown"?"200px":"400px"},children:c.jsx("div",{className:"p-1",children:f.length>0?f.map(p=>c.jsx(Iee,{notification:p,acceptFriendRequest:o,declineFriendRequest:i,isAccepting:a,isDeclining:l},p.id)):c.jsx("div",{className:"text-center text-gray-400 py-8",children:u==="all"?"You have no notifications.":`No ${u.replace("_"," ")} notifications.`})})})]})},bte=()=>{const{unreadCount:e}=QM(),[t,n]=m.useState(!1),r=o=>{n(o)},s=()=>{n(!1)};return c.jsxs(AJ,{open:t,onOpenChange:r,children:[c.jsx(IJ,{asChild:!0,children:c.jsxs(Be,{variant:"ghost",size:"icon",className:"relative text-white hover:text-white hover:bg-white/10",children:[c.jsx(GX,{className:"h-5 w-5"}),e>0&&c.jsx("span",{className:"absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-xs text-white",children:e>9?"9+":e})]})}),c.jsxs(YM,{className:"w-96 bg-gray-900 border-gray-700 text-white p-0 z-50",align:"end",children:[c.jsxs("div",{className:"flex items-center justify-between p-3 font-semibold border-b border-gray-700",children:[c.jsx("span",{children:"Notifications"}),c.jsx(Tt,{to:"/notifications",onClick:s,className:"text-blue-400 hover:text-blue-300 text-sm font-normal",children:"View All"})]}),c.jsx("div",{className:"h-96 overflow-hidden",children:c.jsx(wte,{variant:"dropdown",maxHeight:"384px"})})]})]})},Ste=({onClick:e})=>c.jsx(Be,{variant:"ghost",size:"icon",onClick:e,className:"lg:hidden h-10 w-10 p-0 hover:bg-white/10 text-white","aria-label":"Open menu",children:c.jsx(iM,{className:"h-5 w-5"})}),Ete=({onClose:e})=>c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-700 bg-slate-800/80",children:[c.jsx("h2",{className:"text-2xl font-bold text-white",children:"WoDaGOAT Menu"}),c.jsx(Be,{variant:"ghost",size:"icon",onClick:e,className:"h-12 w-12 p-0 text-white hover:bg-slate-700 rounded-full border border-slate-600","aria-label":"Close menu",children:c.jsx(il,{className:"h-6 w-6"})})]});var SS="Collapsible",[kte,aae]=Jr(SS),[Cte,ES]=kte(SS),QD=m.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:o,onOpenChange:i,...a}=e,[l=!1,u]=Gs({prop:r,defaultProp:s,onChange:i});return c.jsx(Cte,{scope:n,disabled:o,contentId:qr(),open:l,onOpenToggle:m.useCallback(()=>u(d=>!d),[u]),children:c.jsx(he.div,{"data-state":CS(l),"data-disabled":o?"":void 0,...a,ref:t})})});QD.displayName=SS;var XD="CollapsibleTrigger",ZD=m.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,s=ES(XD,n);return c.jsx(he.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":CS(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:t,onClick:te(e.onClick,s.onOpenToggle)})});ZD.displayName=XD;var kS="CollapsibleContent",JD=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=ES(kS,e.__scopeCollapsible);return c.jsx(wn,{present:n||s.open,children:({present:o})=>c.jsx(Tte,{...r,ref:t,present:o})})});JD.displayName=kS;var Tte=m.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:s,...o}=e,i=ES(kS,n),[a,l]=m.useState(r),u=m.useRef(null),d=Fe(t,u),f=m.useRef(0),h=f.current,p=m.useRef(0),y=p.current,g=i.open||a,w=m.useRef(g),_=m.useRef();return m.useEffect(()=>{const v=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(v)},[]),sn(()=>{const v=u.current;if(v){_.current=_.current||{transitionDuration:v.style.transitionDuration,animationName:v.style.animationName},v.style.transitionDuration="0s",v.style.animationName="none";const x=v.getBoundingClientRect();f.current=x.height,p.current=x.width,w.current||(v.style.transitionDuration=_.current.transitionDuration,v.style.animationName=_.current.animationName),l(r)}},[i.open,r]),c.jsx(he.div,{"data-state":CS(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!g,...o,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...e.style},children:g&&s})});function CS(e){return e?"open":"closed"}var Nte=QD;const Rte=Nte,Ate=ZD,Ite=JD,jte=({onLinkClick:e})=>{const[t,n]=m.useState([]),{data:r}=Qs({queryKey:["categories"],queryFn:async()=>{const{data:a,error:l}=await Ge.from("categories").select("*");if(l)throw new Error(l.message);return a||[]}}),s=z.useMemo(()=>{if(!r)return[];const a=new Map(r.map(d=>[d.id,{...d,children:[]}])),l=[];r.forEach(d=>{if(d.parent_id){const f=a.get(d.parent_id);f&&f.children.push(a.get(d.id))}else l.push(a.get(d.id))});const u=["GOAT","Current GOAT","GOAT of my Time","Competitions"];return l.sort((d,f)=>u.indexOf(d.name)-u.indexOf(f.name)),l},[r]),o=a=>{n(l=>l.includes(a)?l.filter(u=>u!==a):[...l,a])},i=a=>t.includes(a);return c.jsxs("div",{className:"space-y-6 mb-8",children:[c.jsx("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-4 border-b border-slate-700 pb-2",children:"Categories"}),c.jsx("div",{className:"space-y-4",children:s.map(a=>{var l;return c.jsx("div",{className:"space-y-3",children:c.jsxs(Rte,{open:i(a.id),onOpenChange:()=>o(a.id),children:[c.jsx(Ate,{asChild:!0,children:c.jsxs("button",{className:"w-full flex items-center justify-between text-lg font-bold text-white bg-slate-800 p-3 rounded-lg border border-slate-600 hover:bg-slate-700 transition-colors",children:[c.jsx("span",{children:a.name}),i(a.id)?c.jsx(gy,{className:"h-5 w-5 text-slate-300"}):c.jsx(sS,{className:"h-5 w-5 text-slate-300"})]})}),c.jsx(Ite,{className:"space-y-2 ml-4 mt-3",children:(l=a.children)==null?void 0:l.map(u=>c.jsxs(Tt,{to:`/category/${u.id}`,onClick:e,className:"block p-3 rounded-lg bg-slate-800/50 hover:bg-slate-700 transition-colors border border-slate-700",children:[c.jsx("div",{className:"text-base font-semibold text-white",children:u.name}),c.jsx("p",{className:"text-sm text-slate-300 mt-1 line-clamp-2",children:u.description||"Rank the greatest athletes"})]},u.id))})]})},a.id)})})]})},Pte=({onLinkClick:e,onAuthAction:t})=>{const{user:n,logout:r,profile:s}=Ir(),o=async()=>{await r(),e()};return c.jsxs("div",{className:"space-y-6 mb-8",children:[c.jsx("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-4 border-b border-slate-700 pb-2",children:"Account"}),c.jsx("div",{className:"space-y-3",children:n?c.jsxs(c.Fragment,{children:[c.jsxs(Tt,{to:"/profile",onClick:e,className:"flex items-center gap-4 p-4 rounded-lg bg-slate-800 hover:bg-slate-700 transition-colors border border-slate-600",children:[c.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-green-600",children:c.jsx(tZ,{className:"h-6 w-6 text-white"})}),c.jsxs("div",{children:[c.jsx("span",{className:"text-lg font-semibold text-white block",children:"Profile"}),c.jsx("span",{className:"text-sm text-slate-300",children:(s==null?void 0:s.full_name)||"Manage your account"})]})]}),c.jsxs("button",{onClick:o,className:"flex items-center gap-4 p-4 rounded-lg bg-red-500/20 hover:bg-red-500/30 transition-colors w-full text-left border border-red-400/30",children:[c.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-red-600",children:c.jsx(il,{className:"h-6 w-6 text-white"})}),c.jsxs("div",{children:[c.jsx("span",{className:"text-lg font-semibold text-red-200 block",children:"Sign Out"}),c.jsx("span",{className:"text-sm text-red-300",children:"Log out of your account"})]})]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>t("signup"),className:"flex items-center gap-4 p-4 rounded-lg bg-slate-800 hover:bg-slate-700 transition-colors w-full text-left border border-slate-600",children:[c.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-blue-600",children:c.jsx(dM,{className:"h-6 w-6 text-white"})}),c.jsxs("div",{children:[c.jsx("span",{className:"text-lg font-semibold text-white block",children:"Sign Up"}),c.jsx("span",{className:"text-sm text-slate-300",children:"Create your WoDaGOAT account"})]})]}),c.jsxs("button",{onClick:()=>t("login"),className:"flex items-center gap-4 p-4 rounded-lg bg-slate-800 hover:bg-slate-700 transition-colors w-full text-left border border-slate-600",children:[c.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-purple-600",children:c.jsx(hZ,{className:"h-6 w-6 text-white"})}),c.jsxs("div",{children:[c.jsx("span",{className:"text-lg font-semibold text-white block",children:"Log In"}),c.jsx("span",{className:"text-sm text-slate-300",children:"Access your account"})]})]})]})})]})},Ote=({onLinkClick:e})=>c.jsxs("div",{className:"space-y-6 border-t border-slate-700 pt-6",children:[c.jsx("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-4",children:"Support"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs(Tt,{to:"/contact",onClick:e,className:"flex items-center gap-4 p-4 rounded-lg bg-slate-800 hover:bg-slate-700 transition-colors border border-slate-600",children:[c.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-teal-600",children:c.jsx(pZ,{className:"h-6 w-6 text-white"})}),c.jsxs("div",{children:[c.jsx("span",{className:"text-lg font-semibold text-white block",children:"Contact"}),c.jsx("span",{className:"text-sm text-slate-300",children:"Get in touch with us"})]})]}),c.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg bg-slate-800 hover:bg-slate-700 transition-colors border border-slate-600",children:[c.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-slate-600",children:c.jsx(uZ,{className:"h-6 w-6 text-white"})}),c.jsxs("div",{children:[c.jsx("span",{className:"text-lg font-semibold text-white block",children:"About"}),c.jsx("span",{className:"text-sm text-slate-300",children:"Learn about WoDaGOAT"})]})]}),c.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg bg-slate-800 hover:bg-slate-700 transition-colors border border-slate-600",children:[c.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-orange-600",children:c.jsx(JX,{className:"h-6 w-6 text-white"})}),c.jsxs("div",{children:[c.jsx("span",{className:"text-lg font-semibold text-white block",children:"Help"}),c.jsx("span",{className:"text-sm text-slate-300",children:"FAQ and support docs"})]})]})]})]}),Mte=({onLinkClick:e})=>null,Dte=({isOpen:e,onClose:t,onAuthAction:n})=>{const r=()=>{t()};return c.jsxs("div",{className:`fixed inset-0 lg:hidden transition-all duration-300 ease-in-out ${e?"opacity-100 visible":"opacity-0 invisible pointer-events-none"}`,style:{zIndex:999999,isolation:"isolate"},children:[c.jsx("div",{className:"absolute inset-0 bg-black/95 backdrop-blur-sm",onClick:t,style:{zIndex:1,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.98)"}}),c.jsxs("div",{className:`absolute inset-0 transform transition-transform duration-300 ease-in-out ${e?"translate-x-0":"translate-x-full"}`,style:{zIndex:2,width:"100vw",height:"100vh",position:"fixed",top:0,left:0,backgroundColor:"#0f172a"},children:[c.jsx(Ete,{onClose:t}),c.jsxs("div",{className:"overflow-y-auto h-full pb-24 px-6 pt-8",style:{maxHeight:"calc(100vh - 88px)"},children:[c.jsx(Mte,{onLinkClick:r}),c.jsx(jte,{onLinkClick:r}),c.jsx(Pte,{onLinkClick:r,onAuthAction:n}),c.jsx(Ote,{onLinkClick:r}),c.jsx("div",{className:"h-8"})]})]})]})},Lte=()=>{const[e,t]=m.useState(!1),{openAuthDialog:n}=Ir(),r=s=>{t(!1),n(s)};return c.jsxs(c.Fragment,{children:[c.jsx(Ste,{onClick:()=>t(!0)}),c.jsx(Dte,{isOpen:e,onClose:()=>t(!1),onAuthAction:r})]})},eL=[{id:"first_quiz",name:"First Quiz",description:"Complete your first quiz",icon:"lightbulb",category:"behavior",requirements:{type:"quiz_count",value:1,comparison:"gte"},rarity:"common"},{id:"streak_3",name:"3-Day Streak",description:"Complete quizzes for 3 consecutive days",icon:"lightbulb",category:"streak",requirements:{type:"streak",value:3,comparison:"gte"},rarity:"common"},{id:"streak_10",name:"10-Day Streak",description:"Complete quizzes for 10 consecutive days",icon:"lightbulb",category:"streak",requirements:{type:"streak",value:10,comparison:"gte"},rarity:"rare"},{id:"perfect_score",name:"Perfect Score",description:"Get 100% on a quiz",icon:"trophy",category:"performance",requirements:{type:"perfect_scores",value:1,comparison:"gte"},rarity:"common"},{id:"triple_perfect",name:"3 Perfect Scores",description:"Achieve 3 perfect scores",icon:"sparkles",category:"performance",requirements:{type:"perfect_scores",value:3,comparison:"gte"},rarity:"rare"},{id:"top_10_percent",name:"Top 10%",description:"Finish in the top 10% of daily rankings",icon:"trophy",category:"ranking",requirements:{type:"daily_rank",value:10,comparison:"lte"},rarity:"epic"},{id:"top_3",name:"Top 3",description:"Finish in the top 3 of daily rankings",icon:"trophy",category:"ranking",requirements:{type:"daily_rank",value:3,comparison:"lte"},rarity:"epic"},{id:"daily_champion",name:"#1 of the Day",description:"Achieve the highest score of the day",icon:"trophy",category:"ranking",requirements:{type:"daily_rank",value:1,comparison:"eq"},rarity:"legendary"},{id:"newcomer",name:"Newcomer",description:"Welcome to WoDaGOAT!",icon:"sparkles",category:"performance",requirements:{type:"automatic"},rarity:"common"},{id:"foot_lover",name:"Foot Lover",description:"Achieve 45-59.9% accuracy",icon:"lightbulb",category:"performance",requirements:{type:"accuracy",value:45,comparison:"gte"},rarity:"common"},{id:"expert",name:"Expert",description:"Achieve 60-74.9% accuracy",icon:"book",category:"performance",requirements:{type:"accuracy",value:60,comparison:"gte"},rarity:"rare"},{id:"legend",name:"Legend",description:"Achieve 75-89.9% accuracy",icon:"shield",category:"performance",requirements:{type:"accuracy",value:75,comparison:"gte"},rarity:"epic"},{id:"goat",name:"GOAT",description:"Achieve 90%+ accuracy",icon:"trophy",category:"performance",requirements:{type:"accuracy",value:90,comparison:"gte"},rarity:"legendary"}],lae=Object.freeze(Object.defineProperty({__proto__:null,BADGES:eL},Symbol.toStringTag,{value:"Module"})),da=class da{constructor(){kn(this,"badgeMap");kn(this,"initialized",!1);this.badgeMap=new Map,this.initialize()}static getInstance(){return da.instance||(da.instance=new da),da.instance}initialize(){this.initialized||(eL.forEach(t=>{this.badgeMap.set(t.id,t)}),this.initialized=!0,console.log(`Badge cache initialized with ${this.badgeMap.size} badges`))}getBadge(t){return this.badgeMap.get(t)||null}getAllBadges(){return Array.from(this.badgeMap.values())}getBadgesByRarity(t){return Array.from(this.badgeMap.values()).filter(n=>n.rarity===t)}getBadgeStats(){const t=this.getAllBadges();return{total:t.length,byRarity:t.reduce((n,r)=>(n[r.rarity]=(n[r.rarity]||0)+1,n),{})}}};kn(da,"instance");let Px=da;const Fte=Px.getInstance(),$te=()=>{const{user:e}=Ir(),t=eo(),n=Qs({queryKey:["user-badges",e==null?void 0:e.id],queryFn:async()=>{if(!(e!=null&&e.id))return[];console.log("Fetching user badges for user:",e.id);const{data:s,error:o}=await vr.from("user_badges").select("id, badge_id, earned_at").eq("user_id",e.id).order("earned_at",{ascending:!1});if(o)throw console.error("Error fetching user badges:",o),o;return console.log("User badges fetched:",s),(s||[]).map(a=>{const l=Fte.getBadge(a.badge_id);return l?{id:a.id,badge_id:a.badge_id,user_id:e.id,earned_at:a.earned_at,badge:l}:(console.warn(`Badge definition not found for badge_id: ${a.badge_id}`),null)}).filter(a=>a!==null)},enabled:!!(e!=null&&e.id),staleTime:5*60*1e3,gcTime:60*60*1e3,refetchOnWindowFocus:!0}),r=()=>{t.invalidateQueries({queryKey:["user-badges",e==null?void 0:e.id]})};return{userBadges:n.data||[],loading:n.isLoading,error:n.error,refreshBadges:r,...n}},Ute=()=>{const{user:e}=Ir(),t=Qs({queryKey:["user-stats",e==null?void 0:e.id],queryFn:async()=>{if(!(e!=null&&e.id))return null;console.log("Fetching user stats for user:",e.id);const{data:n,error:r}=await vr.from("quiz_attempts").select("score, completed_at").eq("user_id",e.id).order("completed_at",{ascending:!1});if(r)throw console.error("Error fetching user stats:",r),r;if(!n||n.length===0)return{total_quizzes:0,total_score:0,accuracy_percentage:0,current_streak:0,perfect_scores:0,total_correct:0,total_questions:0,longest_streak:0};const s=n.length,o=n.reduce((y,g)=>y+(g.score||0),0),i=n.filter(y=>y.score===5).length,a=s*5,l=a>0?o/a*100:0;let u=0,d=0;const f=new Date().toDateString();n.some(y=>new Date(y.completed_at).toDateString()===f)&&(u=1,d=1);const p={total_quizzes:s,total_score:o,accuracy_percentage:Math.round(l*100)/100,current_streak:u,perfect_scores:i,total_correct:o,total_questions:a,longest_streak:d};return console.log("User stats calculated:",p),p},enabled:!!(e!=null&&e.id),staleTime:5*60*1e3,gcTime:30*60*1e3,refetchOnWindowFocus:!1});return{stats:t.data,loading:t.isLoading,error:t.error,...t}},Bte=()=>{const{user:e,loading:t,isAdmin:n,isModeratorOrAdmin:r}=Ir(),{userBadges:s,loading:o}=$te(),{stats:i,loading:a}=Ute(),u=(()=>{if(!e||o||a)return null;if(console.log("Badge notification check:",{userBadges:s.map(p=>p.badge_id),stats:i,totalBadges:s.length}),!s.some(p=>p.badge_id==="first_quiz"))return{icon:fZ,color:"text-yellow-900",bgColor:"bg-yellow-500",message:"Take your first quiz!"};const f=s.some(p=>p.badge_id==="perfect_score");if(i&&i.total_quizzes>=1&&!f&&i.accuracy_percentage<100)return{icon:uM,color:"text-blue-900",bgColor:"bg-blue-500",message:"Try for a perfect score!"};const h=s.some(p=>p.badge_id==="streak_3"||p.badge_id==="streak_10");return i&&i.current_streak===0&&i.total_quizzes>=1&&!h?{icon:qX,color:"text-purple-900",bgColor:"bg-purple-500",message:"Start a quiz streak!"}:null})();return c.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/95 backdrop-blur-sm text-gray-200 border-b border-gray-700/50 shadow-lg",children:c.jsxs("div",{className:"relative container mx-auto px-2 sm:px-4",children:[c.jsxs("div",{className:"flex items-center justify-between h-16 lg:h-20",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx(OZ,{})}),c.jsx("div",{className:"hidden lg:flex flex-1"}),c.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[c.jsxs("div",{className:"hidden lg:flex items-center gap-2 xl:gap-4 text-base font-medium mr-4",children:[c.jsxs(Tt,{to:"/feed",className:"bg-transparent hover:bg-white/10 focus:bg-white/10 px-3 xl:px-4 py-2 rounded-md transition-colors focus:outline-none flex items-center gap-2",children:[c.jsx(vZ,{className:"h-4 w-4 xl:h-5 xl:w-5 text-white"}),c.jsx("span",{className:"text-white",children:"Feed"})]}),c.jsxs(Tt,{to:"/quiz",className:"bg-transparent hover:bg-white/10 focus:bg-white/10 px-3 xl:px-4 py-2 rounded-md transition-colors focus:outline-none flex items-center gap-2 group relative",children:[c.jsx(iZ,{className:"h-5 w-5 text-fuchsia-400 group-hover:text-fuchsia-300 transition-colors drop-shadow-sm"}),c.jsx("span",{className:"font-bold text-transparent bg-gradient-to-r from-fuchsia-400 to-cyan-400 bg-clip-text group-hover:from-fuchsia-300 group-hover:to-cyan-300 drop-shadow-sm",children:"Quiz"}),u&&c.jsx("div",{className:`absolute -top-1 -right-1 ${u.bgColor} rounded-full p-1 animate-pulse`,title:u.message,children:c.jsx(u.icon,{className:`h-3 w-3 ${u.color}`})})]}),r&&c.jsxs(Tt,{to:"/admin/comments",className:"bg-transparent hover:bg-white/10 focus:bg-white/10 px-3 xl:px-4 py-2 rounded-md transition-colors focus:outline-none flex items-center gap-2",children:[c.jsx(gZ,{className:"h-4 w-4 xl:h-5 xl:w-5 text-white"}),c.jsx("span",{className:"text-white",children:"Comments"})]}),n&&c.jsxs(c.Fragment,{children:[c.jsxs(Tt,{to:"/admin/create-quiz",className:"bg-transparent hover:bg-white/10 focus:bg-white/10 px-3 xl:px-4 py-2 rounded-md transition-colors focus:outline-none flex items-center gap-2",children:[c.jsx(EZ,{className:"h-4 w-4 xl:h-5 xl:w-5 text-white"}),c.jsx("span",{className:"text-white",children:"Create Quiz"})]}),c.jsxs(Tt,{to:"/admin/users",className:"bg-transparent hover:bg-white/10 focus:bg-white/10 px-3 xl:px-4 py-2 rounded-md transition-colors focus:outline-none flex items-center gap-2",children:[c.jsx(iS,{className:"h-4 w-4 xl:h-5 xl:w-5 text-white"}),c.jsx("span",{className:"text-white",children:"Manage Users"})]}),c.jsxs(Tt,{to:"/admin/analytics",className:"bg-transparent hover:bg-white/10 focus:bg-white/10 px-3 xl:px-4 py-2 rounded-md transition-colors focus:outline-none flex items-center gap-2",children:[c.jsx(KX,{className:"h-4 w-4 xl:h-5 xl:w-5 text-white"}),c.jsx("span",{className:"text-white",children:"Analytics"})]})]})]}),t?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(jm,{className:"h-8 w-8 sm:h-10 sm:w-10 rounded-full bg-gray-700"}),c.jsx(jm,{className:"h-8 w-16 sm:h-10 sm:w-20 bg-gray-700"})]}):e?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(bte,{}),c.jsx(SM,{})]}):c.jsx(PZ,{}),c.jsx("div",{className:"lg:hidden",children:c.jsx(Lte,{})})]})]}),c.jsx("div",{className:"hidden lg:flex items-center justify-center h-12 border-t border-gray-700/50",children:c.jsx(yJ,{})})]})})},zte=({className:e="h-8 w-8"})=>c.jsx("svg",{className:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M19.321 5.562a5.122 5.122 0 0 1-.443-.258 6.228 6.228 0 0 1-1.137-.966c-.849-.996-1.302-2.301-1.302-3.751V0h-3.518v15.72c0 1.637-1.295 2.967-2.887 2.967-1.59 0-2.886-1.33-2.886-2.967 0-1.636 1.296-2.966 2.886-2.966.334 0 .655.058.952.164V9.35a6.485 6.485 0 0 0-.952-.071c-3.578 0-6.477 2.987-6.477 6.672 0 3.686 2.899 6.672 6.477 6.672 3.579 0 6.478-2.986 6.478-6.672V8.225a9.698 9.698 0 0 0 5.618 1.784V6.39c-1.04 0-2.02-.333-2.809-.828z"})}),Hte=()=>c.jsx("footer",{className:"py-6 sm:py-8 text-center text-muted-foreground border-t border-gray-700/50 mt-12",children:c.jsx("div",{className:"container mx-auto px-4",children:c.jsxs("div",{className:"flex flex-col items-center gap-4 sm:gap-6",children:[c.jsxs("div",{className:"flex gap-4 sm:gap-6 lg:gap-8",children:[c.jsx("a",{href:"https://www.instagram.com/wodagoatofficial/",target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-primary transition-colors p-2 sm:p-3 rounded-full hover:bg-primary/10 hover:scale-110 transform duration-200",children:c.jsx(dZ,{className:"h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10"})}),c.jsx("a",{href:"https://www.youtube.com/@WODAGOAT",target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-primary transition-colors p-2 sm:p-3 rounded-full hover:bg-primary/10 hover:scale-110 transform duration-200",children:c.jsx(kZ,{className:"h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10"})}),c.jsx("a",{href:"https://www.tiktok.com/@wodagoatofficial",target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-primary transition-colors p-2 sm:p-3 rounded-full hover:bg-primary/10 hover:scale-110 transform duration-200",children:c.jsx(zte,{className:"h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10"})}),c.jsx("a",{href:"https://www.facebook.com/profile.php?id=61570524337540",target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-primary transition-colors p-2 sm:p-3 rounded-full hover:bg-primary/10 hover:scale-110 transform duration-200",children:c.jsx(sM,{className:"h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10"})}),c.jsx("a",{href:"https://x.com/_WODAGOAT",target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-primary transition-colors p-2 sm:p-3 rounded-full hover:bg-primary/10 hover:scale-110 transform duration-200",children:c.jsx(il,{className:"h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10"})})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-6 items-center",children:[c.jsx(Tt,{to:"/contact",className:"text-sm hover:text-primary transition-colors",children:"Contact"}),c.jsx(Tt,{to:"/gdpr",className:"text-sm hover:text-primary transition-colors",children:"GDPR"}),c.jsx(Tt,{to:"/privacy-policy",className:"text-sm hover:text-primary transition-colors",children:"Privacy Policy"})]}),c.jsxs("p",{className:"text-xs sm:text-sm",children:[" ",new Date().getFullYear()," wodagoat. All rights reserved."]})]})})});var sT=["light","dark"],Vte="(prefers-color-scheme: dark)",Wte=m.createContext(void 0),qte={setTheme:e=>{},themes:[]},Gte=()=>{var e;return(e=m.useContext(Wte))!=null?e:qte};m.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:o,value:i,attrs:a,nonce:l})=>{let u=o==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?sT.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(y,g=!1,w=!0)=>{let _=i?i[y]:y,v=g?y+"|| ''":`'${_}'`,x="";return s&&w&&!g&&sT.includes(y)&&(x+=`d.style.colorScheme = '${y}';`),n==="class"?g||_?x+=`c.add(${v})`:x+="null":_&&(x+=`d[s](n,${v})`),x},p=e?`!function(){${d}${h(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${Vte}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}${u?"":"else{"+h(o,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}else{${h(o,!1,!1)};}${f}}catch(t){}}();`;return m.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:p}})});var Kte=e=>{switch(e){case"success":return Xte;case"info":return Jte;case"warning":return Zte;case"error":return ene;default:return null}},Yte=Array(12).fill(0),Qte=({visible:e})=>z.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},z.createElement("div",{className:"sonner-spinner"},Yte.map((t,n)=>z.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),Xte=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Zte=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Jte=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ene=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),tne=()=>{let[e,t]=z.useState(document.hidden);return z.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Ox=1,nne=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Ox++,o=this.toasts.find(a=>a.id===s),i=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...e,id:s,title:n}),{...a,...e,id:s,dismissible:i,title:n}):a):this.addToast({title:n,...r,dismissible:i,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0;return r.then(async o=>{if(sne(o)&&!o.ok){s=!1;let i=typeof t.error=="function"?await t.error(`HTTP error! status: ${o.status}`):t.error,a=typeof t.description=="function"?await t.description(`HTTP error! status: ${o.status}`):t.description;this.create({id:n,type:"error",message:i,description:a})}else if(t.success!==void 0){s=!1;let i=typeof t.success=="function"?await t.success(o):t.success,a=typeof t.description=="function"?await t.description(o):t.description;this.create({id:n,type:"success",message:i,description:a})}}).catch(async o=>{if(t.error!==void 0){s=!1;let i=typeof t.error=="function"?await t.error(o):t.error,a=typeof t.description=="function"?await t.description(o):t.description;this.create({id:n,type:"error",message:i,description:a})}}).finally(()=>{var o;s&&(this.dismiss(n),n=void 0),(o=t.finally)==null||o.call(t)}),n},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||Ox++;return this.create({jsx:e(n),id:n,...t}),n},this.subscribers=[],this.toasts=[]}},pr=new nne,rne=(e,t)=>{let n=(t==null?void 0:t.id)||Ox++;return pr.addToast({title:e,...t,id:n}),n},sne=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",one=rne,ine=()=>pr.toasts,ye=Object.assign(one,{success:pr.success,info:pr.info,warning:pr.warning,error:pr.error,custom:pr.custom,message:pr.message,promise:pr.promise,dismiss:pr.dismiss,loading:pr.loading},{getHistory:ine});function ane(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}ane(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function tp(e){return e.label!==void 0}var lne=3,cne="32px",une=4e3,dne=356,fne=14,hne=20,pne=200;function mne(...e){return e.filter(Boolean).join(" ")}var gne=e=>{var t,n,r,s,o,i,a,l,u,d;let{invert:f,toast:h,unstyled:p,interacting:y,setHeights:g,visibleToasts:w,heights:_,index:v,toasts:x,expanded:b,removeToast:S,defaultRichColors:E,closeButton:k,style:C,cancelButtonStyle:T,actionButtonStyle:j,className:D="",descriptionClassName:P="",duration:U,position:B,gap:L,loadingIcon:$,expandByDefault:q,classNames:A,icons:F,closeButtonAriaLabel:G="Close toast",pauseWhenPageIsHidden:W,cn:le}=e,[ue,Re]=z.useState(!1),[xe,pe]=z.useState(!1),[se,Ce]=z.useState(!1),[je,Te]=z.useState(!1),[$e,Ae]=z.useState(0),[gt,et]=z.useState(0),Mt=z.useRef(null),Dt=z.useRef(null),Kt=v===0,N=v+1<=w,O=h.type,M=h.dismissible!==!1,X=h.className||"",H=h.descriptionClassName||"",V=z.useMemo(()=>_.findIndex(Ie=>Ie.toastId===h.id)||0,[_,h.id]),oe=z.useMemo(()=>{var Ie;return(Ie=h.closeButton)!=null?Ie:k},[h.closeButton,k]),ee=z.useMemo(()=>h.duration||U||une,[h.duration,U]),Ze=z.useRef(0),lt=z.useRef(0),ur=z.useRef(0),ts=z.useRef(null),[Cs,Wo]=B.split("-"),no=z.useMemo(()=>_.reduce((Ie,rt,tt)=>tt>=V?Ie:Ie+rt.height,0),[_,V]),Ts=tne(),dr=h.invert||f,fr=O==="loading";lt.current=z.useMemo(()=>V*L+no,[V,no]),z.useEffect(()=>{Re(!0)},[]),z.useLayoutEffect(()=>{if(!ue)return;let Ie=Dt.current,rt=Ie.style.height;Ie.style.height="auto";let tt=Ie.getBoundingClientRect().height;Ie.style.height=rt,et(tt),g(Pr=>Pr.find(bn=>bn.toastId===h.id)?Pr.map(bn=>bn.toastId===h.id?{...bn,height:tt}:bn):[{toastId:h.id,height:tt,position:h.position},...Pr])},[ue,h.title,h.description,g,h.id]);let jr=z.useCallback(()=>{pe(!0),Ae(lt.current),g(Ie=>Ie.filter(rt=>rt.toastId!==h.id)),setTimeout(()=>{S(h)},pne)},[h,S,g,lt]);z.useEffect(()=>{if(h.promise&&O==="loading"||h.duration===1/0||h.type==="loading")return;let Ie,rt=ee;return b||y||W&&Ts?(()=>{if(ur.current<Ze.current){let tt=new Date().getTime()-Ze.current;rt=rt-tt}ur.current=new Date().getTime()})():rt!==1/0&&(Ze.current=new Date().getTime(),Ie=setTimeout(()=>{var tt;(tt=h.onAutoClose)==null||tt.call(h,h),jr()},rt)),()=>clearTimeout(Ie)},[b,y,q,h,ee,jr,h.promise,O,W,Ts]),z.useEffect(()=>{let Ie=Dt.current;if(Ie){let rt=Ie.getBoundingClientRect().height;return et(rt),g(tt=>[{toastId:h.id,height:rt,position:h.position},...tt]),()=>g(tt=>tt.filter(Pr=>Pr.toastId!==h.id))}},[g,h.id]),z.useEffect(()=>{h.delete&&jr()},[jr,h.delete]);function yu(){return F!=null&&F.loading?z.createElement("div",{className:"sonner-loader","data-visible":O==="loading"},F.loading):$?z.createElement("div",{className:"sonner-loader","data-visible":O==="loading"},$):z.createElement(Qte,{visible:O==="loading"})}return z.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Dt,className:le(D,X,A==null?void 0:A.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,A==null?void 0:A.default,A==null?void 0:A[O],(n=h==null?void 0:h.classNames)==null?void 0:n[O]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:E,"data-styled":!(h.jsx||h.unstyled||p),"data-mounted":ue,"data-promise":!!h.promise,"data-removed":xe,"data-visible":N,"data-y-position":Cs,"data-x-position":Wo,"data-index":v,"data-front":Kt,"data-swiping":se,"data-dismissible":M,"data-type":O,"data-invert":dr,"data-swipe-out":je,"data-expanded":!!(b||q&&ue),style:{"--index":v,"--toasts-before":v,"--z-index":x.length-v,"--offset":`${xe?$e:lt.current}px`,"--initial-height":q?"auto":`${gt}px`,...C,...h.style},onPointerDown:Ie=>{fr||!M||(Mt.current=new Date,Ae(lt.current),Ie.target.setPointerCapture(Ie.pointerId),Ie.target.tagName!=="BUTTON"&&(Ce(!0),ts.current={x:Ie.clientX,y:Ie.clientY}))},onPointerUp:()=>{var Ie,rt,tt,Pr;if(je||!M)return;ts.current=null;let bn=Number(((Ie=Dt.current)==null?void 0:Ie.style.getPropertyValue("--swipe-amount").replace("px",""))||0),al=new Date().getTime()-((rt=Mt.current)==null?void 0:rt.getTime()),Iy=Math.abs(bn)/al;if(Math.abs(bn)>=hne||Iy>.11){Ae(lt.current),(tt=h.onDismiss)==null||tt.call(h,h),jr(),Te(!0);return}(Pr=Dt.current)==null||Pr.style.setProperty("--swipe-amount","0px"),Ce(!1)},onPointerMove:Ie=>{var rt;if(!ts.current||!M)return;let tt=Ie.clientY-ts.current.y,Pr=Ie.clientX-ts.current.x,bn=(Cs==="top"?Math.min:Math.max)(0,tt),al=Ie.pointerType==="touch"?10:2;Math.abs(bn)>al?(rt=Dt.current)==null||rt.style.setProperty("--swipe-amount",`${tt}px`):Math.abs(Pr)>al&&(ts.current=null)}},oe&&!h.jsx?z.createElement("button",{"aria-label":G,"data-disabled":fr,"data-close-button":!0,onClick:fr||!M?()=>{}:()=>{var Ie;jr(),(Ie=h.onDismiss)==null||Ie.call(h,h)},className:le(A==null?void 0:A.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},z.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),z.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||z.isValidElement(h.title)?h.jsx||h.title:z.createElement(z.Fragment,null,O||h.icon||h.promise?z.createElement("div",{"data-icon":"",className:le(A==null?void 0:A.icon,(o=h==null?void 0:h.classNames)==null?void 0:o.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||yu():null,h.type!=="loading"?h.icon||(F==null?void 0:F[O])||Kte(O):null):null,z.createElement("div",{"data-content":"",className:le(A==null?void 0:A.content,(i=h==null?void 0:h.classNames)==null?void 0:i.content)},z.createElement("div",{"data-title":"",className:le(A==null?void 0:A.title,(a=h==null?void 0:h.classNames)==null?void 0:a.title)},h.title),h.description?z.createElement("div",{"data-description":"",className:le(P,H,A==null?void 0:A.description,(l=h==null?void 0:h.classNames)==null?void 0:l.description)},h.description):null),z.isValidElement(h.cancel)?h.cancel:h.cancel&&tp(h.cancel)?z.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||T,onClick:Ie=>{var rt,tt;tp(h.cancel)&&M&&((tt=(rt=h.cancel).onClick)==null||tt.call(rt,Ie),jr())},className:le(A==null?void 0:A.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,z.isValidElement(h.action)?h.action:h.action&&tp(h.action)?z.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||j,onClick:Ie=>{var rt,tt;tp(h.action)&&(Ie.defaultPrevented||((tt=(rt=h.action).onClick)==null||tt.call(rt,Ie),jr()))},className:le(A==null?void 0:A.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function oT(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var yne=e=>{let{invert:t,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:o,className:i,offset:a,theme:l="light",richColors:u,duration:d,style:f,visibleToasts:h=lne,toastOptions:p,dir:y=oT(),gap:g=fne,loadingIcon:w,icons:_,containerAriaLabel:v="Notifications",pauseWhenPageIsHidden:x,cn:b=mne}=e,[S,E]=z.useState([]),k=z.useMemo(()=>Array.from(new Set([n].concat(S.filter(W=>W.position).map(W=>W.position)))),[S,n]),[C,T]=z.useState([]),[j,D]=z.useState(!1),[P,U]=z.useState(!1),[B,L]=z.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),$=z.useRef(null),q=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),A=z.useRef(null),F=z.useRef(!1),G=z.useCallback(W=>{var le;(le=S.find(ue=>ue.id===W.id))!=null&&le.delete||pr.dismiss(W.id),E(ue=>ue.filter(({id:Re})=>Re!==W.id))},[S]);return z.useEffect(()=>pr.subscribe(W=>{if(W.dismiss){E(le=>le.map(ue=>ue.id===W.id?{...ue,delete:!0}:ue));return}setTimeout(()=>{sA.flushSync(()=>{E(le=>{let ue=le.findIndex(Re=>Re.id===W.id);return ue!==-1?[...le.slice(0,ue),{...le[ue],...W},...le.slice(ue+1)]:[W,...le]})})})}),[]),z.useEffect(()=>{if(l!=="system"){L(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?L("dark"):L("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:W})=>{L(W?"dark":"light")})},[l]),z.useEffect(()=>{S.length<=1&&D(!1)},[S]),z.useEffect(()=>{let W=le=>{var ue,Re;r.every(xe=>le[xe]||le.code===xe)&&(D(!0),(ue=$.current)==null||ue.focus()),le.code==="Escape"&&(document.activeElement===$.current||(Re=$.current)!=null&&Re.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",W),()=>document.removeEventListener("keydown",W)},[r]),z.useEffect(()=>{if($.current)return()=>{A.current&&(A.current.focus({preventScroll:!0}),A.current=null,F.current=!1)}},[$.current]),S.length?z.createElement("section",{"aria-label":`${v} ${q}`,tabIndex:-1},k.map((W,le)=>{var ue;let[Re,xe]=W.split("-");return z.createElement("ol",{key:W,dir:y==="auto"?oT():y,tabIndex:-1,ref:$,className:i,"data-sonner-toaster":!0,"data-theme":B,"data-y-position":Re,"data-x-position":xe,style:{"--front-toast-height":`${((ue=C[0])==null?void 0:ue.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||cne,"--width":`${dne}px`,"--gap":`${g}px`,...f},onBlur:pe=>{F.current&&!pe.currentTarget.contains(pe.relatedTarget)&&(F.current=!1,A.current&&(A.current.focus({preventScroll:!0}),A.current=null))},onFocus:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||F.current||(F.current=!0,A.current=pe.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{P||D(!1)},onPointerDown:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||U(!0)},onPointerUp:()=>U(!1)},S.filter(pe=>!pe.position&&le===0||pe.position===W).map((pe,se)=>{var Ce,je;return z.createElement(gne,{key:pe.id,icons:_,index:se,toast:pe,defaultRichColors:u,duration:(Ce=p==null?void 0:p.duration)!=null?Ce:d,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:t,visibleToasts:h,closeButton:(je=p==null?void 0:p.closeButton)!=null?je:o,interacting:P,position:W,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:G,toasts:S.filter(Te=>Te.position==pe.position),heights:C.filter(Te=>Te.position==pe.position),setHeights:T,expandByDefault:s,gap:g,loadingIcon:w,expanded:j,pauseWhenPageIsHidden:x,cn:b})}))})):null};const vne=({...e})=>{const{theme:t="system"}=Gte();return c.jsx(yne,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var _ne=typeof Element<"u",xne=typeof Map=="function",wne=typeof Set=="function",bne=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function jp(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,s;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!jp(e[r],t[r]))return!1;return!0}var o;if(xne&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;for(o=e.entries();!(r=o.next()).done;)if(!jp(r.value[1],t.get(r.value[0])))return!1;return!0}if(wne&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(bne&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[r]))return!1;if(_ne&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((s[r]==="_owner"||s[r]==="__v"||s[r]==="__o")&&e.$$typeof)&&!jp(e[s[r]],t[s[r]]))return!1;return!0}return e!==e&&t!==t}var Sne=function(t,n){try{return jp(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const Ene=Vc(Sne);var kne=function(e,t,n,r,s,o,i,a){if(!e){var l;if(t===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,s,o,i,a],d=0;l=new Error(t.replace(/%s/g,function(){return u[d++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},Cne=kne;const iT=Vc(Cne);var Tne=function(t,n,r,s){var o=r?r.call(s,t,n):void 0;if(o!==void 0)return!!o;if(t===n)return!0;if(typeof t!="object"||!t||typeof n!="object"||!n)return!1;var i=Object.keys(t),a=Object.keys(n);if(i.length!==a.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(n),u=0;u<i.length;u++){var d=i[u];if(!l(d))return!1;var f=t[d],h=n[d];if(o=r?r.call(s,f,h,d):void 0,o===!1||o===void 0&&f!==h)return!1}return!0};const Nne=Vc(Tne);var tL=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(tL||{}),Xv={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},aT=Object.values(tL),TS={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Rne=Object.entries(TS).reduce((e,[t,n])=>(e[n]=t,e),{}),ms="data-rh",ec={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},tc=(e,t)=>{for(let n=e.length-1;n>=0;n-=1){const r=e[n];if(Object.prototype.hasOwnProperty.call(r,t))return r[t]}return null},Ane=e=>{let t=tc(e,"title");const n=tc(e,ec.TITLE_TEMPLATE);if(Array.isArray(t)&&(t=t.join("")),n&&t)return n.replace(/%s/g,()=>t);const r=tc(e,ec.DEFAULT_TITLE);return t||r||void 0},Ine=e=>tc(e,ec.ON_CHANGE_CLIENT_STATE)||(()=>{}),Zv=(e,t)=>t.filter(n=>typeof n[e]<"u").map(n=>n[e]).reduce((n,r)=>({...n,...r}),{}),jne=(e,t)=>t.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,r)=>{if(!n.length){const s=Object.keys(r);for(let o=0;o<s.length;o+=1){const a=s[o].toLowerCase();if(e.indexOf(a)!==-1&&r[a])return n.concat(r)}}return n},[]),Pne=e=>console&&typeof console.warn=="function"&&console.warn(e),Pu=(e,t,n)=>{const r={};return n.filter(s=>Array.isArray(s[e])?!0:(typeof s[e]<"u"&&Pne(`Helmet: ${e} should be of type "Array". Instead found type "${typeof s[e]}"`),!1)).map(s=>s[e]).reverse().reduce((s,o)=>{const i={};o.filter(l=>{let u;const d=Object.keys(l);for(let h=0;h<d.length;h+=1){const p=d[h],y=p.toLowerCase();t.indexOf(y)!==-1&&!(u==="rel"&&l[u].toLowerCase()==="canonical")&&!(y==="rel"&&l[y].toLowerCase()==="stylesheet")&&(u=y),t.indexOf(p)!==-1&&(p==="innerHTML"||p==="cssText"||p==="itemprop")&&(u=p)}if(!u||!l[u])return!1;const f=l[u].toLowerCase();return r[u]||(r[u]={}),i[u]||(i[u]={}),r[u][f]?!1:(i[u][f]=!0,!0)}).reverse().forEach(l=>s.push(l));const a=Object.keys(i);for(let l=0;l<a.length;l+=1){const u=a[l],d={...r[u],...i[u]};r[u]=d}return s},[]).reverse()},One=(e,t)=>{if(Array.isArray(e)&&e.length){for(let n=0;n<e.length;n+=1)if(e[n][t])return!0}return!1},Mne=e=>({baseTag:jne(["href"],e),bodyAttributes:Zv("bodyAttributes",e),defer:tc(e,ec.DEFER),encode:tc(e,ec.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Zv("htmlAttributes",e),linkTags:Pu("link",["rel","href"],e),metaTags:Pu("meta",["name","charset","http-equiv","property","itemprop"],e),noscriptTags:Pu("noscript",["innerHTML"],e),onChangeClientState:Ine(e),scriptTags:Pu("script",["src","innerHTML"],e),styleTags:Pu("style",["cssText"],e),title:Ane(e),titleAttributes:Zv("titleAttributes",e),prioritizeSeoTags:One(e,ec.PRIORITIZE_SEO_TAGS)}),nL=e=>Array.isArray(e)?e.join(""):e,Dne=(e,t)=>{const n=Object.keys(e);for(let r=0;r<n.length;r+=1)if(t[n[r]]&&t[n[r]].includes(e[n[r]]))return!0;return!1},Jv=(e,t)=>Array.isArray(e)?e.reduce((n,r)=>(Dne(r,t)?n.priority.push(r):n.default.push(r),n),{priority:[],default:[]}):{default:e,priority:[]},lT=(e,t)=>({...e,[t]:void 0}),Lne=["noscript","script","style"],Mx=(e,t=!0)=>t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),rL=e=>Object.keys(e).reduce((t,n)=>{const r=typeof e[n]<"u"?`${n}="${e[n]}"`:`${n}`;return t?`${t} ${r}`:r},""),Fne=(e,t,n,r)=>{const s=rL(n),o=nL(t);return s?`<${e} ${ms}="true" ${s}>${Mx(o,r)}</${e}>`:`<${e} ${ms}="true">${Mx(o,r)}</${e}>`},$ne=(e,t,n=!0)=>t.reduce((r,s)=>{const o=s,i=Object.keys(o).filter(u=>!(u==="innerHTML"||u==="cssText")).reduce((u,d)=>{const f=typeof o[d]>"u"?d:`${d}="${Mx(o[d],n)}"`;return u?`${u} ${f}`:f},""),a=o.innerHTML||o.cssText||"",l=Lne.indexOf(e)===-1;return`${r}<${e} ${ms}="true" ${i}${l?"/>":`>${a}</${e}>`}`},""),sL=(e,t={})=>Object.keys(e).reduce((n,r)=>{const s=TS[r];return n[s||r]=e[r],n},t),Une=(e,t,n)=>{const r={key:t,[ms]:!0},s=sL(n,r);return[z.createElement("title",s,t)]},Pp=(e,t)=>t.map((n,r)=>{const s={key:r,[ms]:!0};return Object.keys(n).forEach(o=>{const a=TS[o]||o;if(a==="innerHTML"||a==="cssText"){const l=n.innerHTML||n.cssText;s.dangerouslySetInnerHTML={__html:l}}else s[a]=n[o]}),z.createElement(e,s)}),Mr=(e,t,n=!0)=>{switch(e){case"title":return{toComponent:()=>Une(e,t.title,t.titleAttributes),toString:()=>Fne(e,t.title,t.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>sL(t),toString:()=>rL(t)};default:return{toComponent:()=>Pp(e,t),toString:()=>$ne(e,t,n)}}},Bne=({metaTags:e,linkTags:t,scriptTags:n,encode:r})=>{const s=Jv(e,Xv.meta),o=Jv(t,Xv.link),i=Jv(n,Xv.script);return{priorityMethods:{toComponent:()=>[...Pp("meta",s.priority),...Pp("link",o.priority),...Pp("script",i.priority)],toString:()=>`${Mr("meta",s.priority,r)} ${Mr("link",o.priority,r)} ${Mr("script",i.priority,r)}`},metaTags:s.default,linkTags:o.default,scriptTags:i.default}},zne=e=>{const{baseTag:t,bodyAttributes:n,encode:r=!0,htmlAttributes:s,noscriptTags:o,styleTags:i,title:a="",titleAttributes:l,prioritizeSeoTags:u}=e;let{linkTags:d,metaTags:f,scriptTags:h}=e,p={toComponent:()=>{},toString:()=>""};return u&&({priorityMethods:p,linkTags:d,metaTags:f,scriptTags:h}=Bne(e)),{priority:p,base:Mr("base",t,r),bodyAttributes:Mr("bodyAttributes",n,r),htmlAttributes:Mr("htmlAttributes",s,r),link:Mr("link",d,r),meta:Mr("meta",f,r),noscript:Mr("noscript",o,r),script:Mr("script",h,r),style:Mr("style",i,r),title:Mr("title",{title:a,titleAttributes:l},r)}},Dx=zne,np=[],oL=!!(typeof window<"u"&&window.document&&window.document.createElement),Lx=class{constructor(e,t){kn(this,"instances",[]);kn(this,"canUseDOM",oL);kn(this,"context");kn(this,"value",{setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?np:this.instances,add:e=>{(this.canUseDOM?np:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?np:this.instances).indexOf(e);(this.canUseDOM?np:this.instances).splice(t,1)}}});this.context=e,this.canUseDOM=t||!1,t||(e.helmet=Dx({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},Hne={},iL=z.createContext(Hne),Ca,NS=(Ca=class extends m.Component{constructor(n){super(n);kn(this,"helmetData");this.helmetData=new Lx(this.props.context||{},Ca.canUseDOM)}render(){return z.createElement(iL.Provider,{value:this.helmetData.value},this.props.children)}},kn(Ca,"canUseDOM",oL),Ca),_l=(e,t)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll(`${e}[${ms}]`),s=[].slice.call(r),o=[];let i;return t&&t.length&&t.forEach(a=>{const l=document.createElement(e);for(const u in a)if(Object.prototype.hasOwnProperty.call(a,u))if(u==="innerHTML")l.innerHTML=a.innerHTML;else if(u==="cssText")l.styleSheet?l.styleSheet.cssText=a.cssText:l.appendChild(document.createTextNode(a.cssText));else{const d=u,f=typeof a[d]>"u"?"":a[d];l.setAttribute(u,f)}l.setAttribute(ms,"true"),s.some((u,d)=>(i=d,l.isEqualNode(u)))?s.splice(i,1):o.push(l)}),s.forEach(a=>{var l;return(l=a.parentNode)==null?void 0:l.removeChild(a)}),o.forEach(a=>n.appendChild(a)),{oldTags:s,newTags:o}},Fx=(e,t)=>{const n=document.getElementsByTagName(e)[0];if(!n)return;const r=n.getAttribute(ms),s=r?r.split(","):[],o=[...s],i=Object.keys(t);for(const a of i){const l=t[a]||"";n.getAttribute(a)!==l&&n.setAttribute(a,l),s.indexOf(a)===-1&&s.push(a);const u=o.indexOf(a);u!==-1&&o.splice(u,1)}for(let a=o.length-1;a>=0;a-=1)n.removeAttribute(o[a]);s.length===o.length?n.removeAttribute(ms):n.getAttribute(ms)!==i.join(",")&&n.setAttribute(ms,i.join(","))},Vne=(e,t)=>{typeof e<"u"&&document.title!==e&&(document.title=nL(e)),Fx("title",t)},cT=(e,t)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:s,linkTags:o,metaTags:i,noscriptTags:a,onChangeClientState:l,scriptTags:u,styleTags:d,title:f,titleAttributes:h}=e;Fx("body",r),Fx("html",s),Vne(f,h);const p={baseTag:_l("base",n),linkTags:_l("link",o),metaTags:_l("meta",i),noscriptTags:_l("noscript",a),scriptTags:_l("script",u),styleTags:_l("style",d)},y={},g={};Object.keys(p).forEach(w=>{const{newTags:_,oldTags:v}=p[w];_.length&&(y[w]=_),v.length&&(g[w]=p[w].oldTags)}),t&&t(),l(e,y,g)},Ou=null,Wne=e=>{Ou&&cancelAnimationFrame(Ou),e.defer?Ou=requestAnimationFrame(()=>{cT(e,()=>{Ou=null})}):(cT(e),Ou=null)},qne=Wne,uT=class extends m.Component{constructor(){super(...arguments);kn(this,"rendered",!1)}shouldComponentUpdate(t){return!Nne(t,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:t}=this.props.context;t.remove(this),this.emitChange()}emitChange(){const{helmetInstances:t,setHelmet:n}=this.props.context;let r=null;const s=Mne(t.get().map(o=>{const i={...o.props};return delete i.context,i}));NS.canUseDOM?qne(s):Dx&&(r=Dx(s)),n(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:t}=this.props.context;t.add(this),this.emitChange()}render(){return this.init(),null}},_0,Gne=(_0=class extends m.Component{shouldComponentUpdate(e){return!Ene(lT(this.props,"helmetData"),lT(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,n,r){return{...t,[e.type]:[...t[e.type]||[],{...n,...this.mapNestedChildrenToProps(e,r)}]}}mapObjectTypeChildren(e,t,n,r){switch(e.type){case"title":return{...t,[e.type]:r,titleAttributes:{...n}};case"body":return{...t,bodyAttributes:{...n}};case"html":return{...t,htmlAttributes:{...n}};default:return{...t,[e.type]:{...n}}}}mapArrayTypeChildrenToProps(e,t){let n={...t};return Object.keys(e).forEach(r=>{n={...n,[r]:e[r]}}),n}warnOnInvalidChildren(e,t){return iT(aT.some(n=>e.type===n),typeof e.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${aT.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),iT(!t||typeof t=="string"||Array.isArray(t)&&!t.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let n={};return z.Children.forEach(e,r=>{if(!r||!r.props)return;const{children:s,...o}=r.props,i=Object.keys(o).reduce((l,u)=>(l[Rne[u]||u]=o[u],l),{});let{type:a}=r;switch(typeof a=="symbol"?a=a.toString():this.warnOnInvalidChildren(r,s),a){case"Symbol(react.fragment)":t=this.mapChildrenToProps(s,t);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(r,n,i,s);break;default:t=this.mapObjectTypeChildren(r,t,i,s);break}}),this.mapArrayTypeChildrenToProps(n,t)}render(){const{children:e,...t}=this.props;let n={...t},{helmetData:r}=t;if(e&&(n=this.mapChildrenToProps(e,n)),r&&!(r instanceof Lx)){const s=r;r=new Lx(s.context,!0),delete n.helmetData}return r?z.createElement(uT,{...n,context:r.value}):z.createElement(iL.Consumer,null,s=>z.createElement(uT,{...n,context:s}))}},kn(_0,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),_0);const Kne=yy("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Vm=m.forwardRef(({className:e,variant:t,...n},r)=>c.jsx("div",{ref:r,role:"alert",className:ne(Kne({variant:t}),e),...n}));Vm.displayName="Alert";const Wm=m.forwardRef(({className:e,...t},n)=>c.jsx("h5",{ref:n,className:ne("mb-1 font-medium leading-none tracking-tight",e),...t}));Wm.displayName="AlertTitle";const qm=m.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:ne("text-sm [&_p]:leading-relaxed",e),...t}));qm.displayName="AlertDescription";const Yne=e=>{const t=(e==null?void 0:e.message)||(e==null?void 0:e.toString())||"";return t.includes("ERR_BLOCKED_BY_CLIENT")||t.includes("ERR_FAILED")||t.includes("ERR_NETWORK_CHANGED")||t.includes("chrome-extension")||t.includes("fbevents.js")||t.includes("connect.facebook.net")||t.includes("WebSocket connection to")||t.includes("ws://")||t.includes("wss://")||t.includes("Failed to construct")||t.includes("NetworkError")||t.includes("NETWORK_ERROR")||t.includes("404")||t.includes("502")||t.includes("Bad Gateway")||t.includes("Failed to load resource")||t.includes("sandbox")||t.includes("lovableproject.com")},dT=()=>!1,Qu=e=>Yne(e),Yo=(e,t)=>{if(Qu(e)){console.debug(`[External Error${t?` - ${t}`:""}]:`,e.message||e);return}console.error(`[App Error${t?` - ${t}`:""}]:`,e)};class Qne extends m.Component{constructor(){super(...arguments);kn(this,"state",{hasError:!1,errorCount:0});kn(this,"handleGlobalError",n=>{const r=n.error||new Error(n.message);if(Qu(r)){Yo(r,"Global error handler - External error suppressed"),n.preventDefault();return}Yo(r,"Global error handler"),ma(r,{tags:{source:"globalErrorHandler"},extra:{filename:n.filename,lineno:n.lineno,colno:n.colno}})});kn(this,"handleUnhandledRejection",n=>{const r=n.reason;if(Qu(r)){Yo(r,"Unhandled rejection - External error suppressed"),n.preventDefault();return}Yo(r,"Unhandled rejection"),ma(r,{tags:{source:"unhandledRejection"}})});kn(this,"handleRetry",()=>{this.setState({hasError:!1,error:void 0,errorCount:0,eventId:void 0})})}static getDerivedStateFromError(n){if(Qu(n))return Yo(n,"ErrorBoundary - External error suppressed"),null;Yo(n,"ErrorBoundary");const r=ma(n,{tags:{component:"ErrorBoundary",source:"getDerivedStateFromError"},level:"error"});return{hasError:!0,error:n,errorCount:0,eventId:r}}componentDidCatch(n,r){if(Qu(n)){Yo(n,"ErrorBoundary - External error in componentDidCatch"),this.state.hasError&&this.setState({hasError:!1,error:void 0});return}Yo(n,"ErrorBoundary - Component error"),console.error("ErrorBoundary details:",n,r),nu(s=>{s.setTag("component","ErrorBoundary"),s.setContext("errorInfo",{componentStack:r.componentStack}),s.setLevel("error");const o=ma(n);this.setState({eventId:o})}),this.setState(s=>({errorCount:s.errorCount+1}))}componentDidMount(){window.addEventListener("unhandledrejection",this.handleUnhandledRejection),window.addEventListener("error",this.handleGlobalError)}componentWillUnmount(){window.removeEventListener("unhandledrejection",this.handleUnhandledRejection),window.removeEventListener("error",this.handleGlobalError)}render(){return this.state.hasError?this.state.errorCount>3?c.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center p-4",children:c.jsxs(Vm,{variant:"destructive",className:"max-w-md",children:[c.jsx(Wm,{children:"Critical Error"}),c.jsxs(qm,{children:["Multiple errors detected. Please refresh the page.",this.state.eventId&&c.jsxs(c.Fragment,{children:[c.jsx("br",{}),c.jsxs("span",{className:"text-xs text-gray-400",children:["Error ID: ",this.state.eventId]})]}),dT()]})]})}):c.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center p-4",children:c.jsxs(Vm,{variant:"destructive",className:"max-w-md",children:[c.jsx(Wm,{children:"Application Error"}),c.jsxs(qm,{children:["Something went wrong. This appears to be an application error.",c.jsx("br",{}),c.jsx("button",{onClick:this.handleRetry,className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Try Again"}),this.state.eventId&&c.jsxs(c.Fragment,{children:[c.jsx("br",{}),c.jsxs("span",{className:"text-xs text-gray-400 mt-2 block",children:["Error ID: ",this.state.eventId]})]}),dT()]})]})}):this.props.children}}const Xne=mG(Qne,{fallback:({error:e,resetError:t})=>c.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center p-4",children:c.jsxs(Vm,{variant:"destructive",className:"max-w-md",children:[c.jsx(Wm,{children:"Unexpected Error"}),c.jsxs(qm,{children:["An unexpected error occurred. Please try refreshing the page.",c.jsx("br",{}),c.jsx("button",{onClick:t,className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Reset"})]})]})})}),Zne=()=>(console.log("LoadingFallback: Rendering"),c.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-gray-900",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-white mx-auto mb-4"}),c.jsx("p",{className:"text-white",children:"Loading WoDaGOAT..."}),c.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Initializing application..."})]})})),Ft=m.forwardRef(({className:e,type:t,...n},r)=>c.jsx("input",{type:t,className:ne("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));Ft.displayName="Input";var Jne="Label",aL=m.forwardRef((e,t)=>c.jsx(he.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));aL.displayName=Jne;var lL=aL;const ere=yy("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),nc=m.forwardRef(({className:e,...t},n)=>c.jsx(lL,{ref:n,className:ne(ere(),e),...t}));nc.displayName=lL.displayName;var RS="Dialog",[cL,uL]=Jr(RS),[tre,ks]=cL(RS),dL=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,a=m.useRef(null),l=m.useRef(null),[u=!1,d]=Gs({prop:r,defaultProp:s,onChange:o});return c.jsx(tre,{scope:t,triggerRef:a,contentRef:l,contentId:qr(),titleId:qr(),descriptionId:qr(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(f=>!f),[d]),modal:i,children:n})};dL.displayName=RS;var fL="DialogTrigger",hL=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=ks(fL,n),o=Fe(t,s.triggerRef);return c.jsx(he.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":jS(s.open),...r,ref:o,onClick:te(e.onClick,s.onOpenToggle)})});hL.displayName=fL;var AS="DialogPortal",[nre,pL]=cL(AS,{forceMount:void 0}),mL=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=ks(AS,t);return c.jsx(nre,{scope:t,forceMount:n,children:m.Children.map(r,i=>c.jsx(wn,{present:n||o.open,children:c.jsx(Gf,{asChild:!0,container:s,children:i})}))})};mL.displayName=AS;var Gm="DialogOverlay",gL=m.forwardRef((e,t)=>{const n=pL(Gm,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=ks(Gm,e.__scopeDialog);return o.modal?c.jsx(wn,{present:r||o.open,children:c.jsx(rre,{...s,ref:t})}):null});gL.displayName=Gm;var rre=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=ks(Gm,n);return c.jsx(Kf,{as:Ks,allowPinchZoom:!0,shards:[s.contentRef],children:c.jsx(he.div,{"data-state":jS(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Ga="DialogContent",yL=m.forwardRef((e,t)=>{const n=pL(Ga,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=ks(Ga,e.__scopeDialog);return c.jsx(wn,{present:r||o.open,children:o.modal?c.jsx(sre,{...s,ref:t}):c.jsx(ore,{...s,ref:t})})});yL.displayName=Ga;var sre=m.forwardRef((e,t)=>{const n=ks(Ga,e.__scopeDialog),r=m.useRef(null),s=Fe(t,n.contentRef,r);return m.useEffect(()=>{const o=r.current;if(o)return fy(o)},[]),c.jsx(vL,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:te(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:te(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:te(e.onFocusOutside,o=>o.preventDefault())})}),ore=m.forwardRef((e,t)=>{const n=ks(Ga,e.__scopeDialog),r=m.useRef(!1),s=m.useRef(!1);return c.jsx(vL,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),vL=m.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,a=ks(Ga,n),l=m.useRef(null),u=Fe(t,l);return oy(),c.jsxs(c.Fragment,{children:[c.jsx(Wf,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:c.jsx(Vf,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":jS(a.open),...i,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(are,{titleId:a.titleId}),c.jsx(cre,{contentRef:l,descriptionId:a.descriptionId})]})]})}),IS="DialogTitle",_L=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=ks(IS,n);return c.jsx(he.h2,{id:s.titleId,...r,ref:t})});_L.displayName=IS;var xL="DialogDescription",wL=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=ks(xL,n);return c.jsx(he.p,{id:s.descriptionId,...r,ref:t})});wL.displayName=xL;var bL="DialogClose",SL=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=ks(bL,n);return c.jsx(he.button,{type:"button",...r,ref:t,onClick:te(e.onClick,()=>s.onOpenChange(!1))})});SL.displayName=bL;function jS(e){return e?"open":"closed"}var EL="DialogTitleWarning",[ire,kL]=JG(EL,{contentName:Ga,titleName:IS,docsSlug:"dialog"}),are=({titleId:e})=>{const t=kL(EL),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},lre="DialogDescriptionWarning",cre=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${kL(lre).contentName}}.`;return m.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},CL=dL,TL=hL,NL=mL,PS=gL,OS=yL,MS=_L,DS=wL,LS=SL;const nh=CL,cae=TL,ure=NL,RL=m.forwardRef(({className:e,...t},n)=>c.jsx(PS,{ref:n,className:ne("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));RL.displayName=PS.displayName;const pu=m.forwardRef(({className:e,children:t,...n},r)=>c.jsxs(ure,{children:[c.jsx(RL,{}),c.jsxs(OS,{ref:r,className:ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,c.jsxs(LS,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[c.jsx(il,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));pu.displayName=OS.displayName;const mu=({className:e,...t})=>c.jsx("div",{className:ne("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});mu.displayName="DialogHeader";const rh=({className:e,...t})=>c.jsx("div",{className:ne("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});rh.displayName="DialogFooter";const gu=m.forwardRef(({className:e,...t},n)=>c.jsx(MS,{ref:n,className:ne("text-lg font-semibold leading-none tracking-tight",e),...t}));gu.displayName=MS.displayName;const sh=m.forwardRef(({className:e,...t},n)=>c.jsx(DS,{ref:n,className:ne("text-sm text-muted-foreground",e),...t}));sh.displayName=DS.displayName;const dre=e=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 48 48",...e,children:[c.jsx("path",{fill:"#FFC107",d:"M43.611 20.083H42V20H24v8h11.303c-1.649 4.657-6.08 8-11.303 8c-6.627 0-12-5.373-12-12s5.373-12 12-12c3.059 0 5.842 1.154 7.961 3.039L38.802 12.66C34.935 9.215 29.818 7 24 7c-9.4 0-17 7.6-17 17s7.6 17 17 17s17-7.6 17-17c0-2.043-.375-4.004-1.039-5.917z"}),c.jsx("path",{fill:"#FF3D00",d:"M6.306 14.691L12.55 19.45c1.474-3.466 4.68-6.108 8.45-6.958L14.69 6.305C10.511 8.216 7.55 11.08 6.306 14.691z"}),c.jsx("path",{fill:"#4CAF50",d:"M24 44c5.166 0 9.86-1.977 13.409-5.192l-6.19-4.79C29.211 35.091 26.715 36 24 36c-5.202 0-9.619-3.317-11.283-7.946l-6.522 5.025C9.505 39.556 16.227 44 24 44z"}),c.jsx("path",{fill:"#1976D2",d:"M43.611 20.083H42V20H24v8h11.303c-.792 2.237-2.231 4.16-4.082 5.571l6.19 4.79C41.283 35.846 44 30.735 44 24c0-2.043-.375-4.004-1.039-5.917z"})]}),fre=()=>{const e=async t=>{const{error:n}=await Ge.auth.signInWithOAuth({provider:t,options:{redirectTo:window.location.origin}});n&&ye.error(`Failed to sign in with ${t}: ${n.message}`)};return c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs(Be,{variant:"outline",className:"w-full bg-gray-700 border-gray-600 hover:bg-gray-600 text-white",onClick:()=>e("google"),children:[c.jsx(dre,{className:"mr-2 h-5 w-5"}),"Google"]}),c.jsxs(Be,{variant:"outline",className:"w-full bg-gray-700 border-gray-600 hover:bg-gray-600 text-white",onClick:()=>e("facebook"),children:[c.jsx(sM,{className:"mr-2 h-5 w-5 text-[#1877F2]"}),"Facebook"]})]})},hre=({open:e,onOpenChange:t,defaultMode:n="login"})=>{const[r,s]=m.useState(n),[o,i]=m.useState(""),[a,l]=m.useState(""),[u,d]=m.useState(""),[f,h]=m.useState(!1),{signIn:p,signUp:y}=Ir();m.useEffect(()=>{e||(i(""),l(""),d(""),h(!1))},[e]),m.useEffect(()=>{e&&s(n)},[e,n]);const g=async _=>{_.preventDefault(),h(!0);try{if(r==="signup"){if(a!==u){ye.error("Passwords don't match"),h(!1);return}const v=`${window.location.origin}/`,{error:x}=await y({email:o,password:a,options:{emailRedirectTo:v}});x?x.message.includes("already registered")?(ye.error("This email is already registered. Try logging in instead."),s("login")):ye.error(x.message):(ye.success("Please check your email to confirm your account!"),t(!1))}else{const{error:v}=await p({email:o,password:a});v?v.message.includes("Invalid login credentials")?ye.error("Invalid email or password. Please try again."):ye.error(v.message):(ye.success("Successfully logged in!"),t(!1))}}catch(v){ye.error(v.message||"An unexpected error occurred")}finally{h(!1)}},w=()=>{s(r==="login"?"signup":"login"),i(""),l(""),d("")};return c.jsx(nh,{open:e,onOpenChange:t,children:c.jsxs(pu,{className:"sm:max-w-md bg-gray-900 border-gray-700",children:[c.jsx(mu,{children:c.jsx(gu,{className:"text-center text-xl font-bold text-white",children:r==="login"?"Welcome back to WoDaGOAT!":"Join WoDaGOAT!"})}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(fre,{}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("span",{className:"w-full border-t border-gray-600"})}),c.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:c.jsx("span",{className:"bg-gray-900 px-2 text-gray-400",children:"Or continue with email"})})]}),c.jsxs("form",{onSubmit:g,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(nc,{htmlFor:"email",className:"text-gray-200",children:"Email"}),c.jsx(Ft,{id:"email",type:"email",placeholder:"Enter your email",value:o,onChange:_=>i(_.target.value),required:!0,disabled:f,className:"bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:border-cyan-500"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(nc,{htmlFor:"password",className:"text-gray-200",children:"Password"}),c.jsx(Ft,{id:"password",type:"password",placeholder:"Enter your password",value:a,onChange:_=>l(_.target.value),required:!0,disabled:f,minLength:6,className:"bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:border-cyan-500"})]}),r==="signup"&&c.jsxs("div",{className:"space-y-2",children:[c.jsx(nc,{htmlFor:"confirmPassword",className:"text-gray-200",children:"Confirm Password"}),c.jsx(Ft,{id:"confirmPassword",type:"password",placeholder:"Confirm your password",value:u,onChange:_=>d(_.target.value),required:!0,disabled:f,minLength:6,className:"bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:border-cyan-500"})]}),c.jsx(Be,{type:"submit",className:"w-full bg-gradient-to-r from-fuchsia-500 to-cyan-500 hover:opacity-90",disabled:f,children:f?r==="login"?"Signing In...":"Creating Account...":r==="login"?"Sign In":"Create Account"})]}),c.jsx("div",{className:"text-center",children:c.jsx("button",{type:"button",onClick:w,className:"text-sm text-gray-400 hover:text-cyan-400 underline",disabled:f,children:r==="login"?"Don't have an account? Sign up":"Already have an account? Log in"})})]})]})})},pre=()=>{const{authDialogOpen:e,closeAuthDialog:t,authDialogMode:n}=Ir();return c.jsx(hre,{open:e,onOpenChange:t,defaultMode:n})},Sy=m.forwardRef(({className:e,...t},n)=>c.jsx("div",{className:"relative w-full overflow-auto",children:c.jsx("table",{ref:n,className:ne("w-full caption-bottom text-sm",e),...t})}));Sy.displayName="Table";const Ey=m.forwardRef(({className:e,...t},n)=>c.jsx("thead",{ref:n,className:ne("[&_tr]:border-b",e),...t}));Ey.displayName="TableHeader";const ky=m.forwardRef(({className:e,...t},n)=>c.jsx("tbody",{ref:n,className:ne("[&_tr:last-child]:border-0",e),...t}));ky.displayName="TableBody";const mre=m.forwardRef(({className:e,...t},n)=>c.jsx("tfoot",{ref:n,className:ne("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));mre.displayName="TableFooter";const Vs=m.forwardRef(({className:e,...t},n)=>c.jsx("tr",{ref:n,className:ne("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Vs.displayName="TableRow";const St=m.forwardRef(({className:e,...t},n)=>c.jsx("th",{ref:n,className:ne("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));St.displayName="TableHead";const ht=m.forwardRef(({className:e,...t},n)=>c.jsx("td",{ref:n,className:ne("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));ht.displayName="TableCell";const gre=m.forwardRef(({className:e,...t},n)=>c.jsx("caption",{ref:n,className:ne("mt-4 text-sm text-muted-foreground",e),...t}));gre.displayName="TableCaption";const yre=yy("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",premium:"border-transparent bg-gradient-to-r from-fuchsia-500 to-cyan-500 text-primary-foreground shadow-md"}},defaultVariants:{variant:"default"}});function Pt({className:e,variant:t,...n}){return c.jsx("div",{className:ne(yre({variant:t}),e),...n})}var AL="AlertDialog",[vre,uae]=Jr(AL,[uL]),Vo=uL(),IL=e=>{const{__scopeAlertDialog:t,...n}=e,r=Vo(t);return c.jsx(CL,{...r,...n,modal:!0})};IL.displayName=AL;var _re="AlertDialogTrigger",jL=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Vo(n);return c.jsx(TL,{...s,...r,ref:t})});jL.displayName=_re;var xre="AlertDialogPortal",PL=e=>{const{__scopeAlertDialog:t,...n}=e,r=Vo(t);return c.jsx(NL,{...r,...n})};PL.displayName=xre;var wre="AlertDialogOverlay",OL=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Vo(n);return c.jsx(PS,{...s,...r,ref:t})});OL.displayName=wre;var rc="AlertDialogContent",[bre,Sre]=vre(rc),ML=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,o=Vo(n),i=m.useRef(null),a=Fe(t,i),l=m.useRef(null);return c.jsx(ire,{contentName:rc,titleName:DL,docsSlug:"alert-dialog",children:c.jsx(bre,{scope:n,cancelRef:l,children:c.jsxs(OS,{role:"alertdialog",...o,...s,ref:a,onOpenAutoFocus:te(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[c.jsx(kP,{children:r}),c.jsx(kre,{contentRef:i})]})})})});ML.displayName=rc;var DL="AlertDialogTitle",LL=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Vo(n);return c.jsx(MS,{...s,...r,ref:t})});LL.displayName=DL;var FL="AlertDialogDescription",$L=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Vo(n);return c.jsx(DS,{...s,...r,ref:t})});$L.displayName=FL;var Ere="AlertDialogAction",UL=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Vo(n);return c.jsx(LS,{...s,...r,ref:t})});UL.displayName=Ere;var BL="AlertDialogCancel",zL=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=Sre(BL,n),o=Vo(n),i=Fe(t,s);return c.jsx(LS,{...o,...r,ref:i})});zL.displayName=BL;var kre=({contentRef:e})=>{const t=`\`${rc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${rc}\` by passing a \`${FL}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${rc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Cre=IL,Tre=jL,Nre=PL,HL=OL,VL=ML,WL=UL,qL=zL,GL=LL,KL=$L;const Op=Cre,dae=Tre,Rre=Nre,YL=m.forwardRef(({className:e,...t},n)=>c.jsx(HL,{className:ne("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));YL.displayName=HL.displayName;const gd=m.forwardRef(({className:e,...t},n)=>c.jsxs(Rre,{children:[c.jsx(YL,{}),c.jsx(VL,{ref:n,className:ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));gd.displayName=VL.displayName;const yd=({className:e,...t})=>c.jsx("div",{className:ne("flex flex-col space-y-2 text-center sm:text-left",e),...t});yd.displayName="AlertDialogHeader";const vd=({className:e,...t})=>c.jsx("div",{className:ne("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});vd.displayName="AlertDialogFooter";const _d=m.forwardRef(({className:e,...t},n)=>c.jsx(GL,{ref:n,className:ne("text-lg font-semibold",e),...t}));_d.displayName=GL.displayName;const xd=m.forwardRef(({className:e,...t},n)=>c.jsx(KL,{ref:n,className:ne("text-sm text-muted-foreground",e),...t}));xd.displayName=KL.displayName;const wd=m.forwardRef(({className:e,...t},n)=>c.jsx(WL,{ref:n,className:ne(lS(),e),...t}));wd.displayName=WL.displayName;const bd=m.forwardRef(({className:e,...t},n)=>c.jsx(qL,{ref:n,className:ne(lS({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));bd.displayName=qL.displayName;const Are=({comment:e,refetchComments:t})=>{const{isAdmin:n}=Ir(),[r,s]=m.useState(!1),[o,i]=m.useState(!1),[a,l]=m.useState(!1),{mutate:u,isPending:d}=Fc({mutationFn:async({userId:_,status:v})=>{const x=n?"set_user_status":"set_user_status_moderator",{error:b}=await Ge.rpc(x,{p_user_id:_,p_status:v});if(b)throw b},onSuccess:(_,{status:v})=>{ye.success(`User has been ${v}.`),t(),s(!1),i(!1)},onError:_=>{ye.error(`Failed to update user status: ${_.message}`),s(!1),i(!1)}}),{mutate:f,isPending:h}=Fc({mutationFn:async _=>{const{error:v}=await Ge.rpc("delete_comment_as_admin",{p_comment_id:_});if(v)throw v},onSuccess:()=>{ye.success("Comment deleted successfully."),t(),l(!1)},onError:_=>{ye.error(`Failed to delete comment: ${_.message}`),l(!1)}}),p=()=>u({userId:e.user_id,status:"banned"}),y=()=>u({userId:e.user_id,status:"active"}),g=()=>f(e.comment_id),w=e.user_status==="banned";return c.jsxs(c.Fragment,{children:[c.jsxs(fM,{children:[c.jsx(hM,{asChild:!0,children:c.jsxs(Be,{variant:"ghost",className:"h-8 w-8 p-0 hover:bg-white/10",children:[c.jsx("span",{className:"sr-only",children:"Open menu"}),c.jsx(oZ,{className:"h-4 w-4"})]})}),c.jsxs(aS,{align:"end",className:"bg-gray-800 border-gray-700 text-white",children:[c.jsxs(Ds,{className:"text-red-400 focus:bg-red-500/20 focus:text-red-300 cursor-pointer",onSelect:()=>l(!0),children:[c.jsx(cM,{className:"mr-2 h-4 w-4"}),c.jsx("span",{children:"Delete Comment"})]}),w?c.jsxs(Ds,{className:"text-green-400 focus:bg-green-500/20 focus:text-green-300 cursor-pointer",onSelect:()=>i(!0),children:[c.jsx(wZ,{className:"mr-2 h-4 w-4"}),c.jsx("span",{children:"Unban User"})]}):c.jsxs(Ds,{className:"text-red-400 focus:bg-red-500/20 focus:text-red-300 cursor-pointer",onSelect:()=>s(!0),children:[c.jsx(bZ,{className:"mr-2 h-4 w-4"}),c.jsx("span",{children:"Ban User"})]})]})]}),c.jsx(Op,{open:r,onOpenChange:s,children:c.jsxs(gd,{className:"bg-gray-900 border-gray-700 text-white",children:[c.jsxs(yd,{children:[c.jsx(_d,{children:"Are you sure you want to ban this user?"}),c.jsx(xd,{className:"text-gray-400",children:"This will prevent the user from posting, editing, or deleting comments. This action can be reversed."})]}),c.jsxs(vd,{children:[c.jsx(bd,{className:"bg-gray-700 border-0 hover:bg-gray-600 text-white",children:"Cancel"}),c.jsx(wd,{onClick:p,disabled:d,className:"bg-red-600 hover:bg-red-700 text-white",children:d?"Banning...":"Ban User"})]})]})}),c.jsx(Op,{open:o,onOpenChange:i,children:c.jsxs(gd,{className:"bg-gray-900 border-gray-700 text-white",children:[c.jsxs(yd,{children:[c.jsx(_d,{children:"Are you sure you want to unban this user?"}),c.jsx(xd,{className:"text-gray-400",children:"This will allow the user to resume posting comments."})]}),c.jsxs(vd,{children:[c.jsx(bd,{className:"bg-gray-700 border-0 hover:bg-gray-600 text-white",children:"Cancel"}),c.jsx(wd,{onClick:y,disabled:d,className:"bg-green-600 hover:bg-green-700 text-white",children:d?"Unbanning...":"Unban User"})]})]})}),c.jsx(Op,{open:a,onOpenChange:l,children:c.jsxs(gd,{className:"bg-gray-900 border-gray-700 text-white",children:[c.jsxs(yd,{children:[c.jsx(_d,{children:"Are you sure you want to delete this comment?"}),c.jsx(xd,{className:"text-gray-400",children:"This action cannot be undone. This will permanently delete the comment."})]}),c.jsxs(vd,{children:[c.jsx(bd,{className:"bg-gray-700 border-0 hover:bg-gray-600 text-white",children:"Cancel"}),c.jsx(wd,{onClick:g,disabled:h,className:"bg-red-600 hover:bg-red-700 text-white",children:h?"Deleting...":"Delete Comment"})]})]})})]})};/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:QL,setPrototypeOf:fT,isFrozen:Ire,getPrototypeOf:jre,getOwnPropertyDescriptor:Pre}=Object;let{freeze:Vn,seal:Xr,create:XL}=Object,{apply:$x,construct:Ux}=typeof Reflect<"u"&&Reflect;Vn||(Vn=function(t){return t});Xr||(Xr=function(t){return t});$x||($x=function(t,n,r){return t.apply(n,r)});Ux||(Ux=function(t,n){return new t(...n)});const rp=Wn(Array.prototype.forEach),Ore=Wn(Array.prototype.lastIndexOf),hT=Wn(Array.prototype.pop),Mu=Wn(Array.prototype.push),Mre=Wn(Array.prototype.splice),Mp=Wn(String.prototype.toLowerCase),e0=Wn(String.prototype.toString),pT=Wn(String.prototype.match),Du=Wn(String.prototype.replace),Dre=Wn(String.prototype.indexOf),Lre=Wn(String.prototype.trim),is=Wn(Object.prototype.hasOwnProperty),Pn=Wn(RegExp.prototype.test),Lu=Fre(TypeError);function Wn(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return $x(e,t,r)}}function Fre(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ux(e,n)}}function He(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Mp;fT&&fT(e,null);let r=t.length;for(;r--;){let s=t[r];if(typeof s=="string"){const o=n(s);o!==s&&(Ire(t)||(t[r]=o),s=o)}e[s]=!0}return e}function $re(e){for(let t=0;t<e.length;t++)is(e,t)||(e[t]=null);return e}function uo(e){const t=XL(null);for(const[n,r]of QL(e))is(e,n)&&(Array.isArray(r)?t[n]=$re(r):r&&typeof r=="object"&&r.constructor===Object?t[n]=uo(r):t[n]=r);return t}function Fu(e,t){for(;e!==null;){const r=Pre(e,t);if(r){if(r.get)return Wn(r.get);if(typeof r.value=="function")return Wn(r.value)}e=jre(e)}function n(){return null}return n}const mT=Vn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),t0=Vn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),n0=Vn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Ure=Vn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),r0=Vn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Bre=Vn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),gT=Vn(["#text"]),yT=Vn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),s0=Vn(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),vT=Vn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),sp=Vn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),zre=Xr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Hre=Xr(/<%[\w\W]*|[\w\W]*%>/gm),Vre=Xr(/\$\{[\w\W]*/gm),Wre=Xr(/^data-[\-\w.\u00B7-\uFFFF]+$/),qre=Xr(/^aria-[\-\w]+$/),ZL=Xr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Gre=Xr(/^(?:\w+script|data):/i),Kre=Xr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),JL=Xr(/^html$/i),Yre=Xr(/^[a-z][.\w]*(-[.\w]+)+$/i);var _T=Object.freeze({__proto__:null,ARIA_ATTR:qre,ATTR_WHITESPACE:Kre,CUSTOM_ELEMENT:Yre,DATA_ATTR:Wre,DOCTYPE_NAME:JL,ERB_EXPR:Hre,IS_ALLOWED_URI:ZL,IS_SCRIPT_OR_DATA:Gre,MUSTACHE_EXPR:zre,TMPLIT_EXPR:Vre});const $u={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},Qre=function(){return typeof window>"u"?null:window},Xre=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let r=null;const s="data-tt-policy-suffix";n&&n.hasAttribute(s)&&(r=n.getAttribute(s));const o="dompurify"+(r?"#"+r:"");try{return t.createPolicy(o,{createHTML(i){return i},createScriptURL(i){return i}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}},xT=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function e2(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Qre();const t=me=>e2(me);if(t.version="3.2.6",t.removed=[],!e||!e.document||e.document.nodeType!==$u.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const r=n,s=r.currentScript,{DocumentFragment:o,HTMLTemplateElement:i,Node:a,Element:l,NodeFilter:u,NamedNodeMap:d=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:f,DOMParser:h,trustedTypes:p}=e,y=l.prototype,g=Fu(y,"cloneNode"),w=Fu(y,"remove"),_=Fu(y,"nextSibling"),v=Fu(y,"childNodes"),x=Fu(y,"parentNode");if(typeof i=="function"){const me=n.createElement("template");me.content&&me.content.ownerDocument&&(n=me.content.ownerDocument)}let b,S="";const{implementation:E,createNodeIterator:k,createDocumentFragment:C,getElementsByTagName:T}=n,{importNode:j}=r;let D=xT();t.isSupported=typeof QL=="function"&&typeof x=="function"&&E&&E.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:P,ERB_EXPR:U,TMPLIT_EXPR:B,DATA_ATTR:L,ARIA_ATTR:$,IS_SCRIPT_OR_DATA:q,ATTR_WHITESPACE:A,CUSTOM_ELEMENT:F}=_T;let{IS_ALLOWED_URI:G}=_T,W=null;const le=He({},[...mT,...t0,...n0,...r0,...gT]);let ue=null;const Re=He({},[...yT,...s0,...vT,...sp]);let xe=Object.seal(XL(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),pe=null,se=null,Ce=!0,je=!0,Te=!1,$e=!0,Ae=!1,gt=!0,et=!1,Mt=!1,Dt=!1,Kt=!1,N=!1,O=!1,M=!0,X=!1;const H="user-content-";let V=!0,oe=!1,ee={},Ze=null;const lt=He({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ur=null;const ts=He({},["audio","video","img","source","image","track"]);let Cs=null;const Wo=He({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),no="http://www.w3.org/1998/Math/MathML",Ts="http://www.w3.org/2000/svg",dr="http://www.w3.org/1999/xhtml";let fr=dr,jr=!1,yu=null;const Ie=He({},[no,Ts,dr],e0);let rt=He({},["mi","mo","mn","ms","mtext"]),tt=He({},["annotation-xml"]);const Pr=He({},["title","style","font","a","script"]);let bn=null;const al=["application/xhtml+xml","text/html"],Iy="text/html";let on=null,ll=null;const aF=n.createElement("form"),XS=function(I){return I instanceof RegExp||I instanceof Function},jy=function(){let I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ll&&ll===I)){if((!I||typeof I!="object")&&(I={}),I=uo(I),bn=al.indexOf(I.PARSER_MEDIA_TYPE)===-1?Iy:I.PARSER_MEDIA_TYPE,on=bn==="application/xhtml+xml"?e0:Mp,W=is(I,"ALLOWED_TAGS")?He({},I.ALLOWED_TAGS,on):le,ue=is(I,"ALLOWED_ATTR")?He({},I.ALLOWED_ATTR,on):Re,yu=is(I,"ALLOWED_NAMESPACES")?He({},I.ALLOWED_NAMESPACES,e0):Ie,Cs=is(I,"ADD_URI_SAFE_ATTR")?He(uo(Wo),I.ADD_URI_SAFE_ATTR,on):Wo,ur=is(I,"ADD_DATA_URI_TAGS")?He(uo(ts),I.ADD_DATA_URI_TAGS,on):ts,Ze=is(I,"FORBID_CONTENTS")?He({},I.FORBID_CONTENTS,on):lt,pe=is(I,"FORBID_TAGS")?He({},I.FORBID_TAGS,on):uo({}),se=is(I,"FORBID_ATTR")?He({},I.FORBID_ATTR,on):uo({}),ee=is(I,"USE_PROFILES")?I.USE_PROFILES:!1,Ce=I.ALLOW_ARIA_ATTR!==!1,je=I.ALLOW_DATA_ATTR!==!1,Te=I.ALLOW_UNKNOWN_PROTOCOLS||!1,$e=I.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ae=I.SAFE_FOR_TEMPLATES||!1,gt=I.SAFE_FOR_XML!==!1,et=I.WHOLE_DOCUMENT||!1,Kt=I.RETURN_DOM||!1,N=I.RETURN_DOM_FRAGMENT||!1,O=I.RETURN_TRUSTED_TYPE||!1,Dt=I.FORCE_BODY||!1,M=I.SANITIZE_DOM!==!1,X=I.SANITIZE_NAMED_PROPS||!1,V=I.KEEP_CONTENT!==!1,oe=I.IN_PLACE||!1,G=I.ALLOWED_URI_REGEXP||ZL,fr=I.NAMESPACE||dr,rt=I.MATHML_TEXT_INTEGRATION_POINTS||rt,tt=I.HTML_INTEGRATION_POINTS||tt,xe=I.CUSTOM_ELEMENT_HANDLING||{},I.CUSTOM_ELEMENT_HANDLING&&XS(I.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(xe.tagNameCheck=I.CUSTOM_ELEMENT_HANDLING.tagNameCheck),I.CUSTOM_ELEMENT_HANDLING&&XS(I.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(xe.attributeNameCheck=I.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),I.CUSTOM_ELEMENT_HANDLING&&typeof I.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(xe.allowCustomizedBuiltInElements=I.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ae&&(je=!1),N&&(Kt=!0),ee&&(W=He({},gT),ue=[],ee.html===!0&&(He(W,mT),He(ue,yT)),ee.svg===!0&&(He(W,t0),He(ue,s0),He(ue,sp)),ee.svgFilters===!0&&(He(W,n0),He(ue,s0),He(ue,sp)),ee.mathMl===!0&&(He(W,r0),He(ue,vT),He(ue,sp))),I.ADD_TAGS&&(W===le&&(W=uo(W)),He(W,I.ADD_TAGS,on)),I.ADD_ATTR&&(ue===Re&&(ue=uo(ue)),He(ue,I.ADD_ATTR,on)),I.ADD_URI_SAFE_ATTR&&He(Cs,I.ADD_URI_SAFE_ATTR,on),I.FORBID_CONTENTS&&(Ze===lt&&(Ze=uo(Ze)),He(Ze,I.FORBID_CONTENTS,on)),V&&(W["#text"]=!0),et&&He(W,["html","head","body"]),W.table&&(He(W,["tbody"]),delete pe.tbody),I.TRUSTED_TYPES_POLICY){if(typeof I.TRUSTED_TYPES_POLICY.createHTML!="function")throw Lu('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof I.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Lu('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');b=I.TRUSTED_TYPES_POLICY,S=b.createHTML("")}else b===void 0&&(b=Xre(p,s)),b!==null&&typeof S=="string"&&(S=b.createHTML(""));Vn&&Vn(I),ll=I}},ZS=He({},[...t0,...n0,...Ure]),JS=He({},[...r0,...Bre]),lF=function(I){let Q=x(I);(!Q||!Q.tagName)&&(Q={namespaceURI:fr,tagName:"template"});const de=Mp(I.tagName),xt=Mp(Q.tagName);return yu[I.namespaceURI]?I.namespaceURI===Ts?Q.namespaceURI===dr?de==="svg":Q.namespaceURI===no?de==="svg"&&(xt==="annotation-xml"||rt[xt]):!!ZS[de]:I.namespaceURI===no?Q.namespaceURI===dr?de==="math":Q.namespaceURI===Ts?de==="math"&&tt[xt]:!!JS[de]:I.namespaceURI===dr?Q.namespaceURI===Ts&&!tt[xt]||Q.namespaceURI===no&&!rt[xt]?!1:!JS[de]&&(Pr[de]||!ZS[de]):!!(bn==="application/xhtml+xml"&&yu[I.namespaceURI]):!1},Ns=function(I){Mu(t.removed,{element:I});try{x(I).removeChild(I)}catch{w(I)}},cl=function(I,Q){try{Mu(t.removed,{attribute:Q.getAttributeNode(I),from:Q})}catch{Mu(t.removed,{attribute:null,from:Q})}if(Q.removeAttribute(I),I==="is")if(Kt||N)try{Ns(Q)}catch{}else try{Q.setAttribute(I,"")}catch{}},eE=function(I){let Q=null,de=null;if(Dt)I="<remove></remove>"+I;else{const Yt=pT(I,/^[\r\n\t ]+/);de=Yt&&Yt[0]}bn==="application/xhtml+xml"&&fr===dr&&(I='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+I+"</body></html>");const xt=b?b.createHTML(I):I;if(fr===dr)try{Q=new h().parseFromString(xt,bn)}catch{}if(!Q||!Q.documentElement){Q=E.createDocument(fr,"template",null);try{Q.documentElement.innerHTML=jr?S:xt}catch{}}const Sn=Q.body||Q.documentElement;return I&&de&&Sn.insertBefore(n.createTextNode(de),Sn.childNodes[0]||null),fr===dr?T.call(Q,et?"html":"body")[0]:et?Q.documentElement:Sn},tE=function(I){return k.call(I.ownerDocument||I,I,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},Py=function(I){return I instanceof f&&(typeof I.nodeName!="string"||typeof I.textContent!="string"||typeof I.removeChild!="function"||!(I.attributes instanceof d)||typeof I.removeAttribute!="function"||typeof I.setAttribute!="function"||typeof I.namespaceURI!="string"||typeof I.insertBefore!="function"||typeof I.hasChildNodes!="function")},nE=function(I){return typeof a=="function"&&I instanceof a};function ro(me,I,Q){rp(me,de=>{de.call(t,I,Q,ll)})}const rE=function(I){let Q=null;if(ro(D.beforeSanitizeElements,I,null),Py(I))return Ns(I),!0;const de=on(I.nodeName);if(ro(D.uponSanitizeElement,I,{tagName:de,allowedTags:W}),gt&&I.hasChildNodes()&&!nE(I.firstElementChild)&&Pn(/<[/\w!]/g,I.innerHTML)&&Pn(/<[/\w!]/g,I.textContent)||I.nodeType===$u.progressingInstruction||gt&&I.nodeType===$u.comment&&Pn(/<[/\w]/g,I.data))return Ns(I),!0;if(!W[de]||pe[de]){if(!pe[de]&&oE(de)&&(xe.tagNameCheck instanceof RegExp&&Pn(xe.tagNameCheck,de)||xe.tagNameCheck instanceof Function&&xe.tagNameCheck(de)))return!1;if(V&&!Ze[de]){const xt=x(I)||I.parentNode,Sn=v(I)||I.childNodes;if(Sn&&xt){const Yt=Sn.length;for(let Xn=Yt-1;Xn>=0;--Xn){const so=g(Sn[Xn],!0);so.__removalCount=(I.__removalCount||0)+1,xt.insertBefore(so,_(I))}}}return Ns(I),!0}return I instanceof l&&!lF(I)||(de==="noscript"||de==="noembed"||de==="noframes")&&Pn(/<\/no(script|embed|frames)/i,I.innerHTML)?(Ns(I),!0):(Ae&&I.nodeType===$u.text&&(Q=I.textContent,rp([P,U,B],xt=>{Q=Du(Q,xt," ")}),I.textContent!==Q&&(Mu(t.removed,{element:I.cloneNode()}),I.textContent=Q)),ro(D.afterSanitizeElements,I,null),!1)},sE=function(I,Q,de){if(M&&(Q==="id"||Q==="name")&&(de in n||de in aF))return!1;if(!(je&&!se[Q]&&Pn(L,Q))){if(!(Ce&&Pn($,Q))){if(!ue[Q]||se[Q]){if(!(oE(I)&&(xe.tagNameCheck instanceof RegExp&&Pn(xe.tagNameCheck,I)||xe.tagNameCheck instanceof Function&&xe.tagNameCheck(I))&&(xe.attributeNameCheck instanceof RegExp&&Pn(xe.attributeNameCheck,Q)||xe.attributeNameCheck instanceof Function&&xe.attributeNameCheck(Q))||Q==="is"&&xe.allowCustomizedBuiltInElements&&(xe.tagNameCheck instanceof RegExp&&Pn(xe.tagNameCheck,de)||xe.tagNameCheck instanceof Function&&xe.tagNameCheck(de))))return!1}else if(!Cs[Q]){if(!Pn(G,Du(de,A,""))){if(!((Q==="src"||Q==="xlink:href"||Q==="href")&&I!=="script"&&Dre(de,"data:")===0&&ur[I])){if(!(Te&&!Pn(q,Du(de,A,"")))){if(de)return!1}}}}}}return!0},oE=function(I){return I!=="annotation-xml"&&pT(I,F)},iE=function(I){ro(D.beforeSanitizeAttributes,I,null);const{attributes:Q}=I;if(!Q||Py(I))return;const de={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ue,forceKeepAttr:void 0};let xt=Q.length;for(;xt--;){const Sn=Q[xt],{name:Yt,namespaceURI:Xn,value:so}=Sn,vu=on(Yt),Oy=so;let En=Yt==="value"?Oy:Lre(Oy);if(de.attrName=vu,de.attrValue=En,de.keepAttr=!0,de.forceKeepAttr=void 0,ro(D.uponSanitizeAttribute,I,de),En=de.attrValue,X&&(vu==="id"||vu==="name")&&(cl(Yt,I),En=H+En),gt&&Pn(/((--!?|])>)|<\/(style|title)/i,En)){cl(Yt,I);continue}if(de.forceKeepAttr)continue;if(!de.keepAttr){cl(Yt,I);continue}if(!$e&&Pn(/\/>/i,En)){cl(Yt,I);continue}Ae&&rp([P,U,B],lE=>{En=Du(En,lE," ")});const aE=on(I.nodeName);if(!sE(aE,vu,En)){cl(Yt,I);continue}if(b&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!Xn)switch(p.getAttributeType(aE,vu)){case"TrustedHTML":{En=b.createHTML(En);break}case"TrustedScriptURL":{En=b.createScriptURL(En);break}}if(En!==Oy)try{Xn?I.setAttributeNS(Xn,Yt,En):I.setAttribute(Yt,En),Py(I)?Ns(I):hT(t.removed)}catch{cl(Yt,I)}}ro(D.afterSanitizeAttributes,I,null)},cF=function me(I){let Q=null;const de=tE(I);for(ro(D.beforeSanitizeShadowDOM,I,null);Q=de.nextNode();)ro(D.uponSanitizeShadowNode,Q,null),rE(Q),iE(Q),Q.content instanceof o&&me(Q.content);ro(D.afterSanitizeShadowDOM,I,null)};return t.sanitize=function(me){let I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Q=null,de=null,xt=null,Sn=null;if(jr=!me,jr&&(me="<!-->"),typeof me!="string"&&!nE(me))if(typeof me.toString=="function"){if(me=me.toString(),typeof me!="string")throw Lu("dirty is not a string, aborting")}else throw Lu("toString is not a function");if(!t.isSupported)return me;if(Mt||jy(I),t.removed=[],typeof me=="string"&&(oe=!1),oe){if(me.nodeName){const so=on(me.nodeName);if(!W[so]||pe[so])throw Lu("root node is forbidden and cannot be sanitized in-place")}}else if(me instanceof a)Q=eE("<!---->"),de=Q.ownerDocument.importNode(me,!0),de.nodeType===$u.element&&de.nodeName==="BODY"||de.nodeName==="HTML"?Q=de:Q.appendChild(de);else{if(!Kt&&!Ae&&!et&&me.indexOf("<")===-1)return b&&O?b.createHTML(me):me;if(Q=eE(me),!Q)return Kt?null:O?S:""}Q&&Dt&&Ns(Q.firstChild);const Yt=tE(oe?me:Q);for(;xt=Yt.nextNode();)rE(xt),iE(xt),xt.content instanceof o&&cF(xt.content);if(oe)return me;if(Kt){if(N)for(Sn=C.call(Q.ownerDocument);Q.firstChild;)Sn.appendChild(Q.firstChild);else Sn=Q;return(ue.shadowroot||ue.shadowrootmode)&&(Sn=j.call(r,Sn,!0)),Sn}let Xn=et?Q.outerHTML:Q.innerHTML;return et&&W["!doctype"]&&Q.ownerDocument&&Q.ownerDocument.doctype&&Q.ownerDocument.doctype.name&&Pn(JL,Q.ownerDocument.doctype.name)&&(Xn="<!DOCTYPE "+Q.ownerDocument.doctype.name+`>
`+Xn),Ae&&rp([P,U,B],so=>{Xn=Du(Xn,so," ")}),b&&O?b.createHTML(Xn):Xn},t.setConfig=function(){let me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};jy(me),Mt=!0},t.clearConfig=function(){ll=null,Mt=!1},t.isValidAttribute=function(me,I,Q){ll||jy({});const de=on(me),xt=on(I);return sE(de,xt,Q)},t.addHook=function(me,I){typeof I=="function"&&Mu(D[me],I)},t.removeHook=function(me,I){if(I!==void 0){const Q=Ore(D[me],I);return Q===-1?void 0:Mre(D[me],Q,1)[0]}return hT(D[me])},t.removeHooks=function(me){D[me]=[]},t.removeAllHooks=function(){D=xT()},t}var Zre=e2();const o0=e=>e?Zre.sanitize(e,{USE_PROFILES:{html:!1}}):"",Jre=({comments:e,refetchComments:t})=>c.jsx("div",{className:"rounded-lg border border-gray-700 bg-white/5",children:c.jsxs(Sy,{children:[c.jsx(Ey,{children:c.jsxs(Vs,{className:"border-gray-700 hover:bg-transparent",children:[c.jsx(St,{className:"text-white",children:"User"}),c.jsx(St,{className:"text-white",children:"Comment"}),c.jsx(St,{className:"text-white",children:"Category"}),c.jsx(St,{className:"text-white",children:"Posted"}),c.jsx(St,{className:"text-white",children:"Status"}),c.jsx(St,{className:"text-right text-white",children:"Actions"})]})}),c.jsxs(ky,{children:[e.length===0&&c.jsx(Vs,{children:c.jsx(ht,{colSpan:6,className:"text-center text-gray-400 py-8",children:"No comments to display."})}),e.map(n=>{var r;return c.jsxs(Vs,{className:"border-gray-700 hover:bg-white/5",children:[c.jsx(ht,{children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs(Xf,{children:[c.jsx(Zf,{src:n.user_avatar_url||void 0}),c.jsx(Jf,{children:((r=n.user_full_name)==null?void 0:r.charAt(0))||"A"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:o0(n.user_full_name)||"Anonymous"}),c.jsx("p",{className:"text-xs text-gray-400 break-all",children:n.user_id})]})]})}),c.jsx(ht,{children:c.jsx("p",{className:"max-w-xs text-gray-300",style:{whiteSpace:"pre-wrap",wordBreak:"break-word"},children:o0(n.comment_text)})}),c.jsx(ht,{children:c.jsx(Tt,{to:`/category/${n.category_id}`,className:"text-blue-400 hover:underline",children:o0(n.category_name)||"Unknown Category"})}),c.jsx(ht,{className:"text-gray-400",children:XM(new Date(n.created_at),{addSuffix:!0})}),c.jsx(ht,{children:c.jsx(Pt,{variant:n.user_status==="banned"?"destructive":"default",className:n.user_status==="banned"?"":"bg-green-600/80",children:n.user_status})}),c.jsx(ht,{className:"text-right",children:c.jsx(Are,{comment:n,refetchComments:t})})]},n.comment_id)})]})]})}),ese=()=>{const{data:e,isLoading:t,error:n,refetch:r}=Qs({queryKey:["allCommentsAdmin"],queryFn:async()=>{const{data:s,error:o}=await Ge.rpc("get_all_comments_for_admin");if(o)throw ye.error("Failed to fetch comments. You might not have moderator or admin rights."),console.error("Error fetching comments for admin:",o),new Error("Failed to fetch comments.");return s}});return t?c.jsxs("div",{className:"container mx-auto px-4 py-8",children:[c.jsx("h1",{className:"text-3xl font-bold mb-6 text-white",children:"Comment Moderation"}),c.jsx(jm,{className:"h-96 w-full bg-gray-700"})]}):n?c.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[c.jsx("h1",{className:"text-3xl font-bold mb-6 text-white",children:"Comment Moderation"}),c.jsx("p",{className:"text-red-400",children:"Error loading comments. Please ensure you are a moderator or administrator and try again."})]}):c.jsxs(c.Fragment,{children:[c.jsxs(Gne,{children:[c.jsx("title",{children:"Comment Moderation"}),c.jsx("meta",{name:"description",content:"Manage and moderate user comments."})]}),c.jsxs("div",{className:"container mx-auto px-4 py-8 text-white",children:[c.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Comment Moderation"}),c.jsx(Jre,{comments:e||[],refetchComments:r})]})]})},Et=m.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:ne("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Et.displayName="Card";const Xt=m.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:ne("flex flex-col space-y-1.5 p-6",e),...t}));Xt.displayName="CardHeader";const Zt=m.forwardRef(({className:e,...t},n)=>c.jsx("h3",{ref:n,className:ne("text-2xl font-semibold leading-none tracking-tight",e),...t}));Zt.displayName="CardTitle";const _s=m.forwardRef(({className:e,...t},n)=>c.jsx("p",{ref:n,className:ne("text-sm text-muted-foreground",e),...t}));_s.displayName="CardDescription";const kt=m.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:ne("p-6 pt-0",e),...t}));kt.displayName="CardContent";const tse=m.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:ne("flex items-center p-6 pt-0",e),...t}));tse.displayName="CardFooter";var FS="Tabs",[nse,fae]=Jr(FS,[dy]),t2=dy(),[rse,$S]=nse(FS),n2=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:a,activationMode:l="automatic",...u}=e,d=Hf(a),[f,h]=Gs({prop:r,onChange:s,defaultProp:o});return c.jsx(rse,{scope:n,baseId:qr(),value:f,onValueChange:h,orientation:i,dir:d,activationMode:l,children:c.jsx(he.div,{dir:d,"data-orientation":i,...u,ref:t})})});n2.displayName=FS;var r2="TabsList",s2=m.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,o=$S(r2,n),i=t2(n);return c.jsx(JP,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:r,children:c.jsx(he.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});s2.displayName=r2;var o2="TabsTrigger",i2=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=e,i=$S(o2,n),a=t2(n),l=c2(i.baseId,r),u=u2(i.baseId,r),d=r===i.value;return c.jsx(eO,{asChild:!0,...a,focusable:!s,active:d,children:c.jsx(he.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...o,ref:t,onMouseDown:te(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?i.onValueChange(r):f.preventDefault()}),onKeyDown:te(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(r)}),onFocus:te(e.onFocus,()=>{const f=i.activationMode!=="manual";!d&&!s&&f&&i.onValueChange(r)})})})});i2.displayName=o2;var a2="TabsContent",l2=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...i}=e,a=$S(a2,n),l=c2(a.baseId,r),u=u2(a.baseId,r),d=r===a.value,f=m.useRef(d);return m.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),c.jsx(wn,{present:s||d,children:({present:h})=>c.jsx(he.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&o})})});l2.displayName=a2;function c2(e,t){return`${e}-trigger-${t}`}function u2(e,t){return`${e}-content-${t}`}var sse=n2,d2=s2,f2=i2,h2=l2;const ose=sse,p2=m.forwardRef(({className:e,...t},n)=>c.jsx(d2,{ref:n,className:ne("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));p2.displayName=d2.displayName;const Dp=m.forwardRef(({className:e,...t},n)=>c.jsx(f2,{ref:n,className:ne("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Dp.displayName=f2.displayName;const Lp=m.forwardRef(({className:e,...t},n)=>c.jsx(h2,{ref:n,className:ne("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Lp.displayName=h2.displayName;var oh=e=>e.type==="checkbox",va=e=>e instanceof Date,Un=e=>e==null;const m2=e=>typeof e=="object";var zt=e=>!Un(e)&&!Array.isArray(e)&&m2(e)&&!va(e),g2=e=>zt(e)&&e.target?oh(e.target)?e.target.checked:e.target.value:e,ise=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,y2=(e,t)=>e.has(ise(t)),ase=e=>{const t=e.constructor&&e.constructor.prototype;return zt(t)&&t.hasOwnProperty("isPrototypeOf")},US=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Qt(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(US&&(e instanceof Blob||e instanceof FileList))&&(n||zt(e)))if(t=n?[]:{},!n&&!ase(e))t=e;else for(const r in e)e.hasOwnProperty(r)&&(t[r]=Qt(e[r]));else return e;return t}var ih=e=>Array.isArray(e)?e.filter(Boolean):[],pt=e=>e===void 0,Z=(e,t,n)=>{if(!t||!zt(e))return n;const r=ih(t.split(/[,[\].]+?/)).reduce((s,o)=>Un(s)?s:s[o],e);return pt(r)||r===e?pt(e[t])?n:e[t]:r},Fr=e=>typeof e=="boolean",BS=e=>/^\w*$/.test(e),v2=e=>ih(e.replace(/["|']|\]/g,"").split(/\.|\[/)),nt=(e,t,n)=>{let r=-1;const s=BS(t)?[t]:v2(t),o=s.length,i=o-1;for(;++r<o;){const a=s[r];let l=n;if(r!==i){const u=e[a];l=zt(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}if(a==="__proto__")return;e[a]=l,e=e[a]}return e};const Km={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Br={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},io={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},_2=z.createContext(null),ah=()=>z.useContext(_2),lse=e=>{const{children:t,...n}=e;return z.createElement(_2.Provider,{value:n},t)};var x2=(e,t,n,r=!0)=>{const s={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(s,o,{get:()=>{const i=o;return t._proxyFormState[i]!==Br.all&&(t._proxyFormState[i]=!r||Br.all),n&&(n[i]=!0),e[i]}});return s},Fn=e=>zt(e)&&!Object.keys(e).length,w2=(e,t,n,r)=>{n(e);const{name:s,...o}=e;return Fn(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(i=>t[i]===(!r||Br.all))},ir=e=>Array.isArray(e)?e:[e],b2=(e,t,n)=>!e||!t||e===t||ir(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r)));function Cy(e){const t=z.useRef(e);t.current=e,z.useEffect(()=>{const n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}},[e.disabled])}function cse(e){const t=ah(),{control:n=t.control,disabled:r,name:s,exact:o}=e||{},[i,a]=z.useState(n._formState),l=z.useRef(!0),u=z.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=z.useRef(s);return d.current=s,Cy({disabled:r,next:f=>l.current&&b2(d.current,f.name,o)&&w2(f,u.current,n._updateFormState)&&a({...n._formState,...f}),subject:n._subjects.state}),z.useEffect(()=>(l.current=!0,u.current.isValid&&n._updateValid(!0),()=>{l.current=!1}),[n]),x2(i,n,u.current,!1)}var Bs=e=>typeof e=="string",S2=(e,t,n,r,s)=>Bs(e)?(r&&t.watch.add(e),Z(n,e,s)):Array.isArray(e)?e.map(o=>(r&&t.watch.add(o),Z(n,o))):(r&&(t.watchAll=!0),n);function use(e){const t=ah(),{control:n=t.control,name:r,defaultValue:s,disabled:o,exact:i}=e||{},a=z.useRef(r);a.current=r,Cy({disabled:o,subject:n._subjects.values,next:d=>{b2(a.current,d.name,i)&&u(Qt(S2(a.current,n._names,d.values||n._formValues,!1,s)))}});const[l,u]=z.useState(n._getWatch(r,s));return z.useEffect(()=>n._removeUnmounted()),l}function dse(e){const t=ah(),{name:n,disabled:r,control:s=t.control,shouldUnregister:o}=e,i=y2(s._names.array,n),a=use({control:s,name:n,defaultValue:Z(s._formValues,n,Z(s._defaultValues,n,e.defaultValue)),exact:!0}),l=cse({control:s,name:n,exact:!0}),u=z.useRef(s.register(n,{...e.rules,value:a,...Fr(e.disabled)?{disabled:e.disabled}:{}}));return z.useEffect(()=>{const d=s._options.shouldUnregister||o,f=(h,p)=>{const y=Z(s._fields,h);y&&y._f&&(y._f.mount=p)};if(f(n,!0),d){const h=Qt(Z(s._options.defaultValues,n));nt(s._defaultValues,n,h),pt(Z(s._formValues,n))&&nt(s._formValues,n,h)}return()=>{(i?d&&!s._state.action:d)?s.unregister(n):f(n,!1)}},[n,s,i,o]),z.useEffect(()=>{Z(s._fields,n)&&s._updateDisabledField({disabled:r,fields:s._fields,name:n,value:Z(s._fields,n)._f.value})},[r,n,s]),{field:{name:n,value:a,...Fr(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:z.useCallback(d=>u.current.onChange({target:{value:g2(d),name:n},type:Km.CHANGE}),[n]),onBlur:z.useCallback(()=>u.current.onBlur({target:{value:Z(s._formValues,n),name:n},type:Km.BLUR}),[n,s]),ref:z.useCallback(d=>{const f=Z(s._fields,n);f&&d&&(f._f.ref={focus:()=>d.focus(),select:()=>d.select(),setCustomValidity:h=>d.setCustomValidity(h),reportValidity:()=>d.reportValidity()})},[s._fields,n])},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Z(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!Z(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Z(l.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Z(l.validatingFields,n)},error:{enumerable:!0,get:()=>Z(l.errors,n)}})}}const fse=e=>e.render(dse(e));var E2=(e,t,n,r,s)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:s||!0}}:{},Qo=()=>{const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const n=(Math.random()*16+e)%16|0;return(t=="x"?n:n&3|8).toString(16)})},i0=(e,t,n={})=>n.shouldFocus||pt(n.shouldFocus)?n.focusName||`${e}.${pt(n.focusIndex)?t:n.focusIndex}.`:"",Sd=e=>({isOnSubmit:!e||e===Br.onSubmit,isOnBlur:e===Br.onBlur,isOnChange:e===Br.onChange,isOnAll:e===Br.all,isOnTouch:e===Br.onTouched}),Bx=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const sc=(e,t,n,r)=>{for(const s of n||Object.keys(e)){const o=Z(e,s);if(o){const{_f:i,...a}=o;if(i){if(i.refs&&i.refs[0]&&t(i.refs[0],s)&&!r)return!0;if(i.ref&&t(i.ref,i.name)&&!r)return!0;if(sc(a,t))break}else if(zt(a)&&sc(a,t))break}}};var k2=(e,t,n)=>{const r=ir(Z(e,n));return nt(r,"root",t[n]),nt(e,n,r),e},zS=e=>e.type==="file",xo=e=>typeof e=="function",Ym=e=>{if(!US)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Fp=e=>Bs(e),HS=e=>e.type==="radio",Qm=e=>e instanceof RegExp;const wT={value:!1,isValid:!1},bT={value:!0,isValid:!0};var C2=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!pt(e[0].attributes.value)?pt(e[0].value)||e[0].value===""?bT:{value:e[0].value,isValid:!0}:bT:wT}return wT};const ST={isValid:!1,value:null};var T2=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,ST):ST;function ET(e,t,n="validate"){if(Fp(e)||Array.isArray(e)&&e.every(Fp)||Fr(e)&&!e)return{type:n,message:Fp(e)?e:"",ref:t}}var xl=e=>zt(e)&&!Qm(e)?e:{value:e,message:""},zx=async(e,t,n,r,s)=>{const{ref:o,refs:i,required:a,maxLength:l,minLength:u,min:d,max:f,pattern:h,validate:p,name:y,valueAsNumber:g,mount:w,disabled:_}=e._f,v=Z(t,y);if(!w||_)return{};const x=i?i[0]:o,b=P=>{r&&x.reportValidity&&(x.setCustomValidity(Fr(P)?"":P||""),x.reportValidity())},S={},E=HS(o),k=oh(o),C=E||k,T=(g||zS(o))&&pt(o.value)&&pt(v)||Ym(o)&&o.value===""||v===""||Array.isArray(v)&&!v.length,j=E2.bind(null,y,n,S),D=(P,U,B,L=io.maxLength,$=io.minLength)=>{const q=P?U:B;S[y]={type:P?L:$,message:q,ref:o,...j(P?L:$,q)}};if(s?!Array.isArray(v)||!v.length:a&&(!C&&(T||Un(v))||Fr(v)&&!v||k&&!C2(i).isValid||E&&!T2(i).isValid)){const{value:P,message:U}=Fp(a)?{value:!!a,message:a}:xl(a);if(P&&(S[y]={type:io.required,message:U,ref:x,...j(io.required,U)},!n))return b(U),S}if(!T&&(!Un(d)||!Un(f))){let P,U;const B=xl(f),L=xl(d);if(!Un(v)&&!isNaN(v)){const $=o.valueAsNumber||v&&+v;Un(B.value)||(P=$>B.value),Un(L.value)||(U=$<L.value)}else{const $=o.valueAsDate||new Date(v),q=G=>new Date(new Date().toDateString()+" "+G),A=o.type=="time",F=o.type=="week";Bs(B.value)&&v&&(P=A?q(v)>q(B.value):F?v>B.value:$>new Date(B.value)),Bs(L.value)&&v&&(U=A?q(v)<q(L.value):F?v<L.value:$<new Date(L.value))}if((P||U)&&(D(!!P,B.message,L.message,io.max,io.min),!n))return b(S[y].message),S}if((l||u)&&!T&&(Bs(v)||s&&Array.isArray(v))){const P=xl(l),U=xl(u),B=!Un(P.value)&&v.length>+P.value,L=!Un(U.value)&&v.length<+U.value;if((B||L)&&(D(B,P.message,U.message),!n))return b(S[y].message),S}if(h&&!T&&Bs(v)){const{value:P,message:U}=xl(h);if(Qm(P)&&!v.match(P)&&(S[y]={type:io.pattern,message:U,ref:o,...j(io.pattern,U)},!n))return b(U),S}if(p){if(xo(p)){const P=await p(v,t),U=ET(P,x);if(U&&(S[y]={...U,...j(io.validate,U.message)},!n))return b(U.message),S}else if(zt(p)){let P={};for(const U in p){if(!Fn(P)&&!n)break;const B=ET(await p[U](v,t),x,U);B&&(P={...B,...j(U,B.message)},b(B.message),n&&(S[y]=P))}if(!Fn(P)&&(S[y]={ref:x,...P},!n))return S}}return b(!0),S},a0=(e,t)=>[...e,...ir(t)],l0=e=>Array.isArray(e)?e.map(()=>{}):void 0;function c0(e,t,n){return[...e.slice(0,t),...ir(n),...e.slice(t)]}var u0=(e,t,n)=>Array.isArray(e)?(pt(e[n])&&(e[n]=void 0),e.splice(n,0,e.splice(t,1)[0]),e):[],d0=(e,t)=>[...ir(t),...ir(e)];function hse(e,t){let n=0;const r=[...e];for(const s of t)r.splice(s-n,1),n++;return ih(r).length?r:[]}var f0=(e,t)=>pt(t)?[]:hse(e,ir(t).sort((n,r)=>n-r)),h0=(e,t,n)=>{[e[t],e[n]]=[e[n],e[t]]};function pse(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=pt(e)?r++:e[t[r++]];return e}function mse(e){for(const t in e)if(e.hasOwnProperty(t)&&!pt(e[t]))return!1;return!0}function Vt(e,t){const n=Array.isArray(t)?t:BS(t)?[t]:v2(t),r=n.length===1?e:pse(e,n),s=n.length-1,o=n[s];return r&&delete r[o],s!==0&&(zt(r)&&Fn(r)||Array.isArray(r)&&mse(r))&&Vt(e,n.slice(0,-1)),e}var kT=(e,t,n)=>(e[t]=n,e);function hae(e){const t=ah(),{control:n=t.control,name:r,keyName:s="id",shouldUnregister:o}=e,[i,a]=z.useState(n._getFieldArray(r)),l=z.useRef(n._getFieldArray(r).map(Qo)),u=z.useRef(i),d=z.useRef(r),f=z.useRef(!1);d.current=r,u.current=i,n._names.array.add(r),e.rules&&n.register(r,e.rules),Cy({next:({values:S,name:E})=>{if(E===d.current||!E){const k=Z(S,d.current);Array.isArray(k)&&(a(k),l.current=k.map(Qo))}},subject:n._subjects.array});const h=z.useCallback(S=>{f.current=!0,n._updateFieldArray(r,S)},[n,r]),p=(S,E)=>{const k=ir(Qt(S)),C=a0(n._getFieldArray(r),k);n._names.focus=i0(r,C.length-1,E),l.current=a0(l.current,k.map(Qo)),h(C),a(C),n._updateFieldArray(r,C,a0,{argA:l0(S)})},y=(S,E)=>{const k=ir(Qt(S)),C=d0(n._getFieldArray(r),k);n._names.focus=i0(r,0,E),l.current=d0(l.current,k.map(Qo)),h(C),a(C),n._updateFieldArray(r,C,d0,{argA:l0(S)})},g=S=>{const E=f0(n._getFieldArray(r),S);l.current=f0(l.current,S),h(E),a(E),n._updateFieldArray(r,E,f0,{argA:S})},w=(S,E,k)=>{const C=ir(Qt(E)),T=c0(n._getFieldArray(r),S,C);n._names.focus=i0(r,S,k),l.current=c0(l.current,S,C.map(Qo)),h(T),a(T),n._updateFieldArray(r,T,c0,{argA:S,argB:l0(E)})},_=(S,E)=>{const k=n._getFieldArray(r);h0(k,S,E),h0(l.current,S,E),h(k),a(k),n._updateFieldArray(r,k,h0,{argA:S,argB:E},!1)},v=(S,E)=>{const k=n._getFieldArray(r);u0(k,S,E),u0(l.current,S,E),h(k),a(k),n._updateFieldArray(r,k,u0,{argA:S,argB:E},!1)},x=(S,E)=>{const k=Qt(E),C=kT(n._getFieldArray(r),S,k);l.current=[...C].map((T,j)=>!T||j===S?Qo():l.current[j]),h(C),a([...C]),n._updateFieldArray(r,C,kT,{argA:S,argB:k},!0,!1)},b=S=>{const E=ir(Qt(S));l.current=E.map(Qo),h([...E]),a([...E]),n._updateFieldArray(r,[...E],k=>k,{},!0,!1)};return z.useEffect(()=>{if(n._state.action=!1,Bx(r,n._names)&&n._subjects.state.next({...n._formState}),f.current&&(!Sd(n._options.mode).isOnSubmit||n._formState.isSubmitted))if(n._options.resolver)n._executeSchema([r]).then(S=>{const E=Z(S.errors,r),k=Z(n._formState.errors,r);(k?!E&&k.type||E&&(k.type!==E.type||k.message!==E.message):E&&E.type)&&(E?nt(n._formState.errors,r,E):Vt(n._formState.errors,r),n._subjects.state.next({errors:n._formState.errors}))});else{const S=Z(n._fields,r);S&&S._f&&!(Sd(n._options.reValidateMode).isOnSubmit&&Sd(n._options.mode).isOnSubmit)&&zx(S,n._formValues,n._options.criteriaMode===Br.all,n._options.shouldUseNativeValidation,!0).then(E=>!Fn(E)&&n._subjects.state.next({errors:k2(n._formState.errors,E,r)}))}n._subjects.values.next({name:r,values:{...n._formValues}}),n._names.focus&&sc(n._fields,(S,E)=>{if(n._names.focus&&E.startsWith(n._names.focus)&&S.focus)return S.focus(),1}),n._names.focus="",n._updateValid(),f.current=!1},[i,r,n]),z.useEffect(()=>(!Z(n._formValues,r)&&n._updateFieldArray(r),()=>{(n._options.shouldUnregister||o)&&n.unregister(r)}),[r,n,s,o]),{swap:z.useCallback(_,[h,r,n]),move:z.useCallback(v,[h,r,n]),prepend:z.useCallback(y,[h,r,n]),append:z.useCallback(p,[h,r,n]),remove:z.useCallback(g,[h,r,n]),insert:z.useCallback(w,[h,r,n]),update:z.useCallback(x,[h,r,n]),replace:z.useCallback(b,[h,r,n]),fields:z.useMemo(()=>i.map((S,E)=>({...S,[s]:l.current[E]||Qo()})),[i,s])}}var p0=()=>{let e=[];return{get observers(){return e},next:s=>{for(const o of e)o.next&&o.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(o=>o!==s)}}),unsubscribe:()=>{e=[]}}},Hx=e=>Un(e)||!m2(e);function li(e,t){if(Hx(e)||Hx(t))return e===t;if(va(e)&&va(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const s of n){const o=e[s];if(!r.includes(s))return!1;if(s!=="ref"){const i=t[s];if(va(o)&&va(i)||zt(o)&&zt(i)||Array.isArray(o)&&Array.isArray(i)?!li(o,i):o!==i)return!1}}return!0}var N2=e=>e.type==="select-multiple",gse=e=>HS(e)||oh(e),m0=e=>Ym(e)&&e.isConnected,R2=e=>{for(const t in e)if(xo(e[t]))return!0;return!1};function Xm(e,t={}){const n=Array.isArray(e);if(zt(e)||n)for(const r in e)Array.isArray(e[r])||zt(e[r])&&!R2(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Xm(e[r],t[r])):Un(e[r])||(t[r]=!0);return t}function A2(e,t,n){const r=Array.isArray(e);if(zt(e)||r)for(const s in e)Array.isArray(e[s])||zt(e[s])&&!R2(e[s])?pt(t)||Hx(n[s])?n[s]=Array.isArray(e[s])?Xm(e[s],[]):{...Xm(e[s])}:A2(e[s],Un(t)?{}:t[s],n[s]):n[s]=!li(e[s],t[s]);return n}var Uu=(e,t)=>A2(e,t,Xm(t)),I2=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>pt(e)?e:t?e===""?NaN:e&&+e:n&&Bs(e)?new Date(e):r?r(e):e;function g0(e){const t=e.ref;if(!(e.refs?e.refs.every(n=>n.disabled):t.disabled))return zS(t)?t.files:HS(t)?T2(e.refs).value:N2(t)?[...t.selectedOptions].map(({value:n})=>n):oh(t)?C2(e.refs).value:I2(pt(t.value)?e.ref.value:t.value,e)}var yse=(e,t,n,r)=>{const s={};for(const o of e){const i=Z(t,o);i&&nt(s,o,i._f)}return{criteriaMode:n,names:[...e],fields:s,shouldUseNativeValidation:r}},Bu=e=>pt(e)?e:Qm(e)?e.source:zt(e)?Qm(e.value)?e.value.source:e.value:e;const CT="AsyncFunction";var vse=e=>(!e||!e.validate)&&!!(xo(e.validate)&&e.validate.constructor.name===CT||zt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===CT)),_se=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function TT(e,t,n){const r=Z(e,n);if(r||BS(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const o=s.join("."),i=Z(t,o),a=Z(e,o);if(i&&!Array.isArray(i)&&n!==o)return{name:n};if(a&&a.type)return{name:o,error:a};s.pop()}return{name:n}}var xse=(e,t,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(t||e):(n?r.isOnBlur:s.isOnBlur)?!e:(n?r.isOnChange:s.isOnChange)?e:!0,wse=(e,t)=>!ih(Z(e,t)).length&&Vt(e,t);const bse={mode:Br.onSubmit,reValidateMode:Br.onChange,shouldFocusError:!0};function Sse(e={}){let t={...bse,...e},n={submitCount:0,isDirty:!1,isLoading:xo(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},s=zt(t.defaultValues)||zt(t.values)?Qt(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:Qt(s),i={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:p0(),array:p0(),state:p0()},h=Sd(t.mode),p=Sd(t.reValidateMode),y=t.criteriaMode===Br.all,g=N=>O=>{clearTimeout(u),u=setTimeout(N,O)},w=async N=>{if(!e.disabled&&(d.isValid||N)){const O=t.resolver?Fn((await C()).errors):await j(r,!0);O!==n.isValid&&f.state.next({isValid:O})}},_=(N,O)=>{!e.disabled&&(d.isValidating||d.validatingFields)&&((N||Array.from(a.mount)).forEach(M=>{M&&(O?nt(n.validatingFields,M,O):Vt(n.validatingFields,M))}),f.state.next({validatingFields:n.validatingFields,isValidating:!Fn(n.validatingFields)}))},v=(N,O=[],M,X,H=!0,V=!0)=>{if(X&&M&&!e.disabled){if(i.action=!0,V&&Array.isArray(Z(r,N))){const oe=M(Z(r,N),X.argA,X.argB);H&&nt(r,N,oe)}if(V&&Array.isArray(Z(n.errors,N))){const oe=M(Z(n.errors,N),X.argA,X.argB);H&&nt(n.errors,N,oe),wse(n.errors,N)}if(d.touchedFields&&V&&Array.isArray(Z(n.touchedFields,N))){const oe=M(Z(n.touchedFields,N),X.argA,X.argB);H&&nt(n.touchedFields,N,oe)}d.dirtyFields&&(n.dirtyFields=Uu(s,o)),f.state.next({name:N,isDirty:P(N,O),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else nt(o,N,O)},x=(N,O)=>{nt(n.errors,N,O),f.state.next({errors:n.errors})},b=N=>{n.errors=N,f.state.next({errors:n.errors,isValid:!1})},S=(N,O,M,X)=>{const H=Z(r,N);if(H){const V=Z(o,N,pt(M)?Z(s,N):M);pt(V)||X&&X.defaultChecked||O?nt(o,N,O?V:g0(H._f)):L(N,V),i.mount&&w()}},E=(N,O,M,X,H)=>{let V=!1,oe=!1;const ee={name:N};if(!e.disabled){const Ze=!!(Z(r,N)&&Z(r,N)._f&&Z(r,N)._f.disabled);if(!M||X){d.isDirty&&(oe=n.isDirty,n.isDirty=ee.isDirty=P(),V=oe!==ee.isDirty);const lt=Ze||li(Z(s,N),O);oe=!!(!Ze&&Z(n.dirtyFields,N)),lt||Ze?Vt(n.dirtyFields,N):nt(n.dirtyFields,N,!0),ee.dirtyFields=n.dirtyFields,V=V||d.dirtyFields&&oe!==!lt}if(M){const lt=Z(n.touchedFields,N);lt||(nt(n.touchedFields,N,M),ee.touchedFields=n.touchedFields,V=V||d.touchedFields&&lt!==M)}V&&H&&f.state.next(ee)}return V?ee:{}},k=(N,O,M,X)=>{const H=Z(n.errors,N),V=d.isValid&&Fr(O)&&n.isValid!==O;if(e.delayError&&M?(l=g(()=>x(N,M)),l(e.delayError)):(clearTimeout(u),l=null,M?nt(n.errors,N,M):Vt(n.errors,N)),(M?!li(H,M):H)||!Fn(X)||V){const oe={...X,...V&&Fr(O)?{isValid:O}:{},errors:n.errors,name:N};n={...n,...oe},f.state.next(oe)}},C=async N=>{_(N,!0);const O=await t.resolver(o,t.context,yse(N||a.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return _(N),O},T=async N=>{const{errors:O}=await C(N);if(N)for(const M of N){const X=Z(O,M);X?nt(n.errors,M,X):Vt(n.errors,M)}else n.errors=O;return O},j=async(N,O,M={valid:!0})=>{for(const X in N){const H=N[X];if(H){const{_f:V,...oe}=H;if(V){const ee=a.array.has(V.name),Ze=H._f&&vse(H._f);Ze&&d.validatingFields&&_([X],!0);const lt=await zx(H,o,y,t.shouldUseNativeValidation&&!O,ee);if(Ze&&d.validatingFields&&_([X]),lt[V.name]&&(M.valid=!1,O))break;!O&&(Z(lt,V.name)?ee?k2(n.errors,lt,V.name):nt(n.errors,V.name,lt[V.name]):Vt(n.errors,V.name))}!Fn(oe)&&await j(oe,O,M)}}return M.valid},D=()=>{for(const N of a.unMount){const O=Z(r,N);O&&(O._f.refs?O._f.refs.every(M=>!m0(M)):!m0(O._f.ref))&&pe(N)}a.unMount=new Set},P=(N,O)=>!e.disabled&&(N&&O&&nt(o,N,O),!li(W(),s)),U=(N,O,M)=>S2(N,a,{...i.mount?o:pt(O)?s:Bs(N)?{[N]:O}:O},M,O),B=N=>ih(Z(i.mount?o:s,N,e.shouldUnregister?Z(s,N,[]):[])),L=(N,O,M={})=>{const X=Z(r,N);let H=O;if(X){const V=X._f;V&&(!V.disabled&&nt(o,N,I2(O,V)),H=Ym(V.ref)&&Un(O)?"":O,N2(V.ref)?[...V.ref.options].forEach(oe=>oe.selected=H.includes(oe.value)):V.refs?oh(V.ref)?V.refs.length>1?V.refs.forEach(oe=>(!oe.defaultChecked||!oe.disabled)&&(oe.checked=Array.isArray(H)?!!H.find(ee=>ee===oe.value):H===oe.value)):V.refs[0]&&(V.refs[0].checked=!!H):V.refs.forEach(oe=>oe.checked=oe.value===H):zS(V.ref)?V.ref.value="":(V.ref.value=H,V.ref.type||f.values.next({name:N,values:{...o}})))}(M.shouldDirty||M.shouldTouch)&&E(N,H,M.shouldTouch,M.shouldDirty,!0),M.shouldValidate&&G(N)},$=(N,O,M)=>{for(const X in O){const H=O[X],V=`${N}.${X}`,oe=Z(r,V);(a.array.has(N)||zt(H)||oe&&!oe._f)&&!va(H)?$(V,H,M):L(V,H,M)}},q=(N,O,M={})=>{const X=Z(r,N),H=a.array.has(N),V=Qt(O);nt(o,N,V),H?(f.array.next({name:N,values:{...o}}),(d.isDirty||d.dirtyFields)&&M.shouldDirty&&f.state.next({name:N,dirtyFields:Uu(s,o),isDirty:P(N,V)})):X&&!X._f&&!Un(V)?$(N,V,M):L(N,V,M),Bx(N,a)&&f.state.next({...n}),f.values.next({name:i.mount?N:void 0,values:{...o}})},A=async N=>{i.mount=!0;const O=N.target;let M=O.name,X=!0;const H=Z(r,M),V=()=>O.type?g0(H._f):g2(N),oe=ee=>{X=Number.isNaN(ee)||va(ee)&&isNaN(ee.getTime())||li(ee,Z(o,M,ee))};if(H){let ee,Ze;const lt=V(),ur=N.type===Km.BLUR||N.type===Km.FOCUS_OUT,ts=!_se(H._f)&&!t.resolver&&!Z(n.errors,M)&&!H._f.deps||xse(ur,Z(n.touchedFields,M),n.isSubmitted,p,h),Cs=Bx(M,a,ur);nt(o,M,lt),ur?(H._f.onBlur&&H._f.onBlur(N),l&&l(0)):H._f.onChange&&H._f.onChange(N);const Wo=E(M,lt,ur,!1),no=!Fn(Wo)||Cs;if(!ur&&f.values.next({name:M,type:N.type,values:{...o}}),ts)return d.isValid&&(e.mode==="onBlur"?ur&&w():w()),no&&f.state.next({name:M,...Cs?{}:Wo});if(!ur&&Cs&&f.state.next({...n}),t.resolver){const{errors:Ts}=await C([M]);if(oe(lt),X){const dr=TT(n.errors,r,M),fr=TT(Ts,r,dr.name||M);ee=fr.error,M=fr.name,Ze=Fn(Ts)}}else _([M],!0),ee=(await zx(H,o,y,t.shouldUseNativeValidation))[M],_([M]),oe(lt),X&&(ee?Ze=!1:d.isValid&&(Ze=await j(r,!0)));X&&(H._f.deps&&G(H._f.deps),k(M,Ze,ee,Wo))}},F=(N,O)=>{if(Z(n.errors,O)&&N.focus)return N.focus(),1},G=async(N,O={})=>{let M,X;const H=ir(N);if(t.resolver){const V=await T(pt(N)?N:H);M=Fn(V),X=N?!H.some(oe=>Z(V,oe)):M}else N?(X=(await Promise.all(H.map(async V=>{const oe=Z(r,V);return await j(oe&&oe._f?{[V]:oe}:oe)}))).every(Boolean),!(!X&&!n.isValid)&&w()):X=M=await j(r);return f.state.next({...!Bs(N)||d.isValid&&M!==n.isValid?{}:{name:N},...t.resolver||!N?{isValid:M}:{},errors:n.errors}),O.shouldFocus&&!X&&sc(r,F,N?H:a.mount),X},W=N=>{const O={...i.mount?o:s};return pt(N)?O:Bs(N)?Z(O,N):N.map(M=>Z(O,M))},le=(N,O)=>({invalid:!!Z((O||n).errors,N),isDirty:!!Z((O||n).dirtyFields,N),error:Z((O||n).errors,N),isValidating:!!Z(n.validatingFields,N),isTouched:!!Z((O||n).touchedFields,N)}),ue=N=>{N&&ir(N).forEach(O=>Vt(n.errors,O)),f.state.next({errors:N?n.errors:{}})},Re=(N,O,M)=>{const X=(Z(r,N,{_f:{}})._f||{}).ref,H=Z(n.errors,N)||{},{ref:V,message:oe,type:ee,...Ze}=H;nt(n.errors,N,{...Ze,...O,ref:X}),f.state.next({name:N,errors:n.errors,isValid:!1}),M&&M.shouldFocus&&X&&X.focus&&X.focus()},xe=(N,O)=>xo(N)?f.values.subscribe({next:M=>N(U(void 0,O),M)}):U(N,O,!0),pe=(N,O={})=>{for(const M of N?ir(N):a.mount)a.mount.delete(M),a.array.delete(M),O.keepValue||(Vt(r,M),Vt(o,M)),!O.keepError&&Vt(n.errors,M),!O.keepDirty&&Vt(n.dirtyFields,M),!O.keepTouched&&Vt(n.touchedFields,M),!O.keepIsValidating&&Vt(n.validatingFields,M),!t.shouldUnregister&&!O.keepDefaultValue&&Vt(s,M);f.values.next({values:{...o}}),f.state.next({...n,...O.keepDirty?{isDirty:P()}:{}}),!O.keepIsValid&&w()},se=({disabled:N,name:O,field:M,fields:X,value:H})=>{if(Fr(N)&&i.mount||N){const V=N?void 0:pt(H)?g0(M?M._f:Z(X,O)._f):H;nt(o,O,V),E(O,V,!1,!1,!0)}},Ce=(N,O={})=>{let M=Z(r,N);const X=Fr(O.disabled)||Fr(e.disabled);return nt(r,N,{...M||{},_f:{...M&&M._f?M._f:{ref:{name:N}},name:N,mount:!0,...O}}),a.mount.add(N),M?se({field:M,disabled:Fr(O.disabled)?O.disabled:e.disabled,name:N,value:O.value}):S(N,!0,O.value),{...X?{disabled:O.disabled||e.disabled}:{},...t.progressive?{required:!!O.required,min:Bu(O.min),max:Bu(O.max),minLength:Bu(O.minLength),maxLength:Bu(O.maxLength),pattern:Bu(O.pattern)}:{},name:N,onChange:A,onBlur:A,ref:H=>{if(H){Ce(N,O),M=Z(r,N);const V=pt(H.value)&&H.querySelectorAll&&H.querySelectorAll("input,select,textarea")[0]||H,oe=gse(V),ee=M._f.refs||[];if(oe?ee.find(Ze=>Ze===V):V===M._f.ref)return;nt(r,N,{_f:{...M._f,...oe?{refs:[...ee.filter(m0),V,...Array.isArray(Z(s,N))?[{}]:[]],ref:{type:V.type,name:N}}:{ref:V}}}),S(N,!1,void 0,V)}else M=Z(r,N,{}),M._f&&(M._f.mount=!1),(t.shouldUnregister||O.shouldUnregister)&&!(y2(a.array,N)&&i.action)&&a.unMount.add(N)}}},je=()=>t.shouldFocusError&&sc(r,F,a.mount),Te=N=>{Fr(N)&&(f.state.next({disabled:N}),sc(r,(O,M)=>{const X=Z(r,M);X&&(O.disabled=X._f.disabled||N,Array.isArray(X._f.refs)&&X._f.refs.forEach(H=>{H.disabled=X._f.disabled||N}))},0,!1))},$e=(N,O)=>async M=>{let X;M&&(M.preventDefault&&M.preventDefault(),M.persist&&M.persist());let H=Qt(o);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:V,values:oe}=await C();n.errors=V,H=oe}else await j(r);if(Vt(n.errors,"root"),Fn(n.errors)){f.state.next({errors:{}});try{await N(H,M)}catch(V){X=V}}else O&&await O({...n.errors},M),je(),setTimeout(je);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Fn(n.errors)&&!X,submitCount:n.submitCount+1,errors:n.errors}),X)throw X},Ae=(N,O={})=>{Z(r,N)&&(pt(O.defaultValue)?q(N,Qt(Z(s,N))):(q(N,O.defaultValue),nt(s,N,Qt(O.defaultValue))),O.keepTouched||Vt(n.touchedFields,N),O.keepDirty||(Vt(n.dirtyFields,N),n.isDirty=O.defaultValue?P(N,Qt(Z(s,N))):P()),O.keepError||(Vt(n.errors,N),d.isValid&&w()),f.state.next({...n}))},gt=(N,O={})=>{const M=N?Qt(N):s,X=Qt(M),H=Fn(N),V=H?s:X;if(O.keepDefaultValues||(s=M),!O.keepValues){if(O.keepDirtyValues){const oe=new Set([...a.mount,...Object.keys(Uu(s,o))]);for(const ee of Array.from(oe))Z(n.dirtyFields,ee)?nt(V,ee,Z(o,ee)):q(ee,Z(V,ee))}else{if(US&&pt(N))for(const oe of a.mount){const ee=Z(r,oe);if(ee&&ee._f){const Ze=Array.isArray(ee._f.refs)?ee._f.refs[0]:ee._f.ref;if(Ym(Ze)){const lt=Ze.closest("form");if(lt){lt.reset();break}}}}r={}}o=e.shouldUnregister?O.keepDefaultValues?Qt(s):{}:Qt(V),f.array.next({values:{...V}}),f.values.next({values:{...V}})}a={mount:O.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!d.isValid||!!O.keepIsValid||!!O.keepDirtyValues,i.watch=!!e.shouldUnregister,f.state.next({submitCount:O.keepSubmitCount?n.submitCount:0,isDirty:H?!1:O.keepDirty?n.isDirty:!!(O.keepDefaultValues&&!li(N,s)),isSubmitted:O.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:H?{}:O.keepDirtyValues?O.keepDefaultValues&&o?Uu(s,o):n.dirtyFields:O.keepDefaultValues&&N?Uu(s,N):O.keepDirty?n.dirtyFields:{},touchedFields:O.keepTouched?n.touchedFields:{},errors:O.keepErrors?n.errors:{},isSubmitSuccessful:O.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},et=(N,O)=>gt(xo(N)?N(o):N,O);return{control:{register:Ce,unregister:pe,getFieldState:le,handleSubmit:$e,setError:Re,_executeSchema:C,_getWatch:U,_getDirty:P,_updateValid:w,_removeUnmounted:D,_updateFieldArray:v,_updateDisabledField:se,_getFieldArray:B,_reset:gt,_resetDefaultValues:()=>xo(t.defaultValues)&&t.defaultValues().then(N=>{et(N,t.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:N=>{n={...n,...N}},_disableForm:Te,_subjects:f,_proxyFormState:d,_setErrors:b,get _fields(){return r},get _formValues(){return o},get _state(){return i},set _state(N){i=N},get _defaultValues(){return s},get _names(){return a},set _names(N){a=N},get _formState(){return n},set _formState(N){n=N},get _options(){return t},set _options(N){t={...t,...N}}},trigger:G,register:Ce,handleSubmit:$e,watch:xe,setValue:q,getValues:W,reset:et,resetField:Ae,clearErrors:ue,unregister:pe,setError:Re,setFocus:(N,O={})=>{const M=Z(r,N),X=M&&M._f;if(X){const H=X.refs?X.refs[0]:X.ref;H.focus&&(H.focus(),O.shouldSelect&&H.select())}},getFieldState:le}}function j2(e={}){const t=z.useRef(),n=z.useRef(),[r,s]=z.useState({isDirty:!1,isValidating:!1,isLoading:xo(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:xo(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...Sse(e),formState:r});const o=t.current.control;return o._options=e,Cy({subject:o._subjects.state,next:i=>{w2(i,o._proxyFormState,o._updateFormState,!0)&&s({...o._formState})}}),z.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),z.useEffect(()=>{if(o._proxyFormState.isDirty){const i=o._getDirty();i!==r.isDirty&&o._subjects.state.next({isDirty:i})}},[o,r.isDirty]),z.useEffect(()=>{e.values&&!li(e.values,n.current)?(o._reset(e.values,o._options.resetOptions),n.current=e.values,s(i=>({...i}))):o._resetDefaultValues()},[e.values,o]),z.useEffect(()=>{e.errors&&o._setErrors(e.errors)},[e.errors,o]),z.useEffect(()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),z.useEffect(()=>{e.shouldUnregister&&o._subjects.values.next({values:o._getWatch()})},[e.shouldUnregister,o]),z.useEffect(()=>{t.current&&(t.current.watch=t.current.watch.bind({}))},[r]),t.current.formState=x2(r,o),t.current}const NT=(e,t,n)=>{if(e&&"reportValidity"in e){const r=Z(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},P2=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?NT(r.ref,n,e):r.refs&&r.refs.forEach(s=>NT(s,n,e))}},Ese=(e,t)=>{t.shouldUseNativeValidation&&P2(e,t);const n={};for(const r in e){const s=Z(t.fields,r),o=Object.assign(e[r]||{},{ref:s&&s.ref});if(kse(t.names||Object.keys(e),r)){const i=Object.assign({},Z(n,r));nt(i,"root",o),nt(n,r,i)}else nt(n,r,o)}return n},kse=(e,t)=>e.some(n=>n.startsWith(t+"."));var Cse=function(e,t){for(var n={};e.length;){var r=e[0],s=r.code,o=r.message,i=r.path.join(".");if(!n[i])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[i]={message:a.message,type:a.code}}else n[i]={message:o,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var l=n[i].types,u=l&&l[r.code];n[i]=E2(i,t,n,s,u?[].concat(u,r.message):r.message)}e.shift()}return n},O2=function(e,t,n){return n===void 0&&(n={}),function(r,s,o){try{return Promise.resolve(function(i,a){try{var l=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(u){return o.shouldUseNativeValidation&&P2({},o),{errors:{},values:n.raw?r:u}})}catch(u){return a(u)}return l&&l.then?l.then(void 0,a):l}(0,function(i){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(i))return{values:{},errors:Ese(Cse(i.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw i}))}catch(i){return Promise.reject(i)}}},Xe;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function n(s){throw new Error}e.assertNever=n,e.arrayToEnum=s=>{const o={};for(const i of s)o[i]=i;return o},e.getValidEnumValues=s=>{const o=e.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),i={};for(const a of o)i[a]=s[a];return e.objectValues(i)},e.objectValues=s=>e.objectKeys(s).map(function(o){return s[o]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const o=[];for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&o.push(i);return o},e.find=(s,o)=>{for(const i of s)if(o(i))return i},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,o=" | "){return s.map(i=>typeof i=="string"?`'${i}'`:i).join(o)}e.joinValues=r,e.jsonStringifyReplacer=(s,o)=>typeof o=="bigint"?o.toString():o})(Xe||(Xe={}));var Vx;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(Vx||(Vx={}));const ae=Xe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ci=e=>{switch(typeof e){case"undefined":return ae.undefined;case"string":return ae.string;case"number":return isNaN(e)?ae.nan:ae.number;case"boolean":return ae.boolean;case"function":return ae.function;case"bigint":return ae.bigint;case"symbol":return ae.symbol;case"object":return Array.isArray(e)?ae.array:e===null?ae.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ae.promise:typeof Map<"u"&&e instanceof Map?ae.map:typeof Set<"u"&&e instanceof Set?ae.set:typeof Date<"u"&&e instanceof Date?ae.date:ae.object;default:return ae.unknown}},Y=Xe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Tse=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Sr extends Error{constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const n=t||function(o){return o.message},r={_errors:[]},s=o=>{for(const i of o.issues)if(i.code==="invalid_union")i.unionErrors.map(s);else if(i.code==="invalid_return_type")s(i.returnTypeError);else if(i.code==="invalid_arguments")s(i.argumentsError);else if(i.path.length===0)r._errors.push(n(i));else{let a=r,l=0;for(;l<i.path.length;){const u=i.path[l];l===i.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(i))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return s(this),r}static assert(t){if(!(t instanceof Sr))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Xe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(t(s))):r.push(t(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Sr.create=e=>new Sr(e);const Bc=(e,t)=>{let n;switch(e.code){case Y.invalid_type:e.received===ae.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case Y.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Xe.jsonStringifyReplacer)}`;break;case Y.unrecognized_keys:n=`Unrecognized key(s) in object: ${Xe.joinValues(e.keys,", ")}`;break;case Y.invalid_union:n="Invalid input";break;case Y.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Xe.joinValues(e.options)}`;break;case Y.invalid_enum_value:n=`Invalid enum value. Expected ${Xe.joinValues(e.options)}, received '${e.received}'`;break;case Y.invalid_arguments:n="Invalid function arguments";break;case Y.invalid_return_type:n="Invalid function return type";break;case Y.invalid_date:n="Invalid date";break;case Y.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Xe.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case Y.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case Y.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case Y.custom:n="Invalid input";break;case Y.invalid_intersection_types:n="Intersection results could not be merged";break;case Y.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case Y.not_finite:n="Number must be finite";break;default:n=t.defaultError,Xe.assertNever(e)}return{message:n}};let M2=Bc;function Nse(e){M2=e}function Zm(){return M2}const Jm=e=>{const{data:t,path:n,errorMaps:r,issueData:s}=e,o=[...n,...s.path||[]],i={...s,path:o};if(s.message!==void 0)return{...s,path:o,message:s.message};let a="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)a=u(i,{data:t,defaultError:a}).message;return{...s,path:o,message:a}},Rse=[];function re(e,t){const n=Zm(),r=Jm({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Bc?void 0:Bc].filter(s=>!!s)});e.common.issues.push(r)}class jn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const s of n){if(s.status==="aborted")return be;s.status==="dirty"&&t.dirty(),r.push(s.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const s of n){const o=await s.key,i=await s.value;r.push({key:o,value:i})}return jn.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const s of n){const{key:o,value:i}=s;if(o.status==="aborted"||i.status==="aborted")return be;o.status==="dirty"&&t.dirty(),i.status==="dirty"&&t.dirty(),o.value!=="__proto__"&&(typeof i.value<"u"||s.alwaysSet)&&(r[o.value]=i.value)}return{status:t.value,value:r}}}const be=Object.freeze({status:"aborted"}),zl=e=>({status:"dirty",value:e}),qn=e=>({status:"valid",value:e}),Wx=e=>e.status==="aborted",qx=e=>e.status==="dirty",of=e=>e.status==="valid",af=e=>typeof Promise<"u"&&e instanceof Promise;function eg(e,t,n,r){if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function D2(e,t,n,r,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var fe;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(fe||(fe={}));var Xu,Zu;class Xs{constructor(t,n,r,s){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const RT=(e,t)=>{if(of(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Sr(e.common.issues);return this._error=n,this._error}}};function Oe(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:s}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(i,a)=>{var l,u;const{message:d}=e;return i.code==="invalid_enum_value"?{message:d??a.defaultError}:typeof a.data>"u"?{message:(l=d??r)!==null&&l!==void 0?l:a.defaultError}:i.code!=="invalid_type"?{message:a.defaultError}:{message:(u=d??n)!==null&&u!==void 0?u:a.defaultError}},description:s}}class Le{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return ci(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:ci(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new jn,ctx:{common:t.parent.common,data:t.data,parsedType:ci(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(af(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ci(t)},o=this._parseSync({data:t,path:s.path,parent:s});return RT(s,o)}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ci(t)},s=this._parse({data:t,path:r.path,parent:r}),o=await(af(s)?s:Promise.resolve(s));return RT(r,o)}refine(t,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,o)=>{const i=t(s),a=()=>o.addIssue({code:Y.custom,...r(s)});return typeof Promise<"u"&&i instanceof Promise?i.then(l=>l?!0:(a(),!1)):i?!0:(a(),!1)})}refinement(t,n){return this._refinement((r,s)=>t(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(t){return new Es({schema:this,typeName:we.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return Ws.create(this,this._def)}nullable(){return Ki.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return xs.create(this,this._def)}promise(){return Hc.create(this,this._def)}or(t){return df.create([this,t],this._def)}and(t){return ff.create(this,t,this._def)}transform(t){return new Es({...Oe(this._def),schema:this,typeName:we.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new yf({...Oe(this._def),innerType:this,defaultValue:n,typeName:we.ZodDefault})}brand(){return new VS({typeName:we.ZodBranded,type:this,...Oe(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new vf({...Oe(this._def),innerType:this,catchValue:n,typeName:we.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return lh.create(this,t)}readonly(){return _f.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Ase=/^c[^\s-]{8,}$/i,Ise=/^[0-9a-z]+$/,jse=/^[0-9A-HJKMNP-TV-Z]{26}$/,Pse=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Ose=/^[a-z0-9_-]{21}$/i,Mse=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Dse=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Lse="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let y0;const Fse=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,$se=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Use=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,L2="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Bse=new RegExp(`^${L2}$`);function F2(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function zse(e){return new RegExp(`^${F2(e)}$`)}function $2(e){let t=`${L2}T${F2(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function Hse(e,t){return!!((t==="v4"||!t)&&Fse.test(e)||(t==="v6"||!t)&&$se.test(e))}class gs extends Le{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ae.string){const o=this._getOrReturnCtx(t);return re(o,{code:Y.invalid_type,expected:ae.string,received:o.parsedType}),be}const r=new jn;let s;for(const o of this._def.checks)if(o.kind==="min")t.data.length<o.value&&(s=this._getOrReturnCtx(t,s),re(s,{code:Y.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")t.data.length>o.value&&(s=this._getOrReturnCtx(t,s),re(s,{code:Y.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const i=t.data.length>o.value,a=t.data.length<o.value;(i||a)&&(s=this._getOrReturnCtx(t,s),i?re(s,{code:Y.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):a&&re(s,{code:Y.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")Dse.test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{validation:"email",code:Y.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")y0||(y0=new RegExp(Lse,"u")),y0.test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{validation:"emoji",code:Y.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")Pse.test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{validation:"uuid",code:Y.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")Ose.test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{validation:"nanoid",code:Y.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")Ase.test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{validation:"cuid",code:Y.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")Ise.test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{validation:"cuid2",code:Y.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")jse.test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{validation:"ulid",code:Y.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),re(s,{validation:"url",code:Y.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{validation:"regex",code:Y.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?t.data=t.data.trim():o.kind==="includes"?t.data.includes(o.value,o.position)||(s=this._getOrReturnCtx(t,s),re(s,{code:Y.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?t.data=t.data.toLowerCase():o.kind==="toUpperCase"?t.data=t.data.toUpperCase():o.kind==="startsWith"?t.data.startsWith(o.value)||(s=this._getOrReturnCtx(t,s),re(s,{code:Y.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?t.data.endsWith(o.value)||(s=this._getOrReturnCtx(t,s),re(s,{code:Y.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?$2(o).test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{code:Y.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?Bse.test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{code:Y.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?zse(o).test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{code:Y.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?Mse.test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{validation:"duration",code:Y.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?Hse(t.data,o.version)||(s=this._getOrReturnCtx(t,s),re(s,{validation:"ip",code:Y.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?Use.test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{validation:"base64",code:Y.invalid_string,message:o.message}),r.dirty()):Xe.assertNever(o);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(s=>t.test(s),{validation:n,code:Y.invalid_string,...fe.errToObj(r)})}_addCheck(t){return new gs({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...fe.errToObj(t)})}url(t){return this._addCheck({kind:"url",...fe.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...fe.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...fe.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...fe.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...fe.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...fe.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...fe.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...fe.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...fe.errToObj(t)})}datetime(t){var n,r;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,local:(r=t==null?void 0:t.local)!==null&&r!==void 0?r:!1,...fe.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...fe.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...fe.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...fe.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...fe.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...fe.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...fe.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...fe.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...fe.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...fe.errToObj(n)})}nonempty(t){return this.min(1,fe.errToObj(t))}trim(){return new gs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new gs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new gs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}gs.create=e=>{var t;return new gs({checks:[],typeName:we.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Oe(e)})};function Vse(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,s=n>r?n:r,o=parseInt(e.toFixed(s).replace(".","")),i=parseInt(t.toFixed(s).replace(".",""));return o%i/Math.pow(10,s)}class Wi extends Le{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ae.number){const o=this._getOrReturnCtx(t);return re(o,{code:Y.invalid_type,expected:ae.number,received:o.parsedType}),be}let r;const s=new jn;for(const o of this._def.checks)o.kind==="int"?Xe.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),re(r,{code:Y.invalid_type,expected:"integer",received:"float",message:o.message}),s.dirty()):o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(r=this._getOrReturnCtx(t,r),re(r,{code:Y.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(r=this._getOrReturnCtx(t,r),re(r,{code:Y.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="multipleOf"?Vse(t.data,o.value)!==0&&(r=this._getOrReturnCtx(t,r),re(r,{code:Y.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):o.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),re(r,{code:Y.not_finite,message:o.message}),s.dirty()):Xe.assertNever(o);return{status:s.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,fe.toString(n))}gt(t,n){return this.setLimit("min",t,!1,fe.toString(n))}lte(t,n){return this.setLimit("max",t,!0,fe.toString(n))}lt(t,n){return this.setLimit("max",t,!1,fe.toString(n))}setLimit(t,n,r,s){return new Wi({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:fe.toString(s)}]})}_addCheck(t){return new Wi({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:fe.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:fe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:fe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:fe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:fe.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:fe.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:fe.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:fe.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:fe.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Xe.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Wi.create=e=>new Wi({checks:[],typeName:we.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Oe(e)});class qi extends Le{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==ae.bigint){const o=this._getOrReturnCtx(t);return re(o,{code:Y.invalid_type,expected:ae.bigint,received:o.parsedType}),be}let r;const s=new jn;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(r=this._getOrReturnCtx(t,r),re(r,{code:Y.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(r=this._getOrReturnCtx(t,r),re(r,{code:Y.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="multipleOf"?t.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),re(r,{code:Y.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):Xe.assertNever(o);return{status:s.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,fe.toString(n))}gt(t,n){return this.setLimit("min",t,!1,fe.toString(n))}lte(t,n){return this.setLimit("max",t,!0,fe.toString(n))}lt(t,n){return this.setLimit("max",t,!1,fe.toString(n))}setLimit(t,n,r,s){return new qi({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:fe.toString(s)}]})}_addCheck(t){return new qi({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:fe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:fe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:fe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:fe.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:fe.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}qi.create=e=>{var t;return new qi({checks:[],typeName:we.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Oe(e)})};class lf extends Le{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ae.boolean){const r=this._getOrReturnCtx(t);return re(r,{code:Y.invalid_type,expected:ae.boolean,received:r.parsedType}),be}return qn(t.data)}}lf.create=e=>new lf({typeName:we.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Oe(e)});class Ka extends Le{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ae.date){const o=this._getOrReturnCtx(t);return re(o,{code:Y.invalid_type,expected:ae.date,received:o.parsedType}),be}if(isNaN(t.data.getTime())){const o=this._getOrReturnCtx(t);return re(o,{code:Y.invalid_date}),be}const r=new jn;let s;for(const o of this._def.checks)o.kind==="min"?t.data.getTime()<o.value&&(s=this._getOrReturnCtx(t,s),re(s,{code:Y.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?t.data.getTime()>o.value&&(s=this._getOrReturnCtx(t,s),re(s,{code:Y.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):Xe.assertNever(o);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Ka({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:fe.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:fe.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Ka.create=e=>new Ka({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:we.ZodDate,...Oe(e)});class tg extends Le{_parse(t){if(this._getType(t)!==ae.symbol){const r=this._getOrReturnCtx(t);return re(r,{code:Y.invalid_type,expected:ae.symbol,received:r.parsedType}),be}return qn(t.data)}}tg.create=e=>new tg({typeName:we.ZodSymbol,...Oe(e)});class cf extends Le{_parse(t){if(this._getType(t)!==ae.undefined){const r=this._getOrReturnCtx(t);return re(r,{code:Y.invalid_type,expected:ae.undefined,received:r.parsedType}),be}return qn(t.data)}}cf.create=e=>new cf({typeName:we.ZodUndefined,...Oe(e)});class uf extends Le{_parse(t){if(this._getType(t)!==ae.null){const r=this._getOrReturnCtx(t);return re(r,{code:Y.invalid_type,expected:ae.null,received:r.parsedType}),be}return qn(t.data)}}uf.create=e=>new uf({typeName:we.ZodNull,...Oe(e)});class zc extends Le{constructor(){super(...arguments),this._any=!0}_parse(t){return qn(t.data)}}zc.create=e=>new zc({typeName:we.ZodAny,...Oe(e)});class Pa extends Le{constructor(){super(...arguments),this._unknown=!0}_parse(t){return qn(t.data)}}Pa.create=e=>new Pa({typeName:we.ZodUnknown,...Oe(e)});class Bo extends Le{_parse(t){const n=this._getOrReturnCtx(t);return re(n,{code:Y.invalid_type,expected:ae.never,received:n.parsedType}),be}}Bo.create=e=>new Bo({typeName:we.ZodNever,...Oe(e)});class ng extends Le{_parse(t){if(this._getType(t)!==ae.undefined){const r=this._getOrReturnCtx(t);return re(r,{code:Y.invalid_type,expected:ae.void,received:r.parsedType}),be}return qn(t.data)}}ng.create=e=>new ng({typeName:we.ZodVoid,...Oe(e)});class xs extends Le{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),s=this._def;if(n.parsedType!==ae.array)return re(n,{code:Y.invalid_type,expected:ae.array,received:n.parsedType}),be;if(s.exactLength!==null){const i=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(i||a)&&(re(n,{code:i?Y.too_big:Y.too_small,minimum:a?s.exactLength.value:void 0,maximum:i?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(re(n,{code:Y.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(re(n,{code:Y.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((i,a)=>s.type._parseAsync(new Xs(n,i,n.path,a)))).then(i=>jn.mergeArray(r,i));const o=[...n.data].map((i,a)=>s.type._parseSync(new Xs(n,i,n.path,a)));return jn.mergeArray(r,o)}get element(){return this._def.type}min(t,n){return new xs({...this._def,minLength:{value:t,message:fe.toString(n)}})}max(t,n){return new xs({...this._def,maxLength:{value:t,message:fe.toString(n)}})}length(t,n){return new xs({...this._def,exactLength:{value:t,message:fe.toString(n)}})}nonempty(t){return this.min(1,t)}}xs.create=(e,t)=>new xs({type:e,minLength:null,maxLength:null,exactLength:null,typeName:we.ZodArray,...Oe(t)});function El(e){if(e instanceof bt){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Ws.create(El(r))}return new bt({...e._def,shape:()=>t})}else return e instanceof xs?new xs({...e._def,type:El(e.element)}):e instanceof Ws?Ws.create(El(e.unwrap())):e instanceof Ki?Ki.create(El(e.unwrap())):e instanceof Zs?Zs.create(e.items.map(t=>El(t))):e}class bt extends Le{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=Xe.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==ae.object){const u=this._getOrReturnCtx(t);return re(u,{code:Y.invalid_type,expected:ae.object,received:u.parsedType}),be}const{status:r,ctx:s}=this._processInputParams(t),{shape:o,keys:i}=this._getCached(),a=[];if(!(this._def.catchall instanceof Bo&&this._def.unknownKeys==="strip"))for(const u in s.data)i.includes(u)||a.push(u);const l=[];for(const u of i){const d=o[u],f=s.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new Xs(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Bo){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of a)l.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")a.length>0&&(re(s,{code:Y.unrecognized_keys,keys:a}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of a){const f=s.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new Xs(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of l){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>jn.mergeObjectSync(r,u)):jn.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(t){return fe.errToObj,new bt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var s,o,i,a;const l=(i=(o=(s=this._def).errorMap)===null||o===void 0?void 0:o.call(s,n,r).message)!==null&&i!==void 0?i:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=fe.errToObj(t).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new bt({...this._def,unknownKeys:"strip"})}passthrough(){return new bt({...this._def,unknownKeys:"passthrough"})}extend(t){return new bt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new bt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:we.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new bt({...this._def,catchall:t})}pick(t){const n={};return Xe.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new bt({...this._def,shape:()=>n})}omit(t){const n={};return Xe.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new bt({...this._def,shape:()=>n})}deepPartial(){return El(this)}partial(t){const n={};return Xe.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];t&&!t[r]?n[r]=s:n[r]=s.optional()}),new bt({...this._def,shape:()=>n})}required(t){const n={};return Xe.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof Ws;)o=o._def.innerType;n[r]=o}}),new bt({...this._def,shape:()=>n})}keyof(){return U2(Xe.objectKeys(this.shape))}}bt.create=(e,t)=>new bt({shape:()=>e,unknownKeys:"strip",catchall:Bo.create(),typeName:we.ZodObject,...Oe(t)});bt.strictCreate=(e,t)=>new bt({shape:()=>e,unknownKeys:"strict",catchall:Bo.create(),typeName:we.ZodObject,...Oe(t)});bt.lazycreate=(e,t)=>new bt({shape:e,unknownKeys:"strip",catchall:Bo.create(),typeName:we.ZodObject,...Oe(t)});class df extends Le{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function s(o){for(const a of o)if(a.result.status==="valid")return a.result;for(const a of o)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const i=o.map(a=>new Sr(a.ctx.common.issues));return re(n,{code:Y.invalid_union,unionErrors:i}),be}if(n.common.async)return Promise.all(r.map(async o=>{const i={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:i}),ctx:i}})).then(s);{let o;const i=[];for(const l of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=l._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!o&&(o={result:d,ctx:u}),u.common.issues.length&&i.push(u.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const a=i.map(l=>new Sr(l));return re(n,{code:Y.invalid_union,unionErrors:a}),be}}get options(){return this._def.options}}df.create=(e,t)=>new df({options:e,typeName:we.ZodUnion,...Oe(t)});const fo=e=>e instanceof pf?fo(e.schema):e instanceof Es?fo(e.innerType()):e instanceof mf?[e.value]:e instanceof Gi?e.options:e instanceof gf?Xe.objectValues(e.enum):e instanceof yf?fo(e._def.innerType):e instanceof cf?[void 0]:e instanceof uf?[null]:e instanceof Ws?[void 0,...fo(e.unwrap())]:e instanceof Ki?[null,...fo(e.unwrap())]:e instanceof VS||e instanceof _f?fo(e.unwrap()):e instanceof vf?fo(e._def.innerType):[];class Ty extends Le{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==ae.object)return re(n,{code:Y.invalid_type,expected:ae.object,received:n.parsedType}),be;const r=this.discriminator,s=n.data[r],o=this.optionsMap.get(s);return o?n.common.async?o._parseAsync({data:n.data,path:n.path,parent:n}):o._parseSync({data:n.data,path:n.path,parent:n}):(re(n,{code:Y.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),be)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const s=new Map;for(const o of n){const i=fo(o.shape[t]);if(!i.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const a of i){if(s.has(a))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(a)}`);s.set(a,o)}}return new Ty({typeName:we.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:s,...Oe(r)})}}function Gx(e,t){const n=ci(e),r=ci(t);if(e===t)return{valid:!0,data:e};if(n===ae.object&&r===ae.object){const s=Xe.objectKeys(t),o=Xe.objectKeys(e).filter(a=>s.indexOf(a)!==-1),i={...e,...t};for(const a of o){const l=Gx(e[a],t[a]);if(!l.valid)return{valid:!1};i[a]=l.data}return{valid:!0,data:i}}else if(n===ae.array&&r===ae.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let o=0;o<e.length;o++){const i=e[o],a=t[o],l=Gx(i,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return n===ae.date&&r===ae.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class ff extends Le{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=(o,i)=>{if(Wx(o)||Wx(i))return be;const a=Gx(o.value,i.value);return a.valid?((qx(o)||qx(i))&&n.dirty(),{status:n.value,value:a.data}):(re(r,{code:Y.invalid_intersection_types}),be)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,i])=>s(o,i)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}ff.create=(e,t,n)=>new ff({left:e,right:t,typeName:we.ZodIntersection,...Oe(n)});class Zs extends Le{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==ae.array)return re(r,{code:Y.invalid_type,expected:ae.array,received:r.parsedType}),be;if(r.data.length<this._def.items.length)return re(r,{code:Y.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),be;!this._def.rest&&r.data.length>this._def.items.length&&(re(r,{code:Y.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...r.data].map((i,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new Xs(r,i,r.path,a)):null}).filter(i=>!!i);return r.common.async?Promise.all(o).then(i=>jn.mergeArray(n,i)):jn.mergeArray(n,o)}get items(){return this._def.items}rest(t){return new Zs({...this._def,rest:t})}}Zs.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Zs({items:e,typeName:we.ZodTuple,rest:null,...Oe(t)})};class hf extends Le{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==ae.object)return re(r,{code:Y.invalid_type,expected:ae.object,received:r.parsedType}),be;const s=[],o=this._def.keyType,i=this._def.valueType;for(const a in r.data)s.push({key:o._parse(new Xs(r,a,r.path,a)),value:i._parse(new Xs(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?jn.mergeObjectAsync(n,s):jn.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof Le?new hf({keyType:t,valueType:n,typeName:we.ZodRecord,...Oe(r)}):new hf({keyType:gs.create(),valueType:t,typeName:we.ZodRecord,...Oe(n)})}}class rg extends Le{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==ae.map)return re(r,{code:Y.invalid_type,expected:ae.map,received:r.parsedType}),be;const s=this._def.keyType,o=this._def.valueType,i=[...r.data.entries()].map(([a,l],u)=>({key:s._parse(new Xs(r,a,r.path,[u,"key"])),value:o._parse(new Xs(r,l,r.path,[u,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of i){const u=await l.key,d=await l.value;if(u.status==="aborted"||d.status==="aborted")return be;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of i){const u=l.key,d=l.value;if(u.status==="aborted"||d.status==="aborted")return be;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}}}}rg.create=(e,t,n)=>new rg({valueType:t,keyType:e,typeName:we.ZodMap,...Oe(n)});class Ya extends Le{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==ae.set)return re(r,{code:Y.invalid_type,expected:ae.set,received:r.parsedType}),be;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(re(r,{code:Y.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(re(r,{code:Y.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const o=this._def.valueType;function i(l){const u=new Set;for(const d of l){if(d.status==="aborted")return be;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const a=[...r.data.values()].map((l,u)=>o._parse(new Xs(r,l,r.path,u)));return r.common.async?Promise.all(a).then(l=>i(l)):i(a)}min(t,n){return new Ya({...this._def,minSize:{value:t,message:fe.toString(n)}})}max(t,n){return new Ya({...this._def,maxSize:{value:t,message:fe.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Ya.create=(e,t)=>new Ya({valueType:e,minSize:null,maxSize:null,typeName:we.ZodSet,...Oe(t)});class oc extends Le{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==ae.function)return re(n,{code:Y.invalid_type,expected:ae.function,received:n.parsedType}),be;function r(a,l){return Jm({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Zm(),Bc].filter(u=>!!u),issueData:{code:Y.invalid_arguments,argumentsError:l}})}function s(a,l){return Jm({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Zm(),Bc].filter(u=>!!u),issueData:{code:Y.invalid_return_type,returnTypeError:l}})}const o={errorMap:n.common.contextualErrorMap},i=n.data;if(this._def.returns instanceof Hc){const a=this;return qn(async function(...l){const u=new Sr([]),d=await a._def.args.parseAsync(l,o).catch(p=>{throw u.addIssue(r(l,p)),u}),f=await Reflect.apply(i,this,d);return await a._def.returns._def.type.parseAsync(f,o).catch(p=>{throw u.addIssue(s(f,p)),u})})}else{const a=this;return qn(function(...l){const u=a._def.args.safeParse(l,o);if(!u.success)throw new Sr([r(l,u.error)]);const d=Reflect.apply(i,this,u.data),f=a._def.returns.safeParse(d,o);if(!f.success)throw new Sr([s(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new oc({...this._def,args:Zs.create(t).rest(Pa.create())})}returns(t){return new oc({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new oc({args:t||Zs.create([]).rest(Pa.create()),returns:n||Pa.create(),typeName:we.ZodFunction,...Oe(r)})}}class pf extends Le{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}pf.create=(e,t)=>new pf({getter:e,typeName:we.ZodLazy,...Oe(t)});class mf extends Le{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return re(n,{received:n.data,code:Y.invalid_literal,expected:this._def.value}),be}return{status:"valid",value:t.data}}get value(){return this._def.value}}mf.create=(e,t)=>new mf({value:e,typeName:we.ZodLiteral,...Oe(t)});function U2(e,t){return new Gi({values:e,typeName:we.ZodEnum,...Oe(t)})}class Gi extends Le{constructor(){super(...arguments),Xu.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return re(n,{expected:Xe.joinValues(r),received:n.parsedType,code:Y.invalid_type}),be}if(eg(this,Xu)||D2(this,Xu,new Set(this._def.values)),!eg(this,Xu).has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return re(n,{received:n.data,code:Y.invalid_enum_value,options:r}),be}return qn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Gi.create(t,{...this._def,...n})}exclude(t,n=this._def){return Gi.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}Xu=new WeakMap;Gi.create=U2;class gf extends Le{constructor(){super(...arguments),Zu.set(this,void 0)}_parse(t){const n=Xe.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==ae.string&&r.parsedType!==ae.number){const s=Xe.objectValues(n);return re(r,{expected:Xe.joinValues(s),received:r.parsedType,code:Y.invalid_type}),be}if(eg(this,Zu)||D2(this,Zu,new Set(Xe.getValidEnumValues(this._def.values))),!eg(this,Zu).has(t.data)){const s=Xe.objectValues(n);return re(r,{received:r.data,code:Y.invalid_enum_value,options:s}),be}return qn(t.data)}get enum(){return this._def.values}}Zu=new WeakMap;gf.create=(e,t)=>new gf({values:e,typeName:we.ZodNativeEnum,...Oe(t)});class Hc extends Le{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==ae.promise&&n.common.async===!1)return re(n,{code:Y.invalid_type,expected:ae.promise,received:n.parsedType}),be;const r=n.parsedType===ae.promise?n.data:Promise.resolve(n.data);return qn(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Hc.create=(e,t)=>new Hc({type:e,typeName:we.ZodPromise,...Oe(t)});class Es extends Le{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===we.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=this._def.effect||null,o={addIssue:i=>{re(r,i),i.fatal?n.abort():n.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),s.type==="preprocess"){const i=s.transform(r.data,o);if(r.common.async)return Promise.resolve(i).then(async a=>{if(n.value==="aborted")return be;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?be:l.status==="dirty"||n.value==="dirty"?zl(l.value):l});{if(n.value==="aborted")return be;const a=this._def.schema._parseSync({data:i,path:r.path,parent:r});return a.status==="aborted"?be:a.status==="dirty"||n.value==="dirty"?zl(a.value):a}}if(s.type==="refinement"){const i=a=>{const l=s.refinement(a,o);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?be:(a.status==="dirty"&&n.dirty(),i(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?be:(a.status==="dirty"&&n.dirty(),i(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!of(i))return i;const a=s.transform(i.value,o);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(i=>of(i)?Promise.resolve(s.transform(i.value,o)).then(a=>({status:n.value,value:a})):i);Xe.assertNever(s)}}Es.create=(e,t,n)=>new Es({schema:e,typeName:we.ZodEffects,effect:t,...Oe(n)});Es.createWithPreprocess=(e,t,n)=>new Es({schema:t,effect:{type:"preprocess",transform:e},typeName:we.ZodEffects,...Oe(n)});class Ws extends Le{_parse(t){return this._getType(t)===ae.undefined?qn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ws.create=(e,t)=>new Ws({innerType:e,typeName:we.ZodOptional,...Oe(t)});class Ki extends Le{_parse(t){return this._getType(t)===ae.null?qn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ki.create=(e,t)=>new Ki({innerType:e,typeName:we.ZodNullable,...Oe(t)});class yf extends Le{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===ae.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}yf.create=(e,t)=>new yf({innerType:e,typeName:we.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Oe(t)});class vf extends Le{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return af(s)?s.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Sr(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Sr(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}vf.create=(e,t)=>new vf({innerType:e,typeName:we.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Oe(t)});class sg extends Le{_parse(t){if(this._getType(t)!==ae.nan){const r=this._getOrReturnCtx(t);return re(r,{code:Y.invalid_type,expected:ae.nan,received:r.parsedType}),be}return{status:"valid",value:t.data}}}sg.create=e=>new sg({typeName:we.ZodNaN,...Oe(e)});const Wse=Symbol("zod_brand");class VS extends Le{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class lh extends Le{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?be:o.status==="dirty"?(n.dirty(),zl(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?be:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(t,n){return new lh({in:t,out:n,typeName:we.ZodPipeline})}}class _f extends Le{_parse(t){const n=this._def.innerType._parse(t),r=s=>(of(s)&&(s.value=Object.freeze(s.value)),s);return af(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}_f.create=(e,t)=>new _f({innerType:e,typeName:we.ZodReadonly,...Oe(t)});function B2(e,t={},n){return e?zc.create().superRefine((r,s)=>{var o,i;if(!e(r)){const a=typeof t=="function"?t(r):typeof t=="string"?{message:t}:t,l=(i=(o=a.fatal)!==null&&o!==void 0?o:n)!==null&&i!==void 0?i:!0,u=typeof a=="string"?{message:a}:a;s.addIssue({code:"custom",...u,fatal:l})}}):zc.create()}const qse={object:bt.lazycreate};var we;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(we||(we={}));const Gse=(e,t={message:`Input not instance of ${e.name}`})=>B2(n=>n instanceof e,t),zr=gs.create,ji=Wi.create,Kse=sg.create,Yse=qi.create,Ny=lf.create,Qse=Ka.create,Xse=tg.create,Zse=cf.create,Jse=uf.create,eoe=zc.create,toe=Pa.create,noe=Bo.create,roe=ng.create,soe=xs.create,WS=bt.create,ooe=bt.strictCreate,ioe=df.create,aoe=Ty.create,loe=ff.create,coe=Zs.create,uoe=hf.create,doe=rg.create,foe=Ya.create,hoe=oc.create,poe=pf.create,moe=mf.create,goe=Gi.create,yoe=gf.create,voe=Hc.create,AT=Es.create,_oe=Ws.create,xoe=Ki.create,woe=Es.createWithPreprocess,boe=lh.create,Soe=()=>zr().optional(),Eoe=()=>ji().optional(),koe=()=>Ny().optional(),Coe={string:e=>gs.create({...e,coerce:!0}),number:e=>Wi.create({...e,coerce:!0}),boolean:e=>lf.create({...e,coerce:!0}),bigint:e=>qi.create({...e,coerce:!0}),date:e=>Ka.create({...e,coerce:!0})},Toe=be;var pae=Object.freeze({__proto__:null,defaultErrorMap:Bc,setErrorMap:Nse,getErrorMap:Zm,makeIssue:Jm,EMPTY_PATH:Rse,addIssueToContext:re,ParseStatus:jn,INVALID:be,DIRTY:zl,OK:qn,isAborted:Wx,isDirty:qx,isValid:of,isAsync:af,get util(){return Xe},get objectUtil(){return Vx},ZodParsedType:ae,getParsedType:ci,ZodType:Le,datetimeRegex:$2,ZodString:gs,ZodNumber:Wi,ZodBigInt:qi,ZodBoolean:lf,ZodDate:Ka,ZodSymbol:tg,ZodUndefined:cf,ZodNull:uf,ZodAny:zc,ZodUnknown:Pa,ZodNever:Bo,ZodVoid:ng,ZodArray:xs,ZodObject:bt,ZodUnion:df,ZodDiscriminatedUnion:Ty,ZodIntersection:ff,ZodTuple:Zs,ZodRecord:hf,ZodMap:rg,ZodSet:Ya,ZodFunction:oc,ZodLazy:pf,ZodLiteral:mf,ZodEnum:Gi,ZodNativeEnum:gf,ZodPromise:Hc,ZodEffects:Es,ZodTransformer:Es,ZodOptional:Ws,ZodNullable:Ki,ZodDefault:yf,ZodCatch:vf,ZodNaN:sg,BRAND:Wse,ZodBranded:VS,ZodPipeline:lh,ZodReadonly:_f,custom:B2,Schema:Le,ZodSchema:Le,late:qse,get ZodFirstPartyTypeKind(){return we},coerce:Coe,any:eoe,array:soe,bigint:Yse,boolean:Ny,date:Qse,discriminatedUnion:aoe,effect:AT,enum:goe,function:hoe,instanceof:Gse,intersection:loe,lazy:poe,literal:moe,map:doe,nan:Kse,nativeEnum:yoe,never:noe,null:Jse,nullable:xoe,number:ji,object:WS,oboolean:koe,onumber:Eoe,optional:_oe,ostring:Soe,pipeline:boe,preprocess:woe,promise:voe,record:uoe,set:foe,strictObject:ooe,string:zr,symbol:Xse,transformer:AT,tuple:coe,undefined:Zse,union:ioe,unknown:toe,void:roe,NEVER:Toe,ZodIssueCode:Y,quotelessJson:Tse,ZodError:Sr}),qS="Switch",[Noe,mae]=Jr(qS),[Roe,Aoe]=Noe(qS),z2=m.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:o,required:i,disabled:a,value:l="on",onCheckedChange:u,form:d,...f}=e,[h,p]=m.useState(null),y=Fe(t,x=>p(x)),g=m.useRef(!1),w=h?d||!!h.closest("form"):!0,[_=!1,v]=Gs({prop:s,defaultProp:o,onChange:u});return c.jsxs(Roe,{scope:n,checked:_,disabled:a,children:[c.jsx(he.button,{type:"button",role:"switch","aria-checked":_,"aria-required":i,"data-state":W2(_),"data-disabled":a?"":void 0,disabled:a,value:l,...f,ref:y,onClick:te(e.onClick,x=>{v(b=>!b),w&&(g.current=x.isPropagationStopped(),g.current||x.stopPropagation())})}),w&&c.jsx(Ioe,{control:h,bubbles:!g.current,name:r,value:l,checked:_,required:i,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});z2.displayName=qS;var H2="SwitchThumb",V2=m.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=Aoe(H2,n);return c.jsx(he.span,{"data-state":W2(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});V2.displayName=H2;var Ioe=e=>{const{control:t,checked:n,bubbles:r=!0,...s}=e,o=m.useRef(null),i=xS(n),a=Vb(t);return m.useEffect(()=>{const l=o.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(i!==n&&f){const h=new Event("click",{bubbles:r});f.call(l,n),l.dispatchEvent(h)}},[i,n,r]),c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:o,style:{...e.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function W2(e){return e?"checked":"unchecked"}var q2=z2,joe=V2;const Ry=m.forwardRef(({className:e,...t},n)=>c.jsx(q2,{className:ne("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:c.jsx(joe,{className:ne("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Ry.displayName=q2.displayName;const G2=lse,K2=m.createContext({}),cn=({...e})=>c.jsx(K2.Provider,{value:{name:e.name},children:c.jsx(fse,{...e})}),Ay=()=>{const e=m.useContext(K2),t=m.useContext(Y2),{getFieldState:n,formState:r}=ah(),s=n(e.name,r);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:o}=t;return{id:o,name:e.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...s}},Y2=m.createContext({}),Jt=m.forwardRef(({className:e,...t},n)=>{const r=m.useId();return c.jsx(Y2.Provider,{value:{id:r},children:c.jsx("div",{ref:n,className:ne("space-y-2",e),...t})})});Jt.displayName="FormItem";const Lt=m.forwardRef(({className:e,...t},n)=>{const{error:r,formItemId:s}=Ay();return c.jsx(nc,{ref:n,className:ne(r&&"text-destructive",e),htmlFor:s,...t})});Lt.displayName="FormLabel";const en=m.forwardRef(({...e},t)=>{const{error:n,formItemId:r,formDescriptionId:s,formMessageId:o}=Ay();return c.jsx(Ks,{ref:t,id:r,"aria-describedby":n?`${s} ${o}`:`${s}`,"aria-invalid":!!n,...e})});en.displayName="FormControl";const ps=m.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:r}=Ay();return c.jsx("p",{ref:n,id:r,className:ne("text-sm text-muted-foreground",e),...t})});ps.displayName="FormDescription";const yn=m.forwardRef(({className:e,children:t,...n},r)=>{const{error:s,formMessageId:o}=Ay(),i=s?String(s==null?void 0:s.message):t;return i?c.jsx("p",{ref:r,id:o,className:ne("text-sm font-medium text-destructive",e),...n,children:i}):null});yn.displayName="FormMessage";const Q2=["Goalkeeper","Defender","Midfielder","Attacking Midfielder","Winger","Forward","Striker"],Poe=WS({name:zr().min(1,"Name is required"),country_of_origin:zr().optional(),nationality:zr().optional(),year_of_birth:ji().min(1800).max(new Date().getFullYear()).optional(),date_of_death:zr().optional(),is_active:Ny(),profile_picture_url:zr().optional(),career_start_year:ji().min(1800).max(new Date().getFullYear()).optional(),career_end_year:ji().min(1800).max(new Date().getFullYear()).optional()}).refine(e=>e.career_start_year&&e.career_end_year?e.career_end_year>=e.career_start_year:!0,{message:"Career end year must be greater than or equal to career start year",path:["career_end_year"]}),Ooe=({athlete:e,open:t,onOpenChange:n,onAthleteUpdated:r})=>{const[s,o]=m.useState([]),[i,a]=m.useState(""),[l,u]=m.useState(!1),d=eo(),f=j2({resolver:O2(Poe),defaultValues:{name:"",country_of_origin:"",nationality:"",year_of_birth:void 0,date_of_death:"",is_active:!0,profile_picture_url:"",career_start_year:void 0,career_end_year:void 0}});m.useEffect(()=>{e&&(f.reset({name:e.name||"",country_of_origin:e.country_of_origin||"",nationality:e.nationality||"",year_of_birth:e.year_of_birth||void 0,date_of_death:e.date_of_death||"",is_active:e.is_active,profile_picture_url:e.profile_picture_url||"",career_start_year:e.career_start_year||void 0,career_end_year:e.career_end_year||void 0}),o(e.positions||[]))},[e,f]);const h=()=>{i&&!s.includes(i)&&(o([...s,i]),a(""))},p=g=>{o(s.filter(w=>w!==g))},y=async g=>{try{u(!0);const w={name:g.name,country_of_origin:g.country_of_origin||null,nationality:g.nationality||null,year_of_birth:g.year_of_birth||null,date_of_death:g.date_of_death||null,is_active:g.is_active,positions:s.length>0?s:null,profile_picture_url:g.profile_picture_url||null,career_start_year:g.career_start_year||null,career_end_year:g.career_end_year||null,updated_at:new Date().toISOString()},{error:_}=await Ge.from("athletes").update(w).eq("id",e.id);if(_)throw _;ye.success("Athlete updated successfully!"),d.invalidateQueries({queryKey:["athletesAdmin"]}),d.invalidateQueries({queryKey:["athletes"]}),r()}catch(w){console.error("Error updating athlete:",w),ye.error(w.message||"Failed to update athlete")}finally{u(!1)}};return c.jsx(nh,{open:t,onOpenChange:n,children:c.jsxs(pu,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[c.jsxs(mu,{children:[c.jsx(gu,{children:"Edit Athlete"}),c.jsx(sh,{children:"Update athlete information. All changes will be saved to the database."})]}),c.jsx(G2,{...f,children:c.jsxs("form",{onSubmit:f.handleSubmit(y),className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsx(cn,{control:f.control,name:"name",render:({field:g})=>c.jsxs(Jt,{children:[c.jsx(Lt,{children:"Name *"}),c.jsx(en,{children:c.jsx(Ft,{placeholder:"Athlete full name",...g})}),c.jsx(yn,{})]})}),c.jsx(cn,{control:f.control,name:"country_of_origin",render:({field:g})=>c.jsxs(Jt,{children:[c.jsx(Lt,{children:"Country of Origin"}),c.jsx(en,{children:c.jsx(Ft,{placeholder:"Birth country",...g})}),c.jsx(yn,{})]})}),c.jsx(cn,{control:f.control,name:"nationality",render:({field:g})=>c.jsxs(Jt,{children:[c.jsx(Lt,{children:"Nationality"}),c.jsx(en,{children:c.jsx(Ft,{placeholder:"Nationality",...g})}),c.jsx(yn,{})]})}),c.jsx(cn,{control:f.control,name:"year_of_birth",render:({field:g})=>c.jsxs(Jt,{children:[c.jsx(Lt,{children:"Year of Birth"}),c.jsx(en,{children:c.jsx(Ft,{type:"number",placeholder:"YYYY",min:"1800",max:new Date().getFullYear(),value:g.value||"",onChange:w=>g.onChange(w.target.value?Number(w.target.value):void 0)})}),c.jsx(yn,{})]})}),c.jsx(cn,{control:f.control,name:"career_start_year",render:({field:g})=>c.jsxs(Jt,{children:[c.jsx(Lt,{children:"Career Start Year"}),c.jsx(en,{children:c.jsx(Ft,{type:"number",placeholder:"YYYY",min:"1800",max:new Date().getFullYear(),value:g.value||"",onChange:w=>g.onChange(w.target.value?Number(w.target.value):void 0)})}),c.jsx(ps,{children:"Year the professional career started"}),c.jsx(yn,{})]})}),c.jsx(cn,{control:f.control,name:"career_end_year",render:({field:g})=>c.jsxs(Jt,{children:[c.jsx(Lt,{children:"Career End Year"}),c.jsx(en,{children:c.jsx(Ft,{type:"number",placeholder:"YYYY",min:"1800",max:new Date().getFullYear(),value:g.value||"",onChange:w=>g.onChange(w.target.value?Number(w.target.value):void 0)})}),c.jsx(ps,{children:"Year the professional career ended (leave empty if active)"}),c.jsx(yn,{})]})}),c.jsx(cn,{control:f.control,name:"date_of_death",render:({field:g})=>c.jsxs(Jt,{children:[c.jsx(Lt,{children:"Date of Death"}),c.jsx(en,{children:c.jsx(Ft,{type:"date",...g})}),c.jsx(ps,{children:"Only fill if the athlete is deceased"}),c.jsx(yn,{})]})}),c.jsx(cn,{control:f.control,name:"is_active",render:({field:g})=>c.jsxs(Jt,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx(Lt,{children:"Active Status"}),c.jsx(ps,{children:"Is this athlete currently active?"})]}),c.jsx(en,{children:c.jsx(Ry,{checked:g.value,onCheckedChange:g.onChange})})]})})]}),c.jsx(cn,{control:f.control,name:"profile_picture_url",render:({field:g})=>c.jsxs(Jt,{children:[c.jsx(Lt,{children:"Profile Picture URL"}),c.jsx(en,{children:c.jsx(Ft,{placeholder:"https://example.com/image.jpg",...g})}),c.jsx(ps,{children:"URL to the athlete's profile picture"}),c.jsx(yn,{})]})}),c.jsxs("div",{className:"space-y-3",children:[c.jsx(Lt,{children:"Positions"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(Hi,{value:i,onValueChange:a,children:[c.jsx($o,{className:"flex-1",children:c.jsx(Vi,{placeholder:"Select a position"})}),c.jsx(Uo,{className:"bg-white border border-gray-300 shadow-lg z-50",children:Q2.map(g=>c.jsx(Wt,{value:g,className:"hover:bg-gray-100",children:g},g))})]}),c.jsx(Be,{type:"button",onClick:h,size:"sm",disabled:!i||s.includes(i),children:c.jsx(aM,{className:"h-4 w-4"})})]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:s.map(g=>c.jsxs(Pt,{variant:"secondary",className:"flex items-center gap-1",children:[g,c.jsx(il,{className:"h-3 w-3 cursor-pointer",onClick:()=>p(g)})]},g))})]}),c.jsxs(rh,{children:[c.jsx(Be,{type:"button",variant:"outline",onClick:()=>n(!1),disabled:l,children:"Cancel"}),c.jsx(Be,{type:"submit",disabled:l,children:l?"Updating...":"Update Athlete"})]})]})})]})})},Moe=({athlete:e,open:t,onOpenChange:n,onAthleteDeleted:r})=>{const[s,o]=m.useState(!1),i=eo(),a=async()=>{try{o(!0);const{data:l,error:u}=await Ge.from("ranking_athletes").select("id").eq("athlete_id",e.id).limit(1);if(u)throw u;if(l&&l.length>0){ye.error("Cannot delete athlete: They are used in existing rankings");return}const{error:d}=await Ge.from("athletes").delete().eq("id",e.id);if(d)throw d;ye.success("Athlete deleted successfully!"),i.invalidateQueries({queryKey:["athletesAdmin"]}),i.invalidateQueries({queryKey:["athleteStats"]}),i.invalidateQueries({queryKey:["athletes"]}),r()}catch(l){console.error("Error deleting athlete:",l),ye.error(l.message||"Failed to delete athlete")}finally{o(!1)}};return c.jsx(Op,{open:t,onOpenChange:n,children:c.jsxs(gd,{children:[c.jsxs(yd,{children:[c.jsx(_d,{children:"Delete Athlete"}),c.jsx(xd,{asChild:!0,children:c.jsxs("div",{className:"space-y-4",children:[c.jsx("p",{children:"Are you sure you want to delete this athlete? This action cannot be undone."}),c.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg",children:[c.jsxs(Xf,{className:"h-12 w-12",children:[c.jsx(Zf,{src:e.profile_picture_url||"/placeholder.svg"}),c.jsx(Jf,{children:e.name.substring(0,2).toUpperCase()})]}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"font-semibold",children:e.name}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.country_of_origin," ",e.nationality&&` ${e.nationality}`]}),e.positions&&e.positions.length>0&&c.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:e.positions.map((l,u)=>c.jsx(Pt,{variant:"secondary",className:"text-xs",children:l},u))})]}),c.jsx(Pt,{variant:e.is_active?"default":"secondary",children:e.is_active?"Active":"Inactive"})]}),c.jsx("p",{className:"text-sm text-red-600",children:"Note: If this athlete is used in any rankings, deletion will be prevented."})]})})]}),c.jsxs(vd,{children:[c.jsx(bd,{disabled:s,children:"Cancel"}),c.jsx(wd,{onClick:a,disabled:s,className:"bg-red-600 hover:bg-red-700",children:s?"Deleting...":"Delete"})]})]})})},Doe=()=>{const[e,t]=m.useState(!1);return{enrichAthlete:async(r={})=>{t(!0);try{const{data:{session:s}}=await Ge.auth.getSession();if(!s)return ye.error("You must be logged in to perform this action"),null;const o=r.athleteId?{single_athlete_id:r.athleteId}:r.athleteIds?{athlete_ids:r.athleteIds}:{athlete_ids:null},{data:i,error:a}=await Ge.functions.invoke("enrich-athlete-data",{body:o,headers:{Authorization:`Bearer ${s.access_token}`}});return a?(console.error("Enrichment error:",a),ye.error(`Enrichment scan failed: ${a.message}`),null):i}catch(s){return console.error("Error during enrichment scan:",s),ye.error("Failed to scan for enrichment opportunities"),null}finally{t(!1)}},isEnriching:e}},Loe=({open:e,onOpenChange:t,athleteData:n,onApprovalComplete:r})=>{const[s,o]=m.useState(new Set),[i,a]=m.useState(!1),l=h=>{const p=new Set(s);p.has(h)?p.delete(h):p.add(h),o(p)},u=h=>({country_of_origin:"Country of Origin",nationality:"Nationality",positions:"Positions",profile_picture_url:"Profile Picture"})[h]||h,d=h=>Array.isArray(h)?h.join(", "):h==null?"None":typeof h=="string"&&h.startsWith("http")?"Image URL":h.toString(),f=async()=>{if(!(!n||s.size===0)){a(!0);try{const{data:{session:h}}=await Ge.auth.getSession();if(!h){ye.error("You must be logged in to perform this action");return}const p=n.suggestions.filter(w=>s.has(w.field)),{data:y,error:g}=await Ge.functions.invoke("enrich-athlete-data",{body:{apply_suggestions:{athlete_id:n.athlete_id,suggestions:p}},headers:{Authorization:`Bearer ${h.access_token}`}});if(g){console.error("Error applying suggestions:",g),ye.error(`Failed to apply suggestions: ${g.message}`);return}y!=null&&y.success&&(ye.success(`Successfully applied ${s.size} suggestion(s) to ${n.athlete_name}`),r(),t(!1),o(new Set))}catch(h){console.error("Error during suggestion application:",h),ye.error("Failed to apply suggestions")}finally{a(!1)}}};return n?c.jsx(nh,{open:e,onOpenChange:t,children:c.jsxs(pu,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[c.jsxs(mu,{children:[c.jsxs(gu,{className:"flex items-center gap-2",children:[c.jsx(Lc,{className:"h-5 w-5"}),"Review Data Enrichment for ",n.athlete_name]}),c.jsx(sh,{children:"Review and approve high-quality data suggestions before applying them to the athlete profile. Only validated, high-confidence data is shown."})]}),c.jsxs("div",{className:"space-y-4",children:[n.suggestions.map((h,p)=>c.jsxs(Et,{className:`cursor-pointer transition-all ${s.has(h.field)?"ring-2 ring-blue-500 bg-blue-50":"hover:bg-gray-50"}`,onClick:()=>l(h.field),children:[c.jsx(Xt,{className:"pb-3",children:c.jsxs(Zt,{className:"flex items-center justify-between text-base",children:[c.jsxs("span",{className:"flex items-center gap-2",children:[s.has(h.field)?c.jsx(Dc,{className:"h-4 w-4 text-green-600"}):c.jsx(nZ,{className:"h-4 w-4 text-gray-400"}),u(h.field)]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(Pt,{variant:"outline",className:"text-green-600",children:[h.confidence," confidence"]}),c.jsx(Pt,{variant:"secondary",children:h.source})]})]})}),c.jsxs(kt,{className:"pt-0",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Current Value"}),c.jsx("p",{className:"text-sm bg-gray-100 p-2 rounded",children:d(h.current_value)})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Suggested Value"}),c.jsx("p",{className:"text-sm bg-green-50 p-2 rounded border border-green-200",children:d(h.suggested_value)})]})]}),h.field==="profile_picture_url"&&h.suggested_value&&c.jsxs("div",{className:"mt-3",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600 mb-2",children:"Preview"}),c.jsx("img",{src:h.suggested_value,alt:"Profile preview",className:"w-20 h-20 object-cover rounded border",onError:y=>{y.currentTarget.style.display="none"}})]})]})]},h.field)),n.suggestions.length===0&&c.jsx(Et,{children:c.jsxs(kt,{className:"text-center py-8",children:[c.jsx(rM,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"No high-quality enrichment suggestions found for this athlete."}),c.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"All available data has been validated and meets quality standards."})]})})]}),c.jsxs(rh,{className:"flex justify-between",children:[c.jsxs("div",{className:"text-sm text-gray-600",children:[s.size," of ",n.suggestions.length," suggestions selected"]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Be,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),c.jsx(Be,{onClick:f,disabled:s.size===0||i,children:i?"Applying...":`Apply ${s.size} Suggestion(s)`})]})]})]})}):null},Foe=({searchTerm:e,countryFilter:t,activeFilter:n})=>{var B;const[r,s]=m.useState(0),[o,i]=m.useState(null),[a,l]=m.useState(null),[u,d]=m.useState(null),[f,h]=m.useState(null),[p,y]=m.useState(!1),g=20,{enrichAthlete:w,isEnriching:_}=Doe(),{data:v,isLoading:x,refetch:b}=Qs({queryKey:["athletesAdmin",e,t,n,r],queryFn:async()=>{const{data:L,error:$}=await Ge.rpc("search_athletes_admin",{p_search_term:e||null,p_country_filter:t||null,p_active_filter:n?n==="true":null,p_limit:g,p_offset:r*g});if($)throw $;return L}}),S=v||[],E=((B=S[0])==null?void 0:B.total_count)||0,k=Math.ceil(E/g),C=L=>!L.country_of_origin||!L.nationality||!L.year_of_birth||!L.positions||L.positions.length===0||!L.profile_picture_url||!L.career_start_year||!L.is_active&&!L.career_end_year,T=L=>{i(L)},j=L=>{l(L)},D=async L=>{d(L.id);try{const{data:{session:$}}=await Ge.auth.getSession();if(!$){ye.error("You must be logged in to perform this action");return}const{data:q,error:A}=await Ge.functions.invoke("enrich-athlete-data",{body:{single_athlete_id:L.id},headers:{Authorization:`Bearer ${$.access_token}`}});if(A){console.error("Enrichment error:",A),ye.error(`Enrichment failed: ${A.message}`);return}if(q!=null&&q.athlete_suggestions&&q.athlete_suggestions.length>0){const F=q.athlete_suggestions[0];F.suggestions.length>0?(h(F),y(!0)):ye.info("No high-quality enrichment opportunities found for this athlete")}else ye.info("No enrichment opportunities found for this athlete")}catch($){console.error("Error during enrichment:",$),ye.error("Failed to scan for enrichment opportunities")}finally{d(null)}},P=()=>{b(),i(null),l(null)},U=()=>{b(),y(!1),h(null)};return x?c.jsx("div",{className:"space-y-4",children:[...Array(5)].map((L,$)=>c.jsx("div",{className:"h-16 bg-gray-100 rounded animate-pulse"},$))}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"rounded-md border",children:c.jsxs(Sy,{children:[c.jsx(Ey,{children:c.jsxs(Vs,{children:[c.jsx(St,{className:"w-16",children:"Photo"}),c.jsx(St,{children:"Name"}),c.jsx(St,{children:"Country"}),c.jsx(St,{children:"Nationality"}),c.jsx(St,{children:"Positions"}),c.jsx(St,{children:"Status"}),c.jsx(St,{children:"Birth Year"}),c.jsx(St,{children:"Career Span"}),c.jsx(St,{className:"text-right",children:"Actions"})]})}),c.jsx(ky,{children:S.length===0?c.jsx(Vs,{children:c.jsx(ht,{colSpan:9,className:"text-center py-8",children:"No athletes found matching your criteria."})}):S.map(L=>{var $,q;return c.jsxs(Vs,{children:[c.jsx(ht,{children:c.jsxs(Xf,{className:"h-10 w-10",children:[c.jsx(Zf,{src:L.profile_picture_url||"/placeholder.svg"}),c.jsx(Jf,{children:L.name.substring(0,2).toUpperCase()})]})}),c.jsx(ht,{className:"font-medium",children:L.name}),c.jsx(ht,{children:L.country_of_origin||"N/A"}),c.jsx(ht,{children:L.nationality||"N/A"}),c.jsx(ht,{children:c.jsxs("div",{className:"flex flex-wrap gap-1",children:[($=L.positions)==null?void 0:$.slice(0,2).map((A,F)=>c.jsx(Pt,{variant:"secondary",className:"text-xs",children:A},F)),((q=L.positions)==null?void 0:q.length)>2&&c.jsxs(Pt,{variant:"outline",className:"text-xs",children:["+",L.positions.length-2]}),(!L.positions||L.positions.length===0)&&c.jsx("span",{className:"text-gray-400 text-sm",children:"N/A"})]})}),c.jsx(ht,{children:c.jsx(Pt,{variant:L.is_active?"default":"secondary",children:L.is_active?"Active":"Inactive"})}),c.jsx(ht,{children:L.year_of_birth||"N/A"}),c.jsx(ht,{children:c.jsx("div",{className:"text-sm",children:L.career_start_year||L.career_end_year?c.jsxs("span",{children:[L.career_start_year||"?"," - ",L.career_end_year||(L.is_active?"Present":"?")]}):c.jsx("span",{className:"text-gray-400",children:"N/A"})})}),c.jsx(ht,{className:"text-right",children:c.jsxs("div",{className:"flex justify-end gap-2",children:[C(L)&&c.jsx(Be,{variant:"outline",size:"sm",onClick:()=>D(L),disabled:_||u===L.id,className:"text-blue-600 hover:text-blue-700",title:"Find high-quality data to enrich this athlete's profile",children:c.jsx(Lc,{className:"h-4 w-4"})}),c.jsx(Be,{variant:"outline",size:"sm",onClick:()=>T(L),children:c.jsx(xZ,{className:"h-4 w-4"})}),c.jsx(Be,{variant:"outline",size:"sm",onClick:()=>j(L),className:"text-red-600 hover:text-red-700",children:c.jsx(cM,{className:"h-4 w-4"})})]})})]},L.id)})})]})}),k>1&&c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",r*g+1," to ",Math.min((r+1)*g,E)," of ",E," results"]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(Be,{variant:"outline",size:"sm",onClick:()=>s(r-1),disabled:r===0,children:[c.jsx(QX,{className:"h-4 w-4"}),"Previous"]}),c.jsxs("span",{className:"text-sm",children:["Page ",r+1," of ",k]}),c.jsxs(Be,{variant:"outline",size:"sm",onClick:()=>s(r+1),disabled:r>=k-1,children:["Next",c.jsx(sS,{className:"h-4 w-4"})]})]})]}),o&&c.jsx(Ooe,{athlete:o,open:!!o,onOpenChange:L=>!L&&i(null),onAthleteUpdated:P}),a&&c.jsx(Moe,{athlete:a,open:!!a,onOpenChange:L=>!L&&l(null),onAthleteDeleted:P})]}),c.jsx(Loe,{open:p,onOpenChange:y,athleteData:f,onApprovalComplete:U})]})},$oe=WS({name:zr().min(1,"Name is required"),country_of_origin:zr().optional(),nationality:zr().optional(),year_of_birth:ji().min(1800).max(new Date().getFullYear()).optional(),date_of_death:zr().optional(),is_active:Ny().default(!0),profile_picture_url:zr().optional(),career_start_year:ji().min(1800).max(new Date().getFullYear()).optional(),career_end_year:ji().min(1800).max(new Date().getFullYear()).optional()}).refine(e=>e.career_start_year&&e.career_end_year?e.career_end_year>=e.career_start_year:!0,{message:"Career end year must be greater than or equal to career start year",path:["career_end_year"]}),Uoe=({open:e,onOpenChange:t})=>{const[n,r]=m.useState([]),[s,o]=m.useState(""),[i,a]=m.useState(!1),l=eo(),u=j2({resolver:O2($oe),defaultValues:{name:"",country_of_origin:"",nationality:"",year_of_birth:void 0,date_of_death:"",is_active:!0,profile_picture_url:"",career_start_year:void 0,career_end_year:void 0}}),d=()=>{s&&!n.includes(s)&&(r([...n,s]),o(""))},f=p=>{r(n.filter(y=>y!==p))},h=async p=>{try{a(!0);const y={id:crypto.randomUUID(),name:p.name,country_of_origin:p.country_of_origin||null,nationality:p.nationality||null,year_of_birth:p.year_of_birth||null,date_of_death:p.date_of_death||null,is_active:p.is_active,positions:n.length>0?n:null,profile_picture_url:p.profile_picture_url||null,career_start_year:p.career_start_year||null,career_end_year:p.career_end_year||null},{error:g}=await Ge.from("athletes").insert([y]);if(g)throw g;ye.success("Athlete added successfully!"),l.invalidateQueries({queryKey:["athletesAdmin"]}),l.invalidateQueries({queryKey:["athleteStats"]}),l.invalidateQueries({queryKey:["athletes"]}),u.reset(),r([]),t(!1)}catch(y){console.error("Error adding athlete:",y),ye.error(y.message||"Failed to add athlete")}finally{a(!1)}};return c.jsx(nh,{open:e,onOpenChange:t,children:c.jsxs(pu,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[c.jsxs(mu,{children:[c.jsx(gu,{children:"Add New Athlete"}),c.jsx(sh,{children:"Add a new athlete to the database. Fill in as much information as available."})]}),c.jsx(G2,{...u,children:c.jsxs("form",{onSubmit:u.handleSubmit(h),className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsx(cn,{control:u.control,name:"name",render:({field:p})=>c.jsxs(Jt,{children:[c.jsx(Lt,{children:"Name *"}),c.jsx(en,{children:c.jsx(Ft,{placeholder:"Athlete full name",...p})}),c.jsx(yn,{})]})}),c.jsx(cn,{control:u.control,name:"country_of_origin",render:({field:p})=>c.jsxs(Jt,{children:[c.jsx(Lt,{children:"Country of Origin"}),c.jsx(en,{children:c.jsx(Ft,{placeholder:"Birth country",...p})}),c.jsx(yn,{})]})}),c.jsx(cn,{control:u.control,name:"nationality",render:({field:p})=>c.jsxs(Jt,{children:[c.jsx(Lt,{children:"Nationality"}),c.jsx(en,{children:c.jsx(Ft,{placeholder:"Nationality",...p})}),c.jsx(yn,{})]})}),c.jsx(cn,{control:u.control,name:"year_of_birth",render:({field:p})=>c.jsxs(Jt,{children:[c.jsx(Lt,{children:"Year of Birth"}),c.jsx(en,{children:c.jsx(Ft,{type:"number",placeholder:"YYYY",min:"1800",max:new Date().getFullYear(),value:p.value||"",onChange:y=>p.onChange(y.target.value?Number(y.target.value):void 0)})}),c.jsx(yn,{})]})}),c.jsx(cn,{control:u.control,name:"career_start_year",render:({field:p})=>c.jsxs(Jt,{children:[c.jsx(Lt,{children:"Career Start Year"}),c.jsx(en,{children:c.jsx(Ft,{type:"number",placeholder:"YYYY",min:"1800",max:new Date().getFullYear(),value:p.value||"",onChange:y=>p.onChange(y.target.value?Number(y.target.value):void 0)})}),c.jsx(ps,{children:"Year the professional career started"}),c.jsx(yn,{})]})}),c.jsx(cn,{control:u.control,name:"career_end_year",render:({field:p})=>c.jsxs(Jt,{children:[c.jsx(Lt,{children:"Career End Year"}),c.jsx(en,{children:c.jsx(Ft,{type:"number",placeholder:"YYYY",min:"1800",max:new Date().getFullYear(),value:p.value||"",onChange:y=>p.onChange(y.target.value?Number(y.target.value):void 0)})}),c.jsx(ps,{children:"Year the professional career ended (leave empty if active)"}),c.jsx(yn,{})]})}),c.jsx(cn,{control:u.control,name:"date_of_death",render:({field:p})=>c.jsxs(Jt,{children:[c.jsx(Lt,{children:"Date of Death"}),c.jsx(en,{children:c.jsx(Ft,{type:"date",...p})}),c.jsx(ps,{children:"Only fill if the athlete is deceased"}),c.jsx(yn,{})]})}),c.jsx(cn,{control:u.control,name:"is_active",render:({field:p})=>c.jsxs(Jt,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx(Lt,{children:"Active Status"}),c.jsx(ps,{children:"Is this athlete currently active?"})]}),c.jsx(en,{children:c.jsx(Ry,{checked:p.value,onCheckedChange:p.onChange})})]})})]}),c.jsx(cn,{control:u.control,name:"profile_picture_url",render:({field:p})=>c.jsxs(Jt,{children:[c.jsx(Lt,{children:"Profile Picture URL"}),c.jsx(en,{children:c.jsx(Ft,{placeholder:"https://example.com/image.jpg",...p})}),c.jsx(ps,{children:"URL to the athlete's profile picture"}),c.jsx(yn,{})]})}),c.jsxs("div",{className:"space-y-3",children:[c.jsx(Lt,{children:"Positions"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(Hi,{value:s,onValueChange:o,children:[c.jsx($o,{className:"flex-1",children:c.jsx(Vi,{placeholder:"Select a position"})}),c.jsx(Uo,{className:"bg-white border border-gray-300 shadow-lg z-50",children:Q2.map(p=>c.jsx(Wt,{value:p,className:"hover:bg-gray-100",children:p},p))})]}),c.jsx(Be,{type:"button",onClick:d,size:"sm",disabled:!s||n.includes(s),children:c.jsx(aM,{className:"h-4 w-4"})})]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(p=>c.jsxs(Pt,{variant:"secondary",className:"flex items-center gap-1",children:[p,c.jsx(il,{className:"h-3 w-3 cursor-pointer",onClick:()=>f(p)})]},p))})]}),c.jsxs(rh,{children:[c.jsx(Be,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:i,children:"Cancel"}),c.jsx(Be,{type:"submit",disabled:i,children:i?"Adding...":"Add Athlete"})]})]})})]})})},v0=[{value:"name",label:"Name",required:!0},{value:"country_of_origin",label:"Country of Origin"},{value:"nationality",label:"Nationality"},{value:"date_of_birth",label:"Date of Birth"},{value:"date_of_death",label:"Date of Death"},{value:"is_active",label:"Active Status"},{value:"positions",label:"Positions"},{value:"profile_picture_url",label:"Profile Picture URL"}],Boe=({csvHeaders:e,onMappingComplete:t,onBack:n})=>{const[r,s]=m.useState(()=>{const f={};return e.forEach(h=>{const p=h.toLowerCase().trim();p==="name"||p==="player name"||p==="athlete name"?f[h]="name":p==="country"||p==="country_of_origin"?f[h]="country_of_origin":p==="nationality"?f[h]="nationality":p==="date_of_birth"||p==="birth_date"||p==="dob"?f[h]="date_of_birth":p==="date_of_death"||p==="death_date"?f[h]="date_of_death":p==="is_active"||p==="active"||p==="status"?f[h]="is_active":p==="positions"||p==="position"?f[h]="positions":(p==="profile_picture_url"||p==="image_url"||p==="photo")&&(f[h]="profile_picture_url")}),f}),o=(f,h)=>{s(h==="unmapped"?p=>{const y={...p};return delete y[f],y}:p=>({...p,[f]:h}))},i=()=>Object.values(r),a=f=>i().includes(f),l=()=>i().includes("name"),u=()=>l(),d=()=>{const f={...r};t(f)};return c.jsxs(Et,{children:[c.jsxs(Xt,{children:[c.jsxs(Zt,{className:"flex items-center gap-2",children:[c.jsx(mZ,{className:"h-5 w-5"}),"Map CSV Columns to Database Fields"]}),c.jsx(_s,{children:'Match your CSV columns to the corresponding database fields. The "Name" field is required. Other columns are optional - you can leave them unmapped if not needed.'})]}),c.jsxs(kt,{className:"space-y-6",children:[c.jsx("div",{className:"grid gap-4",children:e.map((f,h)=>{const p=r[f];return v0.find(y=>y.value===p),c.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"font-medium",children:f}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"CSV Column"})]}),c.jsx(WX,{className:"h-4 w-4 text-muted-foreground"}),c.jsxs("div",{className:"flex-1",children:[c.jsxs(Hi,{value:p||"unmapped",onValueChange:y=>o(f,y),children:[c.jsx($o,{children:c.jsx(Vi,{placeholder:"Select database field or leave unmapped"})}),c.jsxs(Uo,{children:[c.jsx(Wt,{value:"unmapped",children:"Leave unmapped"}),v0.map(y=>c.jsxs(Wt,{value:y.value,disabled:y.value!==p&&a(y.value),children:[y.label,y.required&&c.jsx(Pt,{variant:"destructive",className:"ml-2 text-xs",children:"Required"}),y.value!==p&&a(y.value)&&c.jsx(Pt,{variant:"secondary",className:"ml-2 text-xs",children:"Used"})]},y.value))]})]}),!p&&c.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Column will be ignored during import"})]})]},h)})}),!l()&&c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[c.jsx("div",{className:"text-red-800 font-medium",children:"Missing Required Field"}),c.jsx("div",{className:"text-red-600 text-sm",children:'You must map at least one CSV column to the "Name" field to proceed.'})]}),c.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[c.jsx("div",{className:"text-blue-800 font-medium mb-2",children:"Mapping Summary"}),Object.keys(r).length>0?c.jsx("div",{className:"grid grid-cols-2 gap-2 text-sm",children:Object.entries(r).map(([f,h])=>{const p=v0.find(y=>y.value===h);return c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-blue-700",children:f}),c.jsxs("span",{className:"text-blue-600",children:[" ",p==null?void 0:p.label]})]},f)})}):c.jsx("div",{className:"text-blue-600 text-sm",children:"No columns mapped yet"})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx(Be,{variant:"outline",onClick:n,children:"Back to Upload"}),c.jsx(Be,{onClick:d,disabled:!u(),children:"Continue to Preview"})]})]})]})},zoe=({onFileSelect:e})=>{const t=m.useRef(null);return c.jsxs(Et,{children:[c.jsxs(Xt,{children:[c.jsxs(Zt,{className:"flex items-center gap-2",children:[c.jsx(dx,{className:"h-5 w-5"}),"Upload CSV File"]}),c.jsx(_s,{children:"Select your CSV file. We'll detect the columns and let you map them to the appropriate fields."})]}),c.jsx(kt,{children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center cursor-pointer hover:border-gray-400",onClick:()=>{var n;return(n=t.current)==null?void 0:n.click()},children:[c.jsx(aZ,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),c.jsx("p",{className:"text-lg font-medium",children:"Click to select CSV file"}),c.jsx("p",{className:"text-sm text-gray-500",children:"or drag and drop here"})]}),c.jsx("input",{ref:t,type:"file",accept:".csv",onChange:e,className:"hidden"}),c.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[c.jsx("h4",{className:"font-medium mb-2",children:"What happens next:"}),c.jsxs("ol",{className:"text-sm space-y-1 list-decimal list-inside",children:[c.jsx("li",{children:"We'll read your CSV headers"}),c.jsx("li",{children:"You'll map columns to database fields"}),c.jsx("li",{children:"Choose import mode (insert only or update existing)"}),c.jsx("li",{children:"Preview the mapped data"}),c.jsx("li",{children:"Import the athletes"})]})]})]})})]})},Hoe=({updateMode:e,onUpdateModeChange:t,duplicates:n})=>c.jsxs(Et,{children:[c.jsxs(Xt,{children:[c.jsxs(Zt,{className:"flex items-center gap-2",children:[c.jsx(lM,{className:"h-5 w-5"}),"Import Mode"]}),c.jsx(_s,{children:"Choose how to handle duplicate athletes (matched by name)."})]}),c.jsxs(kt,{children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Ry,{id:"update-mode",checked:e,onCheckedChange:t}),c.jsxs(nc,{htmlFor:"update-mode",className:"flex flex-col",children:[c.jsx("span",{className:"font-medium",children:e?"Insert & Update Mode":"Insert Only Mode"}),c.jsx("span",{className:"text-sm text-muted-foreground",children:e?"Update existing athletes with new information from CSV":"Skip existing athletes, only add new ones"})]})]}),n.length>0&&c.jsxs("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded",children:[c.jsxs("p",{className:"text-sm font-medium text-yellow-800",children:[n.length," duplicate athlete(s) detected:"]}),c.jsxs("div",{className:"mt-2 max-h-20 overflow-y-auto",children:[n.slice(0,5).map((r,s)=>c.jsxs("div",{className:"text-sm text-yellow-700 flex items-center gap-2",children:[c.jsx("span",{children:r.name}),c.jsx(Pt,{variant:r.willBeUpdated?"default":"secondary",className:"text-xs",children:r.willBeUpdated?"Will Update":"Will Skip"})]},s)),n.length>5&&c.jsxs("p",{className:"text-xs text-yellow-600 mt-1",children:["... and ",n.length-5," more"]})]})]})]})]}),Voe=({parsedData:e,duplicates:t,updateMode:n})=>c.jsxs(Et,{children:[c.jsxs(Xt,{children:[c.jsxs(Zt,{className:"flex items-center gap-2",children:[c.jsx(Dc,{className:"h-5 w-5 text-green-600"}),"Preview Import Data"]}),c.jsxs(_s,{children:["Review the mapped data before importing. ",e.length," athletes found.",n&&t.length>0&&c.jsxs("span",{className:"block mt-1 text-blue-600",children:[t.filter(r=>r.willBeUpdated).length," athletes will be updated."]})]})]}),c.jsx(kt,{children:c.jsx("div",{className:"max-h-80 overflow-y-auto",children:c.jsxs("div",{className:"grid gap-2",children:[e.slice(0,10).map((r,s)=>{var i;const o=t.some(a=>a.name===r.name);return c.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"font-medium flex items-center gap-2",children:[r.name,o&&c.jsx(Pt,{variant:n?"default":"secondary",className:"text-xs",children:n?"Update":"Skip"})]}),c.jsxs("p",{className:"text-sm text-gray-500",children:[r.country_of_origin,"  ",r.nationality]})]}),c.jsx("div",{className:"flex gap-1",children:(i=r.positions)==null?void 0:i.map((a,l)=>c.jsx(Pt,{variant:"secondary",className:"text-xs",children:a},l))})]},s)}),e.length>10&&c.jsxs("p",{className:"text-center text-sm text-gray-500 py-2",children:["... and ",e.length-10," more athletes"]})]})})})]});function Woe(e,t=[]){let n=[];function r(o,i){const a=m.createContext(i),l=n.length;n=[...n,i];function u(f){const{scope:h,children:p,...y}=f,g=(h==null?void 0:h[e][l])||a,w=m.useMemo(()=>y,Object.values(y));return c.jsx(g.Provider,{value:w,children:p})}function d(f,h){const p=(h==null?void 0:h[e][l])||a,y=m.useContext(p);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const s=()=>{const o=n.map(i=>m.createContext(i));return function(a){const l=(a==null?void 0:a[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[r,qoe(s,...t)]}function qoe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(o)[`__scope${u}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var GS="Progress",KS=100,[Goe,gae]=Woe(GS),[Koe,Yoe]=Goe(GS),X2=m.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:o=Qoe,...i}=e;(s||s===0)&&!IT(s)&&console.error(Xoe(`${s}`,"Progress"));const a=IT(s)?s:KS;r!==null&&!jT(r,a)&&console.error(Zoe(`${r}`,"Progress"));const l=jT(r,a)?r:null,u=og(l)?o(l,a):void 0;return c.jsx(Koe,{scope:n,value:l,max:a,children:c.jsx(he.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":og(l)?l:void 0,"aria-valuetext":u,role:"progressbar","data-state":eF(l,a),"data-value":l??void 0,"data-max":a,...i,ref:t})})});X2.displayName=GS;var Z2="ProgressIndicator",J2=m.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,s=Yoe(Z2,n);return c.jsx(he.div,{"data-state":eF(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:t})});J2.displayName=Z2;function Qoe(e,t){return`${Math.round(e/t*100)}%`}function eF(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function og(e){return typeof e=="number"}function IT(e){return og(e)&&!isNaN(e)&&e>0}function jT(e,t){return og(e)&&!isNaN(e)&&e<=t&&e>=0}function Xoe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${KS}\`.`}function Zoe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${KS} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var tF=X2,Joe=J2;const YS=m.forwardRef(({className:e,value:t,...n},r)=>c.jsx(tF,{ref:r,className:ne("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:c.jsx(Joe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));YS.displayName=tF.displayName;const eie=({progress:e,parsedDataLength:t,updateMode:n})=>c.jsxs(Et,{children:[c.jsxs(Xt,{children:[c.jsx(Zt,{children:"Importing Athletes..."}),c.jsx(_s,{children:"Please wait while we process your data."})]}),c.jsx(kt,{children:c.jsxs("div",{className:"space-y-4",children:[c.jsx(YS,{value:e,className:"w-full"}),c.jsxs("p",{className:"text-sm text-center",children:["Processing ",t," athletes in ",n?"update":"insert-only"," mode..."]})]})})]}),tie=({importResult:e,updateMode:t})=>c.jsxs(Et,{children:[c.jsx(Xt,{children:c.jsxs(Zt,{className:"flex items-center gap-2",children:[c.jsx(Dc,{className:"h-5 w-5 text-green-600"}),"Import Complete"]})}),c.jsx(kt,{children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-4 gap-4 text-center",children:[c.jsxs("div",{className:"bg-green-50 p-4 rounded",children:[c.jsx("p",{className:"text-2xl font-bold text-green-600",children:e.inserted_count}),c.jsx("p",{className:"text-sm text-green-700",children:"Inserted"})]}),t&&c.jsxs("div",{className:"bg-blue-50 p-4 rounded",children:[c.jsx("p",{className:"text-2xl font-bold text-blue-600",children:e.updated_count}),c.jsx("p",{className:"text-sm text-blue-700",children:"Updated"})]}),c.jsxs("div",{className:"bg-yellow-50 p-4 rounded",children:[c.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:e.skipped_count}),c.jsx("p",{className:"text-sm text-yellow-700",children:"Skipped"})]}),c.jsxs("div",{className:"bg-red-50 p-4 rounded",children:[c.jsx("p",{className:"text-2xl font-bold text-red-600",children:e.errors.length}),c.jsx("p",{className:"text-sm text-red-700",children:"Errors"})]})]}),e.errors.length>0&&c.jsxs("div",{className:"bg-red-50 p-4 rounded",children:[c.jsxs("h4",{className:"font-medium text-red-800 mb-2 flex items-center gap-2",children:[c.jsx(ZX,{className:"h-4 w-4"}),"Import Errors:"]}),c.jsx("ul",{className:"text-sm text-red-700 space-y-1",children:e.errors.map((n,r)=>c.jsxs("li",{children:[" ",n]},r))})]})]})})]}),nie=async e=>{const n=(await e.text()).split(`
`).filter(o=>o.trim());if(n.length<2)throw new Error("CSV file must have a header row and at least one data row");const r=n[0].split(",").map(o=>o.trim().replace(/^"|"$/g,"")),s=n.slice(1).map(o=>o.split(",").map(i=>i.trim().replace(/^"|"$/g,"")));return{headers:r,data:s}},rie=(e,t,n)=>{const r=[];for(const s of t){if(s.length<e.length)continue;const o={name:""};e.forEach((i,a)=>{var d;const l=n[i],u=(d=s[a])==null?void 0:d.trim();if(!(!u||l==="skip"))switch(l){case"name":o.name=u;break;case"country_of_origin":o.country_of_origin=u;break;case"nationality":o.nationality=u;break;case"date_of_birth":o.date_of_birth=u;break;case"date_of_death":o.date_of_death=u;break;case"is_active":o.is_active=u.toLowerCase()==="true"||u.toLowerCase()==="yes"||u==="1";break;case"positions":o.positions=u.split(";").map(f=>f.trim()).filter(Boolean);break;case"profile_picture_url":o.profile_picture_url=u;break}}),o.name&&r.push(o)}return r},sie=async(e,t)=>{const n=e.map(i=>i.name),{data:r,error:s}=await Ge.from("athletes").select("name").in("name",n);if(s)throw s;const o=new Set((r==null?void 0:r.map(i=>i.name))||[]);return e.filter(i=>o.has(i.name)).map(i=>({name:i.name,willBeUpdated:t}))},oie=async(e,t)=>{const n=e.map(o=>({id:crypto.randomUUID(),name:o.name,country_of_origin:o.country_of_origin||null,nationality:o.nationality||null,date_of_birth:o.date_of_birth||null,date_of_death:o.date_of_death||null,is_active:o.is_active!==void 0?o.is_active:!0,positions:o.positions&&Array.isArray(o.positions)&&o.positions.length>0?o.positions.filter(i=>i&&i.trim()!==""):null,profile_picture_url:o.profile_picture_url||null})),{data:r,error:s}=await Ge.rpc("bulk_insert_athletes",{p_athletes:n,p_update_mode:t});if(s)throw s;return r[0]},iie=()=>{const[e,t]=m.useState(null),[n,r]=m.useState([]),[s,o]=m.useState([]),[i,a]=m.useState({}),[l,u]=m.useState([]),[d,f]=m.useState([]),[h,p]=m.useState(!1),[y,g]=m.useState(null),[w,_]=m.useState(!1),[v,x]=m.useState(0),[b,S]=m.useState("upload"),E=m.useRef(null),k=eo(),C=async B=>{try{_(!0),x(10);const{headers:L,data:$}=await nie(B);r(L),o($),S("mapping"),x(100),ye.success(`CSV file loaded successfully. Found ${L.length} columns and ${$.length} rows.`)}catch(L){console.error("Error parsing CSV:",L),ye.error(L.message||"Failed to parse CSV file"),x(0),S("upload")}finally{_(!1)}},T=async B=>{try{_(!0),x(10);const L=rie(n,s,B);x(50);const $=await sie(L,h);f($),x(80),u(L),S("preview"),x(100),ye.success(`Successfully parsed ${L.length} athletes from CSV. ${$.length} duplicates detected.`)}catch(L){console.error("Error parsing data with mapping:",L),ye.error(L.message||"Failed to parse CSV data"),x(0),S("mapping")}finally{_(!1)}};return{file:e,setFile:t,csvHeaders:n,csvData:s,columnMapping:i,parsedData:l,duplicates:d,updateMode:h,importResult:y,isProcessing:w,progress:v,step:b,setStep:S,parseCSVHeaders:C,handleMappingComplete:B=>{a(B),T(B)},handleUpdateModeChange:B=>{p(B),f(L=>L.map($=>({...$,willBeUpdated:B})))},handleImport:async()=>{try{_(!0),S("import"),x(0),x(25);const B=await oie(l,h);x(75),g(B),S("complete"),x(100),k.invalidateQueries({queryKey:["athletesAdmin"]}),k.invalidateQueries({queryKey:["athleteStats"]}),k.invalidateQueries({queryKey:["athletes"]});const L=h?`Import completed! Added ${B.inserted_count} new athletes, updated ${B.updated_count} existing athletes, skipped ${B.skipped_count}`:`Import completed! Added ${B.inserted_count} athletes, skipped ${B.skipped_count} duplicates`;ye.success(L)}catch(B){console.error("Error importing athletes:",B),ye.error(B.message||"Failed to import athletes"),x(0),S("preview")}finally{_(!1)}},resetDialog:()=>{t(null),r([]),o([]),a({}),u([]),f([]),p(!1),g(null),_(!1),x(0),S("upload"),E.current&&(E.current.value="")}}},aie=({open:e,onOpenChange:t})=>{const{csvHeaders:n,parsedData:r,duplicates:s,updateMode:o,importResult:i,isProcessing:a,progress:l,step:u,setStep:d,parseCSVHeaders:f,handleMappingComplete:h,handleUpdateModeChange:p,handleImport:y,resetDialog:g}=iie(),w=b=>{var E;const S=(E=b.target.files)==null?void 0:E[0];S&&S.type==="text/csv"?f(S):ye.error("Please select a valid CSV file")},_=()=>{g(),t(!1)},v=()=>{d("upload")},x=()=>{d("mapping")};return c.jsx(nh,{open:e,onOpenChange:_,children:c.jsxs(pu,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[c.jsxs(mu,{children:[c.jsx(gu,{children:"Bulk Import Athletes from CSV"}),c.jsx(sh,{children:"Upload a CSV file to import multiple athletes at once. You can choose to update existing athletes or insert only new ones."})]}),c.jsxs("div",{className:"space-y-6",children:[u==="upload"&&c.jsx(zoe,{onFileSelect:w}),u==="mapping"&&c.jsx(Boe,{csvHeaders:n,onMappingComplete:h,onBack:v}),u==="preview"&&c.jsxs("div",{className:"space-y-4",children:[c.jsx(Hoe,{updateMode:o,onUpdateModeChange:p,duplicates:s}),c.jsx(Voe,{parsedData:r,duplicates:s,updateMode:o})]}),u==="import"&&c.jsx(eie,{progress:l,parsedDataLength:r.length,updateMode:o}),u==="complete"&&i&&c.jsx(tie,{importResult:i,updateMode:o})]}),c.jsxs(rh,{children:[u==="upload"&&c.jsx(Be,{variant:"outline",onClick:_,children:"Cancel"}),u==="preview"&&c.jsxs(c.Fragment,{children:[c.jsx(Be,{variant:"outline",onClick:x,children:"Back to Mapping"}),c.jsxs(Be,{onClick:y,disabled:a,children:[o?"Import & Update":"Import New Only"," (",r.length," Athletes)"]})]}),u==="complete"&&c.jsxs(c.Fragment,{children:[c.jsx(Be,{variant:"outline",onClick:g,children:"Import Another File"}),c.jsx(Be,{onClick:_,children:"Done"})]})]})]})})};var QS="Checkbox",[lie,yae]=Jr(QS),[cie,uie]=lie(QS),nF=m.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:o,required:i,disabled:a,value:l="on",onCheckedChange:u,form:d,...f}=e,[h,p]=m.useState(null),y=Fe(t,b=>p(b)),g=m.useRef(!1),w=h?d||!!h.closest("form"):!0,[_=!1,v]=Gs({prop:s,defaultProp:o,onChange:u}),x=m.useRef(_);return m.useEffect(()=>{const b=h==null?void 0:h.form;if(b){const S=()=>v(x.current);return b.addEventListener("reset",S),()=>b.removeEventListener("reset",S)}},[h,v]),c.jsxs(cie,{scope:n,state:_,disabled:a,children:[c.jsx(he.button,{type:"button",role:"checkbox","aria-checked":Pi(_)?"mixed":_,"aria-required":i,"data-state":oF(_),"data-disabled":a?"":void 0,disabled:a,value:l,...f,ref:y,onKeyDown:te(e.onKeyDown,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:te(e.onClick,b=>{v(S=>Pi(S)?!0:!S),w&&(g.current=b.isPropagationStopped(),g.current||b.stopPropagation())})}),w&&c.jsx(die,{control:h,bubbles:!g.current,name:r,value:l,checked:_,required:i,disabled:a,form:d,style:{transform:"translateX(-100%)"},defaultChecked:Pi(o)?!1:o})]})});nF.displayName=QS;var rF="CheckboxIndicator",sF=m.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,o=uie(rF,n);return c.jsx(wn,{present:r||Pi(o.state)||o.state===!0,children:c.jsx(he.span,{"data-state":oF(o.state),"data-disabled":o.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});sF.displayName=rF;var die=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:s,...o}=e,i=m.useRef(null),a=xS(n),l=Vb(t);m.useEffect(()=>{const d=i.current,f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(a!==n&&p){const y=new Event("click",{bubbles:r});d.indeterminate=Pi(n),p.call(d,Pi(n)?!1:n),d.dispatchEvent(y)}},[a,n,r]);const u=m.useRef(Pi(n)?!1:n);return c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...o,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Pi(e){return e==="indeterminate"}function oF(e){return Pi(e)?"indeterminate":e?"checked":"unchecked"}var iF=nF,fie=sF;const Kx=m.forwardRef(({className:e,...t},n)=>c.jsx(iF,{ref:n,className:ne("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:c.jsx(fie,{className:ne("flex items-center justify-center text-current"),children:c.jsx(rf,{className:"h-4 w-4"})})}));Kx.displayName=iF.displayName;const hie=({suggestions:e,onBulkApprovalComplete:t})=>{const[n,r]=m.useState(()=>{const b=[];return e.forEach(S=>{S.suggestions.forEach((E,k)=>{b.push({...E,athlete_id:S.athlete_id,athlete_name:S.athlete_name,selected:!1,id:`${S.athlete_id}-${E.field}-${k}`})})}),b}),[s,o]=m.useState("all"),[i,a]=m.useState("all"),[l,u]=m.useState(!1),d=n.filter(b=>!(s!=="all"&&b.field!==s||i!=="all"&&b.confidence!==i)),f=d.filter(b=>b.selected).length,h=d.length,p=b=>{r(S=>S.map(E=>({...E,selected:d.some(k=>k.id===E.id)?b:E.selected})))},y=(b,S)=>{r(E=>E.map(k=>k.id===b?{...k,selected:S}:k))},g=async()=>{var S,E;const b=n.filter(k=>k.selected);if(b.length===0){ye.error("Please select at least one suggestion to apply");return}u(!0);try{const{data:{session:k}}=await Ge.auth.getSession();if(!k){ye.error("You must be logged in to perform this action");return}const C=b.reduce((P,U)=>(P[U.athlete_id]||(P[U.athlete_id]=[]),P[U.athlete_id].push({field:U.field,suggested_value:U.suggested_value,confidence:U.confidence,source:U.source}),P),{});let T=0,j=0;const D=[];for(const[P,U]of Object.entries(C))try{const{error:B}=await Ge.functions.invoke("enrich-athlete-data",{body:{apply_suggestions:{athlete_id:P,suggestions:U}},headers:{Authorization:`Bearer ${k.access_token}`}});B?(j++,D.push(`Error updating ${(S=b.find(L=>L.athlete_id===P))==null?void 0:S.athlete_name}: ${B.message}`)):T++}catch(B){j++,D.push(`Error updating ${(E=b.find(L=>L.athlete_id===P))==null?void 0:E.athlete_name}: ${B}`)}T>0&&ye.success(`Successfully applied enrichment to ${T} athlete(s)`),j>0&&(ye.error(`Failed to apply enrichment to ${j} athlete(s)`),D.forEach(P=>console.error(P))),t()}catch(k){console.error("Bulk apply error:",k),ye.error("Failed to apply bulk enrichment")}finally{u(!1)}},w=[...new Set(n.map(b=>b.field))],_=["high","medium","low"],v=b=>({country_of_origin:"Country of Origin",nationality:"Nationality",positions:"Positions",profile_picture_url:"Profile Picture"})[b]||b,x=(b,S)=>S==="positions"&&Array.isArray(b)?b.join(", "):S==="profile_picture_url"&&b?b.length>50?`${b.substring(0,50)}...`:b:b||"N/A";return c.jsxs(Et,{className:"w-full",children:[c.jsxs(Xt,{children:[c.jsxs(Zt,{className:"flex items-center gap-2",children:[c.jsx(Lc,{className:"h-5 w-5"}),"Bulk Enrichment Approval"]}),c.jsx(_s,{children:"Review and approve multiple enrichment suggestions at once across all athletes."})]}),c.jsxs(kt,{className:"space-y-4",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[c.jsxs("div",{className:"flex gap-4 items-center",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(oS,{className:"h-4 w-4"}),c.jsxs(Hi,{value:s,onValueChange:o,children:[c.jsx($o,{className:"w-40",children:c.jsx(Vi,{placeholder:"Filter by field"})}),c.jsxs(Uo,{children:[c.jsx(Wt,{value:"all",children:"All Fields"}),w.map(b=>c.jsx(Wt,{value:b,children:v(b)},b))]})]})]}),c.jsxs(Hi,{value:i,onValueChange:a,children:[c.jsx($o,{className:"w-40",children:c.jsx(Vi,{placeholder:"Filter by confidence"})}),c.jsxs(Uo,{children:[c.jsx(Wt,{value:"all",children:"All Confidence"}),_.map(b=>c.jsx(Wt,{value:b,children:b.charAt(0).toUpperCase()+b.slice(1)},b))]})]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("span",{className:"text-sm text-muted-foreground",children:[f," of ",h," selected"]}),c.jsxs(Be,{onClick:g,disabled:f===0||l,className:"flex items-center gap-2",children:[l?c.jsx(oM,{className:"h-4 w-4 animate-spin"}):c.jsx(Dc,{className:"h-4 w-4"}),l?"Applying...":`Apply Selected (${f})`]})]})]}),c.jsx("div",{className:"rounded-md border",children:c.jsxs(Sy,{children:[c.jsx(Ey,{children:c.jsxs(Vs,{children:[c.jsx(St,{className:"w-12",children:c.jsx(Kx,{checked:f===h&&h>0,onCheckedChange:p})}),c.jsx(St,{children:"Athlete"}),c.jsx(St,{children:"Field"}),c.jsx(St,{children:"Current Value"}),c.jsx(St,{children:"Suggested Value"}),c.jsx(St,{children:"Confidence"}),c.jsx(St,{children:"Source"})]})}),c.jsx(ky,{children:d.length===0?c.jsx(Vs,{children:c.jsx(ht,{colSpan:7,className:"text-center py-8",children:"No enrichment suggestions found matching your filters."})}):d.map(b=>c.jsxs(Vs,{children:[c.jsx(ht,{children:c.jsx(Kx,{checked:b.selected,onCheckedChange:S=>y(b.id,S)})}),c.jsx(ht,{className:"font-medium",children:b.athlete_name}),c.jsx(ht,{children:c.jsx(Pt,{variant:"outline",children:v(b.field)})}),c.jsx(ht,{className:"max-w-xs truncate",children:x(b.current_value,b.field)}),c.jsx(ht,{className:"max-w-xs truncate font-medium text-green-600",children:x(b.suggested_value,b.field)}),c.jsx(ht,{children:c.jsx(Pt,{variant:b.confidence==="high"?"default":b.confidence==="medium"?"secondary":"outline",children:b.confidence})}),c.jsx(ht,{children:c.jsx(Pt,{variant:"outline",children:b.source})})]},b.id))})]})}),d.length>0&&c.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted rounded-lg",children:[c.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",d.length," enrichment opportunities across ",[...new Set(d.map(b=>b.athlete_id))].length," athletes"]}),c.jsx("div",{className:"text-sm font-medium",children:f>0&&`${f} suggestions selected for application`})]})]})]})},pie=({onEnrichmentComplete:e})=>{const[t,n]=m.useState(!1),[r,s]=m.useState(null),[o,i]=m.useState(0),[a,l]=m.useState(!1),u=async()=>{n(!0),s(null),i(0),l(!1);try{const{data:{session:f}}=await Ge.auth.getSession();if(!f){ye.error("You must be logged in to perform this action");return}ye.info("Scanning for high-quality enrichment opportunities...");const{data:h,error:p}=await Ge.functions.invoke("enrich-athlete-data",{body:{athlete_ids:null},headers:{Authorization:`Bearer ${f.access_token}`}});if(p){console.error("Enrichment error:",p),ye.error(`Enrichment scan failed: ${p.message}`);return}s(h),i(100),h.suggestions_found>0?(ye.success(`Found ${h.suggestions_found} athletes with high-quality enrichment opportunities!`),l(!0)):ye.info("No new high-quality enrichment opportunities found")}catch(f){console.error("Error during enrichment:",f),ye.error("Failed to scan for enrichment opportunities")}finally{n(!1)}},d=()=>{e==null||e(),l(!1),u()};return a&&(r!=null&&r.athlete_suggestions)?c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsx(Be,{variant:"outline",onClick:()=>l(!1),children:" Back to Scan Results"})}),c.jsx(hie,{suggestions:r.athlete_suggestions,onBulkApprovalComplete:d})]}):c.jsxs(Et,{className:"w-full",children:[c.jsxs(Xt,{children:[c.jsxs(Zt,{className:"flex items-center gap-2",children:[c.jsx(Lc,{className:"h-5 w-5"}),"High-Quality Data Enrichment"]}),c.jsx(_s,{children:"Scan for high-quality enrichment opportunities and approve them in bulk. Only validated, high-confidence data from trusted sources will be suggested."})]}),c.jsxs(kt,{className:"space-y-4",children:[c.jsx("div",{className:"flex gap-4 flex-wrap",children:c.jsxs(Be,{onClick:u,disabled:t,className:"flex items-center gap-2",children:[t?c.jsx(oM,{className:"h-4 w-4 animate-spin"}):c.jsx(lM,{className:"h-4 w-4"}),t?"Scanning...":"Scan for Opportunities"]})}),t&&c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{children:"Scanning for high-quality enrichment opportunities..."}),c.jsxs("span",{children:[o,"%"]})]}),c.jsx(YS,{value:o,className:"w-full"})]}),r&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsx(Et,{children:c.jsx(kt,{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Dc,{className:"h-4 w-4 text-blue-600"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium",children:"Athletes Scanned"}),c.jsx("p",{className:"text-2xl font-bold",children:r.processed})]})]})})}),c.jsx(Et,{children:c.jsx(kt,{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Lc,{className:"h-4 w-4 text-green-600"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium",children:"Enrichment Opportunities"}),c.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.suggestions_found})]})]})})}),c.jsx(Et,{children:c.jsx(kt,{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(rM,{className:"h-4 w-4 text-purple-600"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium",children:"Total Suggestions"}),c.jsx("p",{className:"text-2xl font-bold text-purple-600",children:r.athlete_suggestions.reduce((f,h)=>f+h.suggestions.length,0)})]})]})})})]}),r.athlete_suggestions.length>0&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h4",{className:"font-medium text-green-600",children:"Athletes with High-Quality Enrichment Opportunities"}),c.jsxs(Be,{onClick:()=>l(!0),className:"flex items-center gap-2 bg-green-600 hover:bg-green-700",children:[c.jsx(Dc,{className:"h-4 w-4"}),"Review & Apply All (",r.athlete_suggestions.reduce((f,h)=>f+h.suggestions.length,0)," suggestions)"]})]}),c.jsx("div",{className:"space-y-2",children:r.athlete_suggestions.map((f,h)=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded border border-green-200",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"font-medium",children:f.athlete_name}),c.jsxs(Pt,{variant:"outline",className:"text-green-600",children:[f.suggestions.length," high-quality suggestion(s)"]})]}),c.jsx("div",{className:"text-sm text-muted-foreground",children:f.suggestions.map(p=>p.field).join(", ")})]},h))})]}),r.errors.length>0&&c.jsxs("div",{className:"space-y-2",children:[c.jsx("h4",{className:"font-medium text-red-600",children:"Processing Errors"}),c.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1",children:r.errors.map((f,h)=>c.jsx("p",{className:"text-sm text-red-600 bg-red-50 p-2 rounded",children:f},h))})]})]})]})]})},mie=()=>{const[e,t]=m.useState(""),[n,r]=m.useState("all"),[s,o]=m.useState("all"),[i,a]=m.useState(!1),[l,u]=m.useState(!1),{data:d,isLoading:f,refetch:h}=Qs({queryKey:["athleteStats"],queryFn:async()=>{const{count:w,error:_}=await Ge.from("athletes").select("*",{count:"exact",head:!0});if(_)throw _;const{count:v,error:x}=await Ge.from("athletes").select("*",{count:"exact",head:!0}).eq("is_active",!0);if(x)throw x;const{count:b,error:S}=await Ge.from("athletes").select("*",{count:"exact",head:!0}).eq("is_active",!1);if(S)throw S;const{data:E,error:k}=await Ge.from("athletes").select("country_of_origin").not("country_of_origin","is",null);if(k)throw k;const C=new Set(E.map(B=>B.country_of_origin)),{data:T,error:j}=await Ge.from("athletes").select("positions").not("positions","is",null);if(j)throw j;const D=new Set;T.forEach(B=>{B.positions&&B.positions.forEach(L=>D.add(L))});const{count:P,error:U}=await Ge.from("athletes").select("*",{count:"exact",head:!0}).or("country_of_origin.is.null,nationality.is.null,year_of_birth.is.null,positions.is.null,profile_picture_url.is.null");if(U)throw U;return{total_athletes:w||0,active_athletes:v||0,inactive_athletes:b||0,countries_count:C.size,positions_count:D.size,missing_data_count:P||0}}}),{data:p}=Qs({queryKey:["athleteCountries"],queryFn:async()=>{const{data:w,error:_}=await Ge.from("athletes").select("country_of_origin").not("country_of_origin","is",null).order("country_of_origin");if(_)throw _;return[...new Set(w.map(x=>x.country_of_origin))].filter(Boolean).sort()}}),y=()=>{t(""),r("all"),o("all")},g=()=>{h(),ye.success("Athlete data has been refreshed")};return c.jsxs("div",{className:"space-y-8 p-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:"Athlete Management"}),c.jsx("p",{className:"text-muted-foreground",children:"Manage athletes, add new ones, import bulk data, and enrich missing information."})]}),c.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-6",children:[c.jsxs(Et,{children:[c.jsxs(Xt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(Zt,{className:"text-sm font-medium",children:"Total Athletes"}),c.jsx(iS,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsx(kt,{children:c.jsx("div",{className:"text-2xl font-bold",children:f?"...":(d==null?void 0:d.total_athletes)||0})})]}),c.jsxs(Et,{children:[c.jsxs(Xt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(Zt,{className:"text-sm font-medium",children:"Active Athletes"}),c.jsx(Pt,{variant:"secondary",className:"bg-green-100 text-green-800",children:"Active"})]}),c.jsx(kt,{children:c.jsx("div",{className:"text-2xl font-bold",children:f?"...":(d==null?void 0:d.active_athletes)||0})})]}),c.jsxs(Et,{children:[c.jsxs(Xt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(Zt,{className:"text-sm font-medium",children:"Inactive Athletes"}),c.jsx(Pt,{variant:"secondary",className:"bg-gray-100 text-gray-800",children:"Inactive"})]}),c.jsx(kt,{children:c.jsx("div",{className:"text-2xl font-bold",children:f?"...":(d==null?void 0:d.inactive_athletes)||0})})]}),c.jsxs(Et,{children:[c.jsxs(Xt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(Zt,{className:"text-sm font-medium",children:"Countries"}),c.jsx(oS,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsx(kt,{children:c.jsx("div",{className:"text-2xl font-bold",children:f?"...":(d==null?void 0:d.countries_count)||0})})]}),c.jsxs(Et,{children:[c.jsxs(Xt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(Zt,{className:"text-sm font-medium",children:"Positions"}),c.jsx(Pt,{variant:"outline",children:"Roles"})]}),c.jsx(kt,{children:c.jsx("div",{className:"text-2xl font-bold",children:f?"...":(d==null?void 0:d.positions_count)||0})})]}),c.jsxs(Et,{children:[c.jsxs(Xt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(Zt,{className:"text-sm font-medium",children:"Missing Data"}),c.jsx(Lc,{className:"h-4 w-4 text-orange-600"})]}),c.jsx(kt,{children:c.jsx("div",{className:"text-2xl font-bold text-orange-600",children:f?"...":(d==null?void 0:d.missing_data_count)||0})})]})]}),c.jsxs(ose,{defaultValue:"athletes",className:"w-full",children:[c.jsxs(p2,{className:"grid w-full grid-cols-3",children:[c.jsx(Dp,{value:"athletes",children:"Athletes Database"}),c.jsx(Dp,{value:"enrichment",children:"Data Enrichment"}),c.jsx(Dp,{value:"import",children:"Bulk Import"})]}),c.jsxs(Lp,{value:"athletes",className:"space-y-6",children:[c.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:c.jsxs(Be,{onClick:()=>a(!0),className:"flex items-center gap-2",children:[c.jsx(dM,{className:"h-4 w-4"}),"Add New Athlete"]})}),c.jsxs(Et,{children:[c.jsxs(Xt,{children:[c.jsxs(Zt,{className:"flex items-center gap-2",children:[c.jsx(_Z,{className:"h-5 w-5"}),"Search & Filter Athletes"]}),c.jsx(_s,{children:"Search by name, country, nationality, or position. Use filters to narrow down results."})]}),c.jsx(kt,{className:"space-y-4",children:c.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[c.jsx("div",{className:"flex-1",children:c.jsx(Ft,{placeholder:"Search athletes...",value:e,onChange:w=>t(w.target.value),className:"w-full"})}),c.jsxs(Hi,{value:n,onValueChange:r,children:[c.jsx($o,{className:"w-full md:w-[200px]",children:c.jsx(Vi,{placeholder:"Filter by country"})}),c.jsxs(Uo,{children:[c.jsx(Wt,{value:"all",children:"All Countries"}),p==null?void 0:p.map(w=>c.jsx(Wt,{value:w,children:w},w))]})]}),c.jsxs(Hi,{value:s,onValueChange:o,children:[c.jsx($o,{className:"w-full md:w-[150px]",children:c.jsx(Vi,{placeholder:"Filter by status"})}),c.jsxs(Uo,{children:[c.jsx(Wt,{value:"all",children:"All Status"}),c.jsx(Wt,{value:"true",children:"Active"}),c.jsx(Wt,{value:"false",children:"Inactive"})]})]}),c.jsx(Be,{variant:"outline",onClick:y,children:"Clear Filters"})]})})]}),c.jsxs(Et,{children:[c.jsxs(Xt,{children:[c.jsx(Zt,{children:"Athletes Database"}),c.jsx(_s,{children:"View and manage all athletes in the system."})]}),c.jsx(kt,{children:c.jsx(Foe,{searchTerm:e,countryFilter:n==="all"?"":n,activeFilter:s==="all"?"":s})})]})]}),c.jsx(Lp,{value:"enrichment",className:"space-y-6",children:c.jsx(pie,{onEnrichmentComplete:g})}),c.jsx(Lp,{value:"import",className:"space-y-6",children:c.jsxs(Et,{children:[c.jsxs(Xt,{children:[c.jsxs(Zt,{className:"flex items-center gap-2",children:[c.jsx(dx,{className:"h-5 w-5"}),"Bulk Import Athletes"]}),c.jsx(_s,{children:"Import multiple athletes from CSV files with automatic data validation."})]}),c.jsx(kt,{children:c.jsxs(Be,{onClick:()=>u(!0),className:"flex items-center gap-2",children:[c.jsx(dx,{className:"h-4 w-4"}),"Import from CSV"]})})]})})]}),c.jsx(Uoe,{open:i,onOpenChange:a}),c.jsx(aie,{open:l,onOpenChange:u})]})};console.log("LazyComponents.tsx: Starting to load");const gie=m.lazy(()=>(console.log("LazyComponents.tsx: Loading Index page"),Ot(()=>import("./Index-Bdu0bFdN.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9])).catch(e=>(console.error("LazyComponents.tsx: Failed to load Index page:",e),{default:()=>c.jsxs("div",{className:"container mx-auto px-4 py-8 text-center text-white",children:[c.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Welcome to WoDaGOAT"}),c.jsx("p",{children:"Loading error occurred. Please refresh the page."})]})})))),yie=m.lazy(()=>(console.log(" LazyComponents.tsx: Loading CategoryPage"),Ot(()=>import("./CategoryPage-BtrP2sPe.js"),__vite__mapDeps([10,1,2,3,4,5,6,7,8,11,12])).catch(e=>(console.error(" LazyComponents.tsx: Failed to load CategoryPage:",e),{default:()=>c.jsx("div",{children:"Error loading CategoryPage"})})))),vie=m.lazy(()=>(console.log(" LazyComponents.tsx: Loading CreateRankingPage"),Ot(()=>import("./CreateRankingPage-2t3zTbmZ.js"),__vite__mapDeps([13,6,14,9])).catch(e=>(console.error(" LazyComponents.tsx: Failed to load CreateRankingPage:",e),{default:()=>c.jsx("div",{children:"Error loading CreateRankingPage"})})))),_ie=m.lazy(()=>(console.log(" LazyComponents.tsx: STARTING to load UserRankingPage component"),Ot(()=>import("./UserRankingPage-C8WozFdu.js"),__vite__mapDeps([15,16,17,7,4,8])).then(e=>(console.log(" LazyComponents.tsx: UserRankingPage loaded SUCCESSFULLY - module:",e),console.log(" LazyComponents.tsx: UserRankingPage default export exists:",!!e.default),e)).catch(e=>(console.error(" LazyComponents.tsx: CRITICAL ERROR loading UserRankingPage:",e),console.error(" LazyComponents.tsx: Error details:",{message:e.message,stack:e.stack,name:e.name}),{default:()=>c.jsx("div",{className:"min-h-screen flex flex-col text-white",style:{background:"linear-gradient(135deg, #190749 0%, #070215 100%)"},children:c.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[c.jsx("h1",{className:"text-2xl font-bold text-red-400 mb-4",children:"UserRankingPage Load Error"}),c.jsx("p",{className:"text-gray-300 mb-4",children:"Failed to load the ranking page component."}),c.jsxs("p",{className:"text-sm text-gray-400",children:["Error: ",e.message]}),c.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Refresh Page"})]})})}))));m.lazy(()=>(console.log(" LazyComponents.tsx: Loading ComingSoonPage"),Ot(()=>import("./ComingSoonPage-BHkOC08E.js"),__vite__mapDeps([11,12])).catch(e=>(console.error(" LazyComponents.tsx: Failed to load ComingSoonPage:",e),{default:()=>c.jsx("div",{children:"Error loading ComingSoonPage"})}))));const xie=m.lazy(()=>Ot(()=>import("./UserProfilePage-CuIG37o4.js"),__vite__mapDeps([18,16,19,20,21,14,22])).catch(()=>({default:()=>c.jsx("div",{children:"Error loading page"})}))),wie=m.lazy(()=>Ot(()=>import("./PublicProfilePage-DMKdSibB.js"),__vite__mapDeps([23,20,21,14,22,16,24,25])).catch(()=>({default:()=>c.jsx("div",{children:"Error loading page"})}))),bie=m.lazy(()=>Ot(()=>import("./FeedPage-DgjZjwyy.js"),__vite__mapDeps([26,24,17,4,22,8])).catch(()=>({default:()=>c.jsx("div",{children:"Error loading page"})}))),Sie=m.lazy(()=>Ot(()=>import("./QuizPage-Dfu1LnFw.js"),__vite__mapDeps([27,28,22,21,14,25,8,3,29,19])).catch(()=>({default:()=>c.jsx("div",{children:"Error loading page"})}))),Eie=m.lazy(()=>Ot(()=>import("./ContactPage-CRP_hOII.js"),__vite__mapDeps([30,5])).catch(()=>({default:()=>c.jsx("div",{children:"Error loading page"})}))),kie=m.lazy(()=>Ot(()=>import("./GdprPage-ky4X5Yc5.js"),[]).catch(()=>({default:()=>c.jsx("div",{children:"Error loading page"})}))),Cie=m.lazy(()=>Ot(()=>import("./PrivacyPolicyPage-DWBOyhyB.js"),[]).catch(()=>({default:()=>c.jsx("div",{children:"Error loading page"})}))),Tie=m.lazy(()=>Ot(()=>import("./NotFound-Dqmoic93.js"),[]).catch(()=>({default:()=>c.jsx("div",{children:"Page not found"})}))),Nie=m.lazy(()=>Ot(()=>import("./UserManagementPage-s_BYNRJ7.js"),__vite__mapDeps([31,32])).catch(()=>({default:()=>c.jsx("div",{children:"Error loading page"})}))),Rie=m.lazy(()=>Ot(()=>import("./CreateQuizPage-CETgjiPQ.js"),__vite__mapDeps([33,34,16,12,28])).catch(()=>({default:()=>c.jsx("div",{children:"Error loading page"})}))),Aie=m.lazy(()=>Ot(()=>import("./NotificationsPage-BVJRjfPF.js"),[]).catch(()=>({default:()=>c.jsx("div",{children:"Error loading page"})}))),Iie=m.lazy(()=>Ot(()=>import("./AnalyticsDashboardPage-k_r6FEvA.js"),__vite__mapDeps([35,34,16,29,3,2,32,12])).catch(()=>({default:()=>c.jsx("div",{children:"Error loading page"})})));console.log("LazyComponents.tsx: All components exported");const jie=({children:e,routeName:t})=>(console.log(` DebugRouteWrapper: ROUTE RENDER - ${t} is being rendered at:`,window.location.pathname),console.log(" DebugRouteWrapper: ROUTE RENDER - Current URL params:",new URLSearchParams(window.location.search).toString()),console.log(" DebugRouteWrapper: ROUTE RENDER - Full URL:",window.location.href),console.log(` DebugRouteWrapper: ROUTE RENDER - Route name: ${t}`),c.jsx(c.Fragment,{children:e})),Pie=()=>c.jsxs(CU,{children:[c.jsx(Ht,{path:"/",element:c.jsx(gie,{})}),c.jsx(Ht,{path:"/category/:categoryId",element:c.jsx(yie,{})}),c.jsx(Ht,{path:"/create-ranking/:categoryId",element:c.jsx(vie,{})}),c.jsx(Ht,{path:"/ranking/:id",element:c.jsx(jie,{routeName:"UserRankingPage",children:c.jsxs("div",{children:[c.jsxs("div",{style:{display:"none"},children:[" Route matched: /ranking/:id at ",new Date().toISOString()]}),c.jsx(_ie,{})]})})}),c.jsx(Ht,{path:"/profile",element:c.jsx(xie,{})}),c.jsx(Ht,{path:"/users/:userId",element:c.jsx(wie,{})}),c.jsx(Ht,{path:"/quiz",element:c.jsx(Sie,{})}),c.jsx(Ht,{path:"/feed",element:c.jsx(bie,{})}),c.jsx(Ht,{path:"/notifications",element:c.jsx(Aie,{})}),c.jsx(Ht,{path:"/contact",element:c.jsx(Eie,{})}),c.jsx(Ht,{path:"/privacy-policy",element:c.jsx(Cie,{})}),c.jsx(Ht,{path:"/gdpr",element:c.jsx(kie,{})}),c.jsx(Ht,{path:"/admin/users",element:c.jsx(Nie,{})}),c.jsx(Ht,{path:"/admin/athletes",element:c.jsx(mie,{})}),c.jsx(Ht,{path:"/admin/comments",element:c.jsx(ese,{})}),c.jsx(Ht,{path:"/admin/create-quiz",element:c.jsx(Rie,{})}),c.jsx(Ht,{path:"/admin/analytics",element:c.jsx(Iie,{})}),c.jsx(Ht,{path:"/admin/quizzes/new",element:c.jsx(EU,{to:"/admin/create-quiz",replace:!0})}),c.jsx(Ht,{path:"*",element:c.jsx(Tie,{})})]});console.log("App.tsx: Starting to load");console.log("App.tsx: Supabase configured?",Mb);const Oie=new QZ({defaultOptions:{queries:{retry:1,staleTime:5*60*1e3,refetchOnWindowFocus:!1}}});console.log("App.tsx: QueryClient created");function Mie(){return console.log("App.tsx: App component rendering"),Mb?(console.log("App.tsx: About to render main app structure"),c.jsx(Xne,{children:c.jsx(NS,{children:c.jsx(tJ,{client:Oie,children:c.jsx(PU,{children:c.jsxs(_G,{children:[c.jsxs("div",{className:"min-h-screen bg-gray-900",children:[c.jsx(Bte,{}),c.jsx("main",{className:"flex-1",children:c.jsx(m.Suspense,{fallback:c.jsx(Zne,{}),children:c.jsx(Pie,{})})}),c.jsx(Hte,{})]}),c.jsx(pre,{}),c.jsx(vne,{})]})})})})})):(console.error("App.tsx: Supabase not configured"),c.jsx("div",{className:"flex h-screen items-center justify-center bg-gray-900 text-white",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Supabase Not Configured"}),c.jsx("p",{children:"Please check your Supabase integration settings."})]})}))}console.log("App.tsx: App component defined");console.log("main.tsx: Starting application initialization");G7({dsn:"https://25839b27189d7e884d917cf967d45a2b@o4509554939527168.ingest.de.sentry.io/4509558829219920",environment:"production",enabled:!0,integrations:[H7(),S7({maskAllText:!1,blockAllMedia:!1})],tracesSampleRate:1,tracePropagationTargets:["localhost",/^https:\/\/yourserver\.io\/api/],replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1,beforeSend(e,t){console.log("Sentry beforeSend called with event:",e);const n=t.originalException;if(n&&typeof n=="object"){const r=n.toString();if(r.includes("This is your first error!"))return console.log("Sentry: Allowing test error through"),e;if(r.includes("ERR_BLOCKED_BY_CLIENT")||r.includes("ERR_FAILED")||r.includes("ERR_NETWORK_CHANGED")||r.includes("chrome-extension")||r.includes("Failed to load resource")||r.includes("sandbox")||r.includes("lovableproject.com")||r.includes("WebSocket connection")||r.includes("NetworkError"))return console.log("Sentry: Filtering out external error:",r),null}return console.log("Sentry: Sending event to Sentry"),e}});console.log("Sentry initialized successfully");console.log("main.tsx: About to render app");oA(document.getElementById("root")).render(c.jsx(NS,{children:c.jsx(Mie,{})}));console.log("main.tsx: App render initiated");export{Kb as $,Xf as A,Be as B,QX as C,rf as D,rM as E,iZ as F,pae as G,Gne as H,Ft as I,ye as J,Hte as K,Tt as L,yZ as M,KX as N,Jr as O,aM as P,du as Q,z as R,jm as S,uM as T,cy as U,he as V,te as W,il as X,wn as Y,Fe as Z,Vf as _,Qs as a,bd as a$,Yb as a0,Gs as a1,Gb as a2,dM as a3,_s as a4,qX as a5,sZ as a6,oM as a7,Kx as a8,iS as a9,oae as aA,qr as aB,WS as aC,zr as aD,j2 as aE,G2 as aF,cn as aG,Jt as aH,Lt as aI,en as aJ,yn as aK,O2 as aL,Rf as aM,fM as aN,hM as aO,aS as aP,fx as aQ,hx as aR,NZ as aS,Op as aT,dae as aU,cM as aV,gd as aW,yd as aX,_d as aY,xd as aZ,vd as a_,EU as aa,Zt as ab,Ot as ac,mZ as ad,cZ as ae,$te as af,vG as ag,vr as ah,sM as ai,pZ as aj,nh as ak,pu as al,mu as am,gu as an,sh as ao,Jh as ap,YS as aq,rZ as ar,tse as as,Dc as at,nZ as au,Fte as av,fZ as aw,Ute as ax,eL as ay,kP as az,fA as b,wd as b0,Vm as b1,ZX as b2,Wm as b3,qm as b4,Sy as b5,Ey as b6,Vs as b7,St as b8,ky as b9,bZ as bA,Kr as bB,vn as bC,$J as bD,nT as bE,eae as bF,BJ as bG,GJ as bH,HJ as bI,Ree as bJ,lS as bK,sS as bL,tae as bM,lae as bN,ht as ba,cae as bb,aZ as bc,AJ as bd,IJ as be,YM as bf,Hi as bg,$o as bh,Vi as bi,Uo as bj,Wt as bk,ps as bl,hae as bm,JX as bn,eZ as bo,xS as bp,Vb as bq,dy as br,Hf as bs,JP as bt,eO as bu,wte as bv,rae as bw,nae as bx,_P as by,Vc as bz,ge as c,lM as d,eo as e,Lie as f,Zf as g,o0 as h,Jf as i,c as j,Pt as k,Et as l,Xt as m,kt as n,Fc as o,zU as p,XM as q,m as r,Ge as s,XX as t,Ir as u,gy as v,nc as w,uZ as x,_Z as y,ne as z};
